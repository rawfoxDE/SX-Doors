
;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 1


;Line#  Block                                  Source
;  1          /*
;  2
;  3          SXVIEW (VIEWER)
;  4
;  5
;  6
;  7          //static const char __version[] = "\0$VER: SXVIEW 1.0 ("__DATE__")";
;  8          */
;  9
; 10       0  #include <time.h>
;===> Including file "sc:include/time.h"
;  1.001      /* Copyright (c) 1992-1993 SAS Institute, Inc., Cary, NC USA */
;  1.002      /* All Rights Reserved */
;  1.003
;  1.004   0  #ifndef _TIME_H
;  1.005   0  #define _TIME_H 1
;  1.006
;  1.007   0  #ifndef _COMMNULL_H
;  1.008   0  #include <sys/commnull.h>
;===> Including file "sc:include/sys/commnull.h"
;  2.001      /* Copyright (c) 1993 SAS Institute, Inc., Cary, NC USA */
;  2.002      /* All Rights Reserved */
;  2.003
;  2.004      /* This header file contains common preprocessor symbol   */
;  2.005      /* definitions that were previously duplicated throughout */
;  2.006      /* the header files. Those definitions were moved here    */
;  2.007      /* and replaced with a #include of this header file.      */
;  2.008      /* This was done to purify the header files for GST       */
;  2.009      /* processing.                                            */
;  2.010
;  2.011   0  #ifndef NULL
;  2.012   0  #define NULL  0L
;  2.013   0  #endif
;  1.009   0  #endif
;  1.010
;  1.011   0  #ifndef _COMMSIZE_H
;  1.012   0  #include <sys/commsize.h>
;===> Including file "sc:include/sys/commsize.h"
;  3.001      /* Copyright (c) 1993 SAS Institute, Inc., Cary, NC USA */
;  3.002      /* All Rights Reserved */
;  3.003
;  3.004      /* This header file contains common preprocessor symbol   */
;  3.005      /* definitions that were previously duplicated throughout */
;  3.006      /* the header files. Those definitions were moved here    */
;  3.007      /* and replaced with a #include of this header file.      */
;  3.008      /* This was done to purify the header files for GST       */
;  3.009      /* processing.                                            */
;  3.010
;  3.011   0  #ifndef _SIZE_T
;  3.012   0  #define _SIZE_T 1

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 2


;Line#  Block                                  Source
;  3.013   0  typedef unsigned int size_t;
;  3.014   0  #endif
;  1.013   0  #endif
;  1.014
;  1.015   0  #ifndef _COMMTIME_H
;  1.016   0  #include <sys/commtime.h>
;===> Including file "sc:include/sys/commtime.h"
;  4.001      /* Copyright (c) 1993 SAS Institute, Inc., Cary, NC USA */
;  4.002      /* All Rights Reserved */
;  4.003
;  4.004      /* This header file contains common preprocessor symbol   */
;  4.005      /* definitions that were previously duplicated throughout */
;  4.006      /* the header files. Those definitions were moved here    */
;  4.007      /* and replaced with a #include of this header file.      */
;  4.008      /* This was done to purify the header files for GST       */
;  4.009      /* processing.                                            */
;  4.010
;  4.011   0  #ifndef _TIME_T
;  4.012   0  #define _TIME_T 1
;  4.013   0  typedef long time_t;
;  4.014   0  #endif
;  1.017   0  #endif
;  1.018
;  1.019   0  #define CLOCKS_PER_SEC  1000
;  1.020   0  #define CLK_TCK  CLOCKS_PER_SEC
;  1.021
;  1.022   0  typedef unsigned long clock_t;
;  1.023
;  1.024      /**
;  1.025      *
;  1.026      * This structure contains the unpacked time as returned by "gmtime".
;  1.027      *
;  1.028      */
;  1.029
;  1.030   0  struct tm {
;  1.031   0      int tm_sec;      /* seconds after the minute */
;  1.032   0      int tm_min;          /* minutes after the hour */
;  1.033   0      int tm_hour;         /* hours since midnight */
;  1.034   0      int tm_mday;         /* day of the month */
;  1.035   0      int tm_mon;          /* months since January */
;  1.036   0      int tm_year;         /* years since 1900 */
;  1.037   0      int tm_wday;         /* days since Sunday */
;  1.038   0      int tm_yday;         /* days since January 1 */
;  1.039   0      int tm_isdst;        /* Daylight Savings Time flag */
;  1.040   0  };
;  1.041
;  1.042
;  1.043      /***
;  1.044      *
;  1.045      *     ANSI time functions.

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 3


;Line#  Block                                  Source
;  1.046      *
;  1.047      ***/
;  1.048
;  1.049   0  extern clock_t clock(void);
;  1.050   0  extern double difftime(time_t, time_t);
;  1.051   0  extern time_t mktime(struct tm *);
;  1.052   0  extern time_t time(time_t *);
;  1.053
;  1.054   0  extern char *asctime(const struct tm *);
;  1.055   0  extern char *ctime(const time_t *);
;  1.056   0  extern struct tm *gmtime(const time_t *);
;  1.057   0  extern struct tm *localtime(const time_t *);
;  1.058   0  extern size_t strftime(char *, size_t, const char *, const struct tm *);
;  1.059
;  1.060
;  1.061   0  #ifndef _STRICT_ANSI
;  1.062
;  1.063      /***
;  1.064      *
;  1.065      *     SAS time functions
;  1.066      *
;  1.067      ***/
;  1.068
;  1.069   0  void getclk(unsigned char *);
;  1.070   0  int  chgclk(const unsigned char *);
;  1.071
;  1.072   0  void utunpk(long, char *);
;  1.073   0  long utpack(const char *);
;  1.074   0  int timer(unsigned int *);
;  1.075   0  int datecmp(const struct DateStamp *, const struct DateStamp *);
;  1.076
;  1.077   0  time_t __datecvt(const struct DateStamp *);
;  1.078   0  struct DateStamp *__timecvt(time_t);
;  1.079
;  1.080      /* for UNIX compatibility */
;  1.081   0  extern void      __tzset(void);
;  1.082   0  #define timezone __timezone
;  1.083   0  #define tzname   __tzname
;  1.084   0  #define daylight __daylight
;  1.085   0  #define tzset    __tzset
;  1.086
;  1.087
;  1.088   0  #define TZ  "CST6"      /* Used if TZ env. var. is not set */
;  1.089   0  #define DAY0  4         /* Jan 1, 1970 is a Thursday */
;  1.090
;  1.091   0  #endif /* _STRICT_ANSI */
;  1.092
;  1.093      /***
;  1.094      *     SAS external variables
;  1.095      ***/

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 4


;Line#  Block                                  Source
;  1.096
;  1.097   0  extern int  __daylight;
;  1.098   0  extern long __timezone;
;  1.099   0  extern char *__tzname[2];
;  1.100   0  extern char __tzstn[4];
;  1.101   0  extern char __tzdtn[4];
;  1.102   0  extern char *_TZ;
;  1.103
;  1.104
;  1.105   0  #endif
; 11       0  #include <stdio.h>
;===> Including file "sc:include/stdio.h"
;  5.001      /* Copyright (c) 1992-1993 SAS Institute, Inc., Cary, NC USA */
;  5.002      /* All Rights Reserved */
;  5.003
;  5.004
;  5.005   0  #ifndef _STDIO_H
;  5.006   0  #define _STDIO_H 1
;  5.007
;  5.008   0  #ifndef _COMMSIZE_H
;  5.009   0  #include <sys/commsize.h>
;  5.010   0  #endif
;  5.011
;  5.012   0  #ifndef _COMMLIST_H
;  5.013   0  #include <sys/commlist.h>
;===> Including file "sc:include/sys/commlist.h"
;  6.001      /* Copyright (c) 1993 SAS Institute, Inc., Cary, NC USA */
;  6.002      /* All Rights Reserved */
;  6.003
;  6.004      /* This header file contains common preprocessor symbol   */
;  6.005      /* definitions that were previously duplicated throughout */
;  6.006      /* the header files. Those definitions were moved here    */
;  6.007      /* and replaced with a #include of this header file.      */
;  6.008      /* This was done to purify the header files for GST       */
;  6.009      /* processing.                                            */
;  6.010
;  6.011   0  #ifndef _VA_LIST
;  6.012   0  #define _VA_LIST 1
;  6.013   0  typedef char *va_list;
;  6.014   0  #endif
;  5.014   0  #endif
;  5.015
;  5.016   0  typedef unsigned long fpos_t;
;  5.017
;  5.018   0  #ifndef _COMMNULL_H
;  5.019   0  #include <sys/commnull.h>
;  5.020   0  #endif
;  5.021
;  5.022      /**
;  5.023      *

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 5


;Line#  Block                                  Source
;  5.024      * Definitions associated with __iobuf._flag
;  5.025      *
;  5.026      **/
;  5.027
;  5.028   0  #define _IOFBF   0		/* fully buffered (for setvbuf) */
;  5.029   0  #define _IOREAD  1		/* read flag */
;  5.030   0  #define _IOWRT   2		/* write flag */
;  5.031   0  #define _IONBF   4		/* non-buffered flag */
;  5.032   0  #define _IOMYBUF 8		/* private buffer flag */
;  5.033   0  #define _IOEOF   16		/* end-of-file flag */
;  5.034   0  #define _IOERR   32		/* error flag */
;  5.035   0  #define _IOLBF   64		/* line-buffered flag */
;  5.036   0  #define _IORW    128		/* read-write (update) flag */
;  5.037   0  #define _IOUNGET 0x1000         /* unget was used since last seek */
;  5.038   0  #define _IORKEY  0x2000         /* raw console I/O flag */
;  5.039   0  #define _IOAPP   0x4000		/* append flag */
;  5.040   0  #define _IOXLAT  0x8000		/* translation flag */
;  5.041
;  5.042   0  #define BUFSIZ 512		/* standard buffer size */
;  5.043   0  #define EOF (-1)		/* end-of-file code */
;  5.044   0  #define FOPEN_MAX 20            /* maximum number of open files */
;  5.045   0  #define FILENAME_MAX  64        /* maximum filename length */
;  5.046   0  #define L_tmpnam 64             /* maximum tmpnam filename length */
;  5.047
;  5.048   0  #define SEEK_SET 0              /* Seek from beginning of file */
;  5.049   0  #define SEEK_CUR 1              /* Seek from current file position */
;  5.050   0  #define SEEK_END 2              /* Seek from end of file */
;  5.051
;  5.052   0  #define TMP_MAX 999             /* Guaranteed unique temp names */
;  5.053
;  5.054   0  struct __iobuf {
;  5.055   0      struct __iobuf *_next;
;  5.056   0      unsigned char *_ptr;	/* current buffer pointer */
;  5.057   0      int _rcnt;		        /* current byte count for reading */
;  5.058   0      int _wcnt;		        /* current byte count for writing */
;  5.059   0      unsigned char *_base;	/* base address of I/O buffer */
;  5.060   0      int _size;			/* size of buffer */
;  5.061   0      int _flag;	        	/* control flags */
;  5.062   0      int _file;		        /* file descriptor */
;  5.063   0      unsigned char _cbuff;	/* single char buffer */
;  5.064   0  };
;  5.065
;  5.066   0  typedef struct __iobuf FILE;
;  5.067
;  5.068   0  extern struct __iobuf __iob[];
;  5.069
;  5.070   0  #define stdin (&__iob[0])	/* standard input file pointer */
;  5.071   0  #define stdout (&__iob[1])	/* standard output file pointer */
;  5.072   0  #define stderr (&__iob[2])	/* standard error file pointer */
;  5.073

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 6


;Line#  Block                                  Source
;  5.074
;  5.075      /***
;  5.076      *
;  5.077      *     Prototypes for ANSI standard functions.
;  5.078      *
;  5.079      ***/
;  5.080
;  5.081
;  5.082   0  extern int remove(const char *);
;  5.083   0  extern int rename(const char *, const char *);
;  5.084   0  extern FILE *tmpfile(void);
;  5.085   0  extern char *tmpnam(char *s);
;  5.086
;  5.087   0  extern int fclose(FILE *);
;  5.088   0  extern int fflush(FILE *);
;  5.089   0  extern FILE *fopen(const char *, const char *);
;  5.090   0  extern FILE *freopen(const char *, const char *, FILE *);
;  5.091   0  extern void setbuf(FILE *, char *);
;  5.092   0  extern int setvbuf(FILE *, char *, int, size_t);
;  5.093
;  5.094   0  extern int fprintf(FILE *, const char *, ...);
;  5.095   0  extern int fscanf(FILE *, const char *, ...);
;  5.096   0  extern int printf(const char *, ...);
;  5.097   0  extern int __builtin_printf(const char *, ...);
;  5.098   0  extern int scanf(const char *, ...);
;  5.099   0  extern int sprintf(char *, const char *, ...);
;  5.100   0  extern int sscanf(const char *, const char *, ...);
;  5.101   0  extern int vfprintf(FILE *, const char *, va_list);
;  5.102   0  extern int vprintf(const char *, va_list);
;  5.103   0  extern int vsprintf(char *, const char *, va_list);
;  5.104
;  5.105   0  extern int fgetc(FILE *);
;  5.106   0  extern char *fgets(char *, int, FILE *);
;  5.107   0  extern int fputc(int, FILE *);
;  5.108   0  extern int fputs(const char *, FILE *);
;  5.109   0  extern int getc(FILE *);
;  5.117   0              fgetc(p))
;  5.118   0  extern int getchar(void);
;  5.119   0  #define getchar() getc(stdin)
;  5.120   0  extern char *gets(char *);
;  5.121   0  extern int putc(int, FILE *);
;  5.122
;  5.123   0  #ifdef _USE_DIRTY_PUTC
;  5.124      /* this putc macro evaluates the charater expression multiple time */
;  5.125      /* which is a violation of the ANSI standard. */
;  5.137                   fputc(c,p))
;  5.138      #endif
;  5.139
;  5.140
;  5.141   0  extern int putchar(int);

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 7


;Line#  Block                                  Source
;  5.142   0  #define putchar(c) putc(c,stdout)
;  5.143   0  extern int puts(const char *);
;  5.144   0  extern int ungetc(int, FILE *);
;  5.145
;  5.146   0  extern size_t fread(void *, size_t, size_t, FILE *);
;  5.147   0  extern size_t fwrite(const void *, size_t, size_t, FILE *);
;  5.148   0  extern int fgetpos(FILE *, fpos_t *);
;  5.149   0  extern int fseek(FILE *, long int, int);
;  5.150   0  extern int fsetpos(FILE *, const fpos_t *);
;  5.151   0  extern long int ftell(FILE *);
;  5.152   0  extern void rewind(FILE *);
;  5.153   0  #define rewind(p) fseek(p, 0L, 0)
;  5.154
;  5.155   0  extern void clearerr(FILE *);
;  5.156   0  #define clearerr(p) ((p)->_flag &= ~(_IOERR | _IOEOF))
;  5.157   0  extern int feof(FILE *);
;  5.158   0  #define feof(p) (((p)->_flag & _IOEOF) != 0)
;  5.159   0  extern int ferror(FILE *);
;  5.160   0  #define ferror(p) (((p)->_flag & _IOERR) != 0)
;  5.161   0  extern void perror(const char *);
;  5.162
;  5.163   0  #define printf __builtin_printf
;  5.164
;  5.165   0  #ifndef _STRICT_ANSI
;  5.166
;  5.167      /* defines for mode of access() */
;  5.168   0  #define R_OK 4
;  5.169   0  #define W_OK 2
;  5.170   0  #define X_OK 1
;  5.171   0  #define F_OK 0
;  5.172
;  5.173      /***
;  5.174      *
;  5.175      *     Prototypes for Non-ANSI functions.
;  5.176      *
;  5.177      ***/
;  5.178
;  5.179   0  extern int __io2errno(int);
;  5.180   0  extern int fcloseall(void);
;  5.181   0  extern FILE *fdopen(int, const char *);
;  5.182   0  extern int fhopen(long, int);
;  5.183   0  extern int fgetchar(void);
;  5.184   0  extern int fileno(FILE *);
;  5.185   0  extern int flushall(void);
;  5.186   0  extern void fmode(FILE *, int);
;  5.187   0  extern int _writes(const char *, ...);
;  5.188   0  extern int _tinyprintf(char *, ...);
;  5.189   0  extern int fputchar(int);
;  5.190   0  extern void setnbf(FILE *);
;  5.191   0  extern int __fillbuff(FILE *);

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 8


;Line#  Block                                  Source
;  5.192   0  extern int __flushbuff(int, FILE *);
;  5.193   0  extern int __access(const char *, int);
;  5.194   0  extern int access(const char *, int);
;  5.195   0  extern int chdir(const char *);
;  5.196   0  extern int chmod(const char *, int);
;  5.197   0  extern char *getcwd(char *, int);
;  5.198   0  extern int unlink(const char *);
;  5.199   0  extern int poserr(const char *);
;  5.200
;  5.201   0  #define  clrerr  clearerr
;  5.202   0  #define  access  __access
;  5.203   0  #define  _filbf  __fillbuff
;  5.204   0  #define  fileno(p) ((p)->_file)
;  5.205   0  #define  _flsbf  __flushbuff
;  5.206
;  5.207
;  5.208      /***
;  5.209      *
;  5.210      *     The following routines allow for raw console I/O.
;  5.211      *
;  5.212      ***/
;  5.213
;  5.214   0  int rawcon(int);
;  5.215   0  int getch(void);
;  5.216
;  5.217   0  #endif /* _STRICT_ANSI */
;  5.218
;  5.219   0  extern unsigned long __fmask;
;  5.220   0  extern int __fmode;
;  5.221
;  5.222   0  #endif
; 12       0  #include <string.h>
;===> Including file "sc:include/string.h"
;  7.001      /* Copyright (c) 1992-1993 SAS Institute, Inc., Cary, NC USA */
;  7.002      /* All Rights Reserved */
;  7.003
;  7.004   0  #ifndef _STRING_H
;  7.005   0  #define _STRING_H 1
;  7.006
;  7.007   0  #ifndef _COMMSIZE_H
;  7.008   0  #include <sys/commsize.h>
;  7.009   0  #endif
;  7.010
;  7.011   0  #ifndef _COMMNULL_H
;  7.012   0  #include <sys/commnull.h>
;  7.013   0  #endif
;  7.014
;  7.015      /***
;  7.016      *
;  7.017      *     ANSI copying functions

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 9


;Line#  Block                                  Source
;  7.018      *
;  7.019      ***/
;  7.020
;  7.021   0  extern void *memcpy(void *, const void *, size_t);
;  7.022   0  extern void *memmove(void *, const void *, size_t);
;  7.023   0  extern char *strcpy(char *, const char *);
;  7.024   0  extern char *strncpy(char *, const char *, size_t);
;  7.025
;  7.026
;  7.027      /***
;  7.028      *
;  7.029      *     ANSI concatenation functions
;  7.030      *
;  7.031      ***/
;  7.032
;  7.033   0  extern char *strcat(char *, const char *);
;  7.034   0  extern char *strncat(char *, const char *, size_t);
;  7.035
;  7.036
;  7.037      /***
;  7.038      *
;  7.039      *     ANSI comparison functions
;  7.040      *
;  7.041      ***/
;  7.042
;  7.043   0  extern int memcmp(const void *, const void *, size_t);
;  7.044   0  extern int strcmp(const char *, const char *);
;  7.045   0  extern int strcoll(const char *, const char *);
;  7.046   0  extern int strncmp(const char *, const char *, size_t);
;  7.047   0  extern size_t strxfrm(char *, const char *, size_t);
;  7.048
;  7.049
;  7.050      /***
;  7.051      *
;  7.052      *     ANSI search functions
;  7.053      *
;  7.054      ***/
;  7.055
;  7.056   0  extern void *memchr(const void *, int, size_t);
;  7.057   0  extern char *strchr(const char *, int);
;  7.058   0  extern size_t strcspn(const char *, const char *);
;  7.059   0  extern char *strpbrk(const char *, const char *);
;  7.060   0  extern char *strrchr(const char *, int);
;  7.061   0  extern size_t strspn(const char *, const char *);
;  7.062   0  extern char *strstr(const char *, const char *);
;  7.063   0  extern char *strtok(char *, const char *);
;  7.064
;  7.065
;  7.066      /***
;  7.067      *

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 10


;Line#  Block                                  Source
;  7.068      *     ANSI miscellaneous functions
;  7.069      *
;  7.070      ***/
;  7.071
;  7.072   0  extern void *memset(void *, int, size_t);
;  7.073   0  extern char *strerror(int);
;  7.074   0  extern size_t strlen(const char *);
;  7.075
;  7.076   0  #ifndef _STRICT_ANSI
;  7.077
;  7.078      /***
;  7.079      *
;  7.080      *     SAS string and memory functions.
;  7.081      *
;  7.082      ***/
;  7.083
;  7.084   0  extern int stcarg(const char *, const char *);
;  7.085   0  extern int stccpy(char *, const char *, int);
;  7.086   0  extern int stcgfe(char *, const char *);
;  7.087   0  extern int stcgfn(char *, const char *);
;  7.088   0  extern int stcis(const char *, const char *);
;  7.089   0  extern int stcisn(const char *, const char *);
;  7.090   0  extern int __stcd_i(const char *, int *);
;  7.091   0  extern int __stcd_l(const char *, long *);
;  7.092   0  extern int stch_i(const char *, int *);
;  7.093   0  extern int stch_l(const char *, long *);
;  7.094   0  extern int stci_d(char *, int);
;  7.095   0  extern int stci_h(char *, int);
;  7.096   0  extern int stci_o(char *, int);
;  7.097   0  extern int stcl_d(char *, long);
;  7.098   0  extern int __stcl_h(char *, long);
;  7.099   0  extern int __stcl_o(char *, long);
;  7.100   0  extern int stco_i(const char *, int *);
;  7.101   0  extern int stco_l(const char *, long *);
;  7.102   0  extern int stcpm(const char *, const char *, char **);
;  7.103   0  extern int stcpma(const char *, const char *);
;  7.104   0  extern int stcsma(const char *, const char *);
;  7.105   0  extern int astcsma(const char *, const char *);
;  7.106   0  extern int stcu_d(char *, unsigned);
;  7.107   0  extern int __stcul_d(char *, unsigned long);
;  7.108
;  7.109   0  #define stclen(a) strlen(a)
;  7.110
;  7.111   0  extern char *stpblk(const char *);
;  7.112   0  extern char *stpbrk(const char *, const char *);
;  7.113   0  extern char *stpchr(const char *, int);
;  7.114   0  extern char *stpcpy(char *, const char *);
;  7.115   0  extern char *__stpcpy(char *, const char *);
;  7.116   0  extern char *stpdate(char *, int, const char *);
;  7.117   0  extern char *stpsym(const char *, char *, int);

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 11


;Line#  Block                                  Source
;  7.118   0  extern char *stptime(char *, int, const char *);
;  7.119   0  extern char *stptok(const char *, char *, int, const char *);
;  7.120
;  7.121   0  extern int strbpl(char **, int, const char *);
;  7.122   0  extern int stricmp(const char *, const char *);
;  7.123   0  extern char *strdup(const char *);
;  7.124   0  extern void strins(char *, const char *);
;  7.125   0  extern int strmid(const char *, char *, int, int);
;  7.126   0  extern char *__strlwr(char *);
;  7.127   0  extern void strmfe(char *, const char *, const char *);
;  7.128   0  extern void strmfn(char *, const char *, const char *, const char *,
;  7.129   0                     const char *);
;  7.130   0  extern void strmfp(char *, const char *, const char *);
;  7.131   0  extern int strnicmp(const char *, const char *, size_t);
;  7.132   0  extern char *strnset(char *, int, int);
;  7.133
;  7.134   0  extern char *stpchrn(const char *, int);
;  7.135   0  extern char *strrev(char *);
;  7.136   0  extern char *strset(char *, int);
;  7.137   0  extern void strsfn(const char *, char *, char *, char *, char *);
;  7.138   0  extern char *__strupr(char *);
;  7.139   0  extern int stspfp(char *, int *);
;  7.140   0  extern void strsrt(char *[], int);
;  7.141
;  7.142   0  extern int stcgfp(char *, const char *);
;  7.143
;  7.144   0  #define strcmpi stricmp		/* For Microsoft compatibility */
;  7.145   0  #define strlwr  __strlwr
;  7.146   0  #define strupr  __strupr
;  7.147   0  #define stcd_i __stcd_i
;  7.148   0  #define stcd_l __stcd_l
;  7.149   0  #define stcl_h __stcl_h
;  7.150   0  #define stcl_o __stcl_o
;  7.151   0  #define stcul_d __stcul_d
;  7.152   0  #define stpcpy __stpcpy
;  7.153
;  7.154   0  extern void *memccpy(void *, const void *, int, unsigned);
;  7.155   0  extern void movmem(const void *, void *, unsigned);
;  7.156   0  extern void repmem(void *, const void *, size_t, size_t);
;  7.157   0  extern void setmem(void *, unsigned, int);
;  7.158   0  extern void __swmem(void *, void *, unsigned);
;  7.159   0  #define swmem  __swmem
;  7.160
;  7.161      /* for BSD compatibility */
;  7.162   0  #ifndef __cplusplus
;  7.163   0  #define index(a,b) strchr(a,b)
;  7.164   0  #endif
;  7.165   0  #define rindex(a,b) strrchr(a,b)
;  7.166   0  #define bcopy(a,b,c) memmove(b,a,c)
;  7.167   0  #define bcmp(a,b,c) memcmp(a,b,c)

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 12


;Line#  Block                                  Source
;  7.168   0  #define bzero(a,b) memset(a,0,b)
;  7.169
;  7.170   0  #endif /* _STRICT_ANSI */
;  7.171
;  7.172      /**
;  7.173      *
;  7.174      * Builtin function definitions
;  7.175      *
;  7.176      **/
;  7.177
;  7.178   0  extern size_t  __builtin_strlen(const char *);
;  7.179   0  extern int     __builtin_strcmp(const char *, const char *);
;  7.180   0  extern char   *__builtin_strcpy(char *, const char *);
;  7.181
;  7.182   0  extern void   *__builtin_memset(void *, int, size_t);
;  7.183   0  extern int     __builtin_memcmp(const void *, const void *, size_t);
;  7.184   0  extern void   *__builtin_memcpy(void *, const void *, size_t);
;  7.185
;  7.186   0  extern int __builtin_max(int, int);
;  7.187   0  extern int __builtin_min(int, int);
;  7.188   0  extern int __builtin_abs(int);
;  7.189
;  7.190   0  #ifdef USE_BUILTIN_MATH
;  7.191      /* if you want the builtin versions of abs(), max(), and min() */
;  7.192      /* define USE_BUITLIN_MATH, and #include this file BEFORE math.h */
;  7.193
;  7.194      #ifndef __cplusplus
;  7.195
;  7.196      #ifndef max
;  7.197      #define max(a,b) __builtin_max(a,b)
;  7.198      #endif
;  7.199
;  7.200      #ifndef min
;  7.201      #define min(a,b) __builtin_min(a,b)
;  7.202      #endif
;  7.203
;  7.204      #ifndef abs
;  7.205      #define abs(a) __builtin_abs(a)
;  7.206      #endif
;  7.207
;  7.208      #endif
;  7.209
;  7.210      #endif
;  7.211
;  7.212   0  #define strlen(a)   __builtin_strlen(a)
;  7.213   0  #define strcmp(a,b) __builtin_strcmp(a,b)
;  7.214   0  #define strcpy(a,b) __builtin_strcpy(a,b)
;  7.215
;  7.216   0  #define memset(a,b,c) __builtin_memset(a,b,c)
;  7.217   0  #define memcmp(a,b,c) __builtin_memcmp(a,b,c)

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 13


;Line#  Block                                  Source
;  7.218   0  #define memcpy(a,b,c) __builtin_memcpy(a,b,c)
;  7.219
;  7.220
;  7.221   0  #endif
; 13       0  #include <stdlib.h>
;===> Including file "sc:include/stdlib.h"
;  8.001      /* Copyright (c) 1992-1993 SAS Institute, Inc., Cary, NC USA */
;  8.002      /* All Rights Reserved */
;  8.003
;  8.004
;  8.005   0  #ifndef _STDLIB_H
;  8.006   0  #define _STDLIB_H 1
;  8.007
;  8.008   0  #ifndef _COMMSIZE_H
;  8.009   0  #include <sys/commsize.h>
;  8.010   0  #endif
;  8.011
;  8.012   0  #ifndef _COMMCHAR_H
;  8.013   0  #include <sys/commchar.h>
;===> Including file "sc:include/sys/commchar.h"
;  9.001      /* Copyright (c) 1993 SAS Institute, Inc., Cary, NC USA */
;  9.002      /* All Rights Reserved */
;  9.003
;  9.004      /* This header file contains common preprocessor symbol   */
;  9.005      /* definitions that were previously duplicated throughout */
;  9.006      /* the header files. Those definitions were moved here    */
;  9.007      /* and replaced with a #include of this header file.      */
;  9.008      /* This was done to purify the header files for GST       */
;  9.009      /* processing.                                            */
;  9.010
;  9.011   0  #ifndef _WCHAR_T
;  9.012   0  #define _WCHAR_T 1
;  9.013   0  typedef char wchar_t;
;  9.014   0  #endif
;  8.014   0  #endif
;  8.015
;  8.016   0  #ifndef _COMMNULL_H
;  8.017   0  #include <sys/commnull.h>
;  8.018   0  #endif
;  8.019
;  8.020   0  typedef struct {
;  8.021   0              int quot;
;  8.022   0              int rem;
;  8.023   0          } div_t;
;  8.024
;  8.025   0  typedef struct {
;  8.026   0              long int quot;
;  8.027   0              long int rem;
;  8.028   0          } ldiv_t;
;  8.029

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 14


;Line#  Block                                  Source
;  8.030   0  #define EXIT_SUCCESS 0
;  8.031   0  #define EXIT_FAILURE 20
;  8.032
;  8.033   0  #ifdef _SHORTINT
;  8.034      #define RAND_MAX   32767
;  8.035      #else
;  8.036   0  #define RAND_MAX   2147483647
;  8.037   0  #endif
;  8.038
;  8.039   0  #define MB_CUR_MAX  __mb_cur_max
;  8.040   0  extern char __mb_cur_max;
;  8.041
;  8.042   0  extern double atof(const char *);
;  8.043   0  extern int atoi(const char *);
;  8.044   0  extern long int atol(const char *);
;  8.045
;  8.046   0  extern double strtod(const char *, char **);
;  8.047   0  extern long int strtol(const char *, char **, int);
;  8.048   0  extern unsigned long int strtoul(const char *, char **, int);
;  8.049
;  8.050
;  8.051   0  extern int rand(void);
;  8.052   0  extern void srand(unsigned int);
;  8.053
;  8.054
;  8.055      /***
;  8.056      *
;  8.057      *     ANSI memory management functions
;  8.058      *
;  8.059      ***/
;  8.060
;  8.061   0  extern void *calloc(size_t, size_t);
;  8.062   0  extern void free(void *);
;  8.063   0  extern void *malloc(size_t);
;  8.064   0  extern void *realloc(void *, size_t);
;  8.065
;  8.066   0  #ifndef _STRICT_ANSI
;  8.067   0  extern void *halloc(unsigned long);              /*  Extension  */
;  8.068   0  extern void *__halloc(unsigned long);            /*  Extension  */
;  8.069   0  #endif /* _STRICT_ANSI */
;  8.070
;  8.071
;  8.072      /***
;  8.073      *
;  8.074      *     ANSI environment functions
;  8.075      *
;  8.076      ***/
;  8.077
;  8.078   0  extern void abort(void);
;  8.079   0  extern int atexit(void (*)(void));

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 15


;Line#  Block                                  Source
;  8.080   0  extern void exit(int);
;  8.081   0  extern char *__getenv(const char *);
;  8.082   0  extern char *getenv(const char *);
;  8.083   0  #define getenv __getenv
;  8.084   0  extern int system(const char *);
;  8.085
;  8.086
;  8.087      /***
;  8.088      *
;  8.089      *     ANSI searching and sorting functions
;  8.090      *
;  8.091      ***/
;  8.092
;  8.093   0  extern void *bsearch(const void *, const void *, size_t, size_t,
;  8.094   0                       int (*)(const void *, const void *));
;  8.095   0  extern void qsort(void *, size_t, size_t, int (*)(const void *, const void *));
;  8.096
;  8.097
;  8.098      /***
;  8.099      *
;  8.100      *     ANSI integer arithmetic functions
;  8.101      *
;  8.102      ***/
;  8.103   0  #ifndef __cplusplus
;  8.104   0  extern int abs(int);
;  8.105   0  #endif
;  8.106   0  extern div_t div(int, int);
;  8.107   0  extern long int labs(long int);
;  8.108   0  extern ldiv_t ldiv(long int, long int);
;  8.109
;  8.110
;  8.111      /***
;  8.112      *
;  8.113      *     ANSI multibyte character functions
;  8.114      *
;  8.115      ***/
;  8.116
;  8.117   0  extern int mblen(const char *, size_t);
;  8.118   0  extern int mbtowc(wchar_t *, const char *, size_t);
;  8.119   0  extern int wctomb(char *, wchar_t);
;  8.120   0  extern size_t mbstowcs(wchar_t *, const char *, size_t);
;  8.121   0  extern size_t wcstombs(char *, const wchar_t *, size_t);
;  8.122
;  8.123
;  8.124   0  #ifndef _STRICT_ANSI
;  8.125   0  #ifndef __cplusplus
;  8.126   0  #ifndef abs
;  8.127   0  #define abs(i)   ((i) < 0 ? -(i) : (i))
;  8.128   0  #endif
;  8.129   0  #endif

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 16


;Line#  Block                                  Source
;  8.130
;  8.131   0  #ifndef labs
;  8.132   0  #define labs(i)  ((i) < 0 ? -(i) : (i))
;  8.133   0  #endif
;  8.134
;  8.135      /***
;  8.136      *
;  8.137      *     SAS Level 2 memory allocation functions
;  8.138      *
;  8.139      ***/
;  8.140
;  8.141   0  extern void *getmem(unsigned int);
;  8.142   0  extern void *getml(long);
;  8.143   0  extern void rlsmem(void *, unsigned int);
;  8.144   0  extern void rlsml(void *, long);
;  8.145   0  extern int bldmem(int);
;  8.146   0  extern long sizmem(void);
;  8.147   0  extern long chkml(void);
;  8.148   0  extern void rstmem(void);
;  8.149
;  8.150
;  8.151      /***
;  8.152      *
;  8.153      *     SAS Level 1 memory allocation functions
;  8.154      *
;  8.155      ***/
;  8.156
;  8.157   0  extern void *sbrk(unsigned int);
;  8.158   0  extern void *lsbrk(long);
;  8.159   0  extern int rbrk(void);
;  8.160   0  extern void __stdargs _MemCleanup(void);
;  8.161
;  8.162   0  extern unsigned long _MemType;
;  8.163   0  extern void *_MemHeap;
;  8.164   0  extern unsigned long _MSTEP;
;  8.165
;  8.166
;  8.167      /**
;  8.168      *
;  8.169      * SAS Sort functions
;  8.170      *
;  8.171      */
;  8.172
;  8.173   0  extern void dqsort(double *, size_t);
;  8.174   0  extern void fqsort(float *, size_t);
;  8.175   0  extern void lqsort(long *, size_t);
;  8.176   0  extern void sqsort(short *, size_t);
;  8.177   0  extern void tqsort(char **, size_t);
;  8.178
;  8.179

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 17


;Line#  Block                                  Source
;  8.180      /***
;  8.181      *
;  8.182      *     SAS startup, exit and environment functions.
;  8.183      *
;  8.184      ***/
;  8.185
;  8.186   0  extern void __exit(int);
;  8.187   0  extern void __stdargs __main(char *);
;  8.188   0  extern void __stdargs __tinymain(char *);
;  8.189   0  extern void __stdargs _XCEXIT(long);
;  8.190   0  extern char *argopt(int, char**, char *, int *, char *);
;  8.191   0  extern int iabs(int);
;  8.192   0  extern int onexit(void (*)(void));
;  8.193   0  extern int putenv(const char *);
;  8.194
;  8.195   0  #define XCEXIT _XCEXIT                   /* compatibility with v5.0 */
;  8.196   0  #define _main __main
;  8.197   0  #define _exit __exit
;  8.198
;  8.199   0  #ifndef _COMMWBEN_H
;  8.200   0  #include <sys/commwben.h>
;===> Including file "sc:include/sys/commwben.h"
; 10.001      /* Copyright (c) 1993 SAS Institute, Inc., Cary, NC USA */
; 10.002      /* All Rights Reserved */
; 10.003
; 10.004      /* This header file contains common preprocessor symbol   */
; 10.005      /* definitions that were previously duplicated throughout */
; 10.006      /* the header files. Those definitions were moved here    */
; 10.007      /* and replaced with a #include of this header file.      */
; 10.008      /* This was done to purify the header files for GST       */
; 10.009      /* processing.                                            */
; 10.010
; 10.011   0  #ifndef WBenchMsg
; 10.013   0  extern struct WBStartup *_WBenchMsg;  /* WorkBench startup, if the */
; 10.014   0  #define WBenchMsg _WBenchMsg          /* program was started from  */
; 10.016   0  #endif
; 10.017
; 10.018      /* The following two externs give you the information in the   */
; 10.019      /* WBStartup structure parsed out to look like an (argc, argv) */
; 10.020      /* pair.  Don't define them in your code;  just include this   */
; 10.021      /* file and use them.  If the program was not run from         */
; 10.022      /* WorkBench, _WBArgc will be zero.                            */
; 10.023
; 10.024   0  extern int _WBArgc;    /* Count of the number of WorkBench arguments */
; 10.025   0  extern char **_WBArgv; /* The actual arguments                       */
;  8.201   0  #endif
;  8.202
;  8.203   0  #endif /* _STRICT_ANSI */
;  8.204
;  8.205   0  #endif

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 18


;Line#  Block                                  Source
; 14       0  #include <proto/exec.h>
;===> Including file "sc:include/proto/exec.h"
; 11.001   0  #ifndef  PROTO_EXEC_H
; 11.002   0  #define  PROTO_EXEC_H
; 11.003
; 11.004   0  #include <exec/types.h>
;===> Including file "sc:include/exec/types.h"
; 12.001   0  #ifndef	EXEC_TYPES_H
; 12.002   0  #define	EXEC_TYPES_H
; 12.003      /*
; 12.004      **	$VER: types.h 40.1 (10.8.93)
; 12.005      **	Includes Release 40.13
; 12.006      **
; 12.007      **	Data typing.  Must be included before any other Amiga include.
; 12.008      **
; 12.009      **	(C) Copyright 1985-1993 Commodore-Amiga, Inc.
; 12.010      **	    All Rights Reserved
; 12.011      */
; 12.012
; 12.013
; 12.014   0  #define INCLUDE_VERSION	40 /* Version of the include files in use. (Do not
; 12.015   0  			      use this label for OpenLibrary() calls!) */
; 12.016
; 12.017
; 12.018   0  #define GLOBAL	extern	    /* the declaratory use of an external */
; 12.019   0  #define IMPORT	extern	    /* reference to an external */
; 12.020   0  #define STATIC	static	    /* a local static variable */
; 12.021   0  #define REGISTER register   /* a (hopefully) register variable */
; 12.022
; 12.023
; 12.024   0  #ifndef VOID
; 12.025   0  #define VOID		void
; 12.026   0  #endif
; 12.027
; 12.028
; 12.029        /*  WARNING: APTR was redefined for the V36 Includes!  APTR is a   */
; 12.030       /*  32-Bit Absolute Memory Pointer.  C pointer math will not	    */
; 12.031      /*  operate on APTR --	use "ULONG *" instead.			   */
; 12.032   0  #ifndef APTR_TYPEDEF
; 12.033   0  #define APTR_TYPEDEF
; 12.034   0  typedef void	       *APTR;	    /* 32-bit untyped pointer */
; 12.035   0  #endif
; 12.036   0  typedef long		LONG;	    /* signed 32-bit quantity */
; 12.037   0  typedef unsigned long	ULONG;	    /* unsigned 32-bit quantity */
; 12.038   0  typedef unsigned long	LONGBITS;   /* 32 bits manipulated individually */
; 12.039   0  typedef short		WORD;	    /* signed 16-bit quantity */
; 12.040   0  typedef unsigned short	UWORD;	    /* unsigned 16-bit quantity */
; 12.041   0  typedef unsigned short	WORDBITS;   /* 16 bits manipulated individually */
; 12.042   0  #if __STDC__
; 12.043   0  typedef signed char	BYTE;	    /* signed 8-bit quantity */

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 19


;Line#  Block                                  Source
; 12.044   0  #else
; 12.045      typedef char		BYTE;	    /* signed 8-bit quantity */
; 12.046      #endif
; 12.047   0  typedef unsigned char	UBYTE;	    /* unsigned 8-bit quantity */
; 12.048   0  typedef unsigned char	BYTEBITS;   /* 8 bits manipulated individually */
; 12.049   0  typedef unsigned short	RPTR;	    /* signed relative pointer */
; 12.050
; 12.051   0  #ifdef __cplusplus
; 12.052      typedef char	       *STRPTR;     /* string pointer (NULL terminated) */
; 12.053      #else
; 12.054   0  typedef unsigned char  *STRPTR;     /* string pointer (NULL terminated) */
; 12.055   0  #endif
; 12.056
; 12.057
; 12.058      /* For compatibility only: (don't use in new code) */
; 12.059   0  typedef short		SHORT;	    /* signed 16-bit quantity (use WORD) */
; 12.060   0  typedef unsigned short	USHORT;     /* unsigned 16-bit quantity (use UWORD) */
; 12.061   0  typedef short		COUNT;
; 12.062   0  typedef unsigned short	UCOUNT;
; 12.063   0  typedef ULONG		CPTR;
; 12.064
; 12.065
; 12.066      /* Types with specific semantics */
; 12.067   0  typedef float		FLOAT;
; 12.068   0  typedef double		DOUBLE;
; 12.069   0  typedef short		BOOL;
; 12.070   0  typedef unsigned char	TEXT;
; 12.071
; 12.072   0  #ifndef TRUE
; 12.073   0  #define TRUE		1
; 12.074   0  #endif
; 12.075   0  #ifndef FALSE
; 12.076   0  #define FALSE		0
; 12.077   0  #endif
; 12.078
; 12.079   0  #include <sys/commnull.h>
; 12.080
; 12.081
; 12.082   0  #define BYTEMASK	0xFF
; 12.083
; 12.084
; 12.085       /* #define LIBRARY_VERSION is now obsolete.  Please use LIBRARY_MINIMUM */
; 12.086      /* or code the specific minimum library version you require.		*/
; 12.087   0  #define LIBRARY_MINIMUM	33 /* Lowest version supported by Commodore-Amiga */
; 12.088
; 12.089
; 12.090   0  #endif	/* EXEC_TYPES_H */
; 11.005   0  #include <clib/exec_protos.h>
;===> Including file "sc:include/clib/exec_protos.h"
; 13.001   0  #ifndef  CLIB_EXEC_PROTOS_H

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 20


;Line#  Block                                  Source
; 13.002   0  #define  CLIB_EXEC_PROTOS_H
; 13.003
; 13.004      /*
; 13.005      **	$VER: exec_protos.h 39.14 (15.2.93)
; 13.006      **	Includes Release 40.13
; 13.007      **
; 13.008      **	C prototypes. For use with 32 bit integers only.
; 13.009      **
; 13.010      **	(C) Copyright 1990-1993 Commodore-Amiga, Inc.
; 13.011      **	    All Rights Reserved
; 13.012      */
; 13.013
; 13.014   0  #ifndef  EXEC_TYPES_H
; 13.015      #include <exec/types.h>
; 13.016      #endif
; 13.017   0  #ifndef  EXEC_TASKS_H
; 13.018   0  #include <exec/tasks.h>
;===> Including file "sc:include/exec/tasks.h"
; 14.001   0  #ifndef	EXEC_TASKS_H
; 14.002   0  #define	EXEC_TASKS_H
; 14.003      /*
; 14.004      **	$VER: tasks.h 39.3 (18.9.92)
; 14.005      **	Includes Release 40.13
; 14.006      **
; 14.007      **	Task Control Block, Singals, and Task flags.
; 14.008      **
; 14.009      **	(C) Copyright 1985-1993 Commodore-Amiga, Inc.
; 14.010      **	    All Rights Reserved
; 14.011      */
; 14.012
; 14.013   0  #ifndef EXEC_NODES_H
; 14.014   0  #include "exec/nodes.h"
;===> Including file "sc:include/exec/nodes.h"
; 15.001   0  #ifndef	EXEC_NODES_H
; 15.002   0  #define	EXEC_NODES_H
; 15.003      /*
; 15.004      **	$VER: nodes.h 39.0 (15.10.91)
; 15.005      **	Includes Release 40.13
; 15.006      **
; 15.007      **	Nodes & Node type identifiers.
; 15.008      **
; 15.009      **	(C) Copyright 1985-1993 Commodore-Amiga, Inc.
; 15.010      **	    All Rights Reserved
; 15.011      */
; 15.012
; 15.013   0  #ifndef EXEC_TYPES_H
; 15.014      #include "exec/types.h"
; 15.015      #endif /* EXEC_TYPES_H */
; 15.016
; 15.017

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 21


;Line#  Block                                  Source
; 15.018      /*
; 15.019       *  List Node Structure.  Each member in a list starts with a Node
; 15.020       */
; 15.021
; 15.022   0  struct Node {
; 15.023   0      struct  Node *ln_Succ;	/* Pointer to next (successor) */
; 15.024   0      struct  Node *ln_Pred;	/* Pointer to previous (predecessor) */
; 15.025   0      UBYTE   ln_Type;
; 15.026   0      BYTE    ln_Pri;		/* Priority, for sorting */
; 15.027   0      char    *ln_Name;		/* ID string, null terminated */
; 15.028   0  };	/* Note: word aligned */
; 15.029
; 15.030      /* minimal node -- no type checking possible */
; 15.031   0  struct MinNode {
; 15.032   0      struct MinNode *mln_Succ;
; 15.033   0      struct MinNode *mln_Pred;
; 15.034   0  };
; 15.035
; 15.036
; 15.037      /*
; 15.038      ** Note: Newly initialized IORequests, and software interrupt structures
; 15.039      ** used with Cause(), should have type NT_UNKNOWN.  The OS will assign a type
; 15.040      ** when they are first used.
; 15.041      */
; 15.042      /*----- Node Types for LN_TYPE -----*/
; 15.043   0  #define NT_UNKNOWN	0
; 15.044   0  #define NT_TASK		1	/* Exec task */
; 15.045   0  #define NT_INTERRUPT	2
; 15.046   0  #define NT_DEVICE	3
; 15.047   0  #define NT_MSGPORT	4
; 15.048   0  #define NT_MESSAGE	5	/* Indicates message currently pending */
; 15.049   0  #define NT_FREEMSG	6
; 15.050   0  #define NT_REPLYMSG	7	/* Message has been replied */
; 15.051   0  #define NT_RESOURCE	8
; 15.052   0  #define NT_LIBRARY	9
; 15.053   0  #define NT_MEMORY	10
; 15.054   0  #define NT_SOFTINT	11	/* Internal flag used by SoftInits */
; 15.055   0  #define NT_FONT		12
; 15.056   0  #define NT_PROCESS	13	/* AmigaDOS Process */
; 15.057   0  #define NT_SEMAPHORE	14
; 15.058   0  #define NT_SIGNALSEM	15	/* signal semaphores */
; 15.059   0  #define NT_BOOTNODE	16
; 15.060   0  #define NT_KICKMEM	17
; 15.061   0  #define NT_GRAPHICS	18
; 15.062   0  #define NT_DEATHMESSAGE	19
; 15.063
; 15.064   0  #define NT_USER		254	/* User node types work down from here */
; 15.065   0  #define NT_EXTENDED	255
; 15.066
; 15.067   0  #endif	/* EXEC_NODES_H */

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 22


;Line#  Block                                  Source
; 14.015   0  #endif /* EXEC_NODES_H */
; 14.016
; 14.017   0  #ifndef EXEC_LISTS_H
; 14.018   0  #include "exec/lists.h"
;===> Including file "sc:include/exec/lists.h"
; 16.001   0  #ifndef EXEC_LISTS_H
; 16.002   0  #define EXEC_LISTS_H
; 16.003      /*
; 16.004      **	$VER: lists.h 39.0 (15.10.91)
; 16.005      **	Includes Release 40.13
; 16.006      **
; 16.007      **	Definitions and macros for use with Exec lists
; 16.008      **
; 16.009      **	(C) Copyright 1985-1993 Commodore-Amiga, Inc.
; 16.010      **	    All Rights Reserved
; 16.011      */
; 16.012
; 16.013   0  #ifndef EXEC_NODES_H
; 16.014      #include "exec/nodes.h"
; 16.015      #endif /* EXEC_NODES_H */
; 16.016
; 16.017      /*
; 16.018       *  Full featured list header.
; 16.019       */
; 16.020   0  struct List {
; 16.021   0     struct  Node *lh_Head;
; 16.022   0     struct  Node *lh_Tail;
; 16.023   0     struct  Node *lh_TailPred;
; 16.024   0     UBYTE   lh_Type;
; 16.025   0     UBYTE   l_pad;
; 16.026   0  };	/* word aligned */
; 16.027
; 16.028      /*
; 16.029       * Minimal List Header - no type checking
; 16.030       */
; 16.031   0  struct MinList {
; 16.032   0     struct  MinNode *mlh_Head;
; 16.033   0     struct  MinNode *mlh_Tail;
; 16.034   0     struct  MinNode *mlh_TailPred;
; 16.035   0  };	/* longword aligned */
; 16.036
; 16.037
; 16.038      /*
; 16.039       *	Check for the presence of any nodes on the given list.	These
; 16.040       *	macros are even safe to use on lists that are modified by other
; 16.041       *	tasks.	However; if something is simultaneously changing the
; 16.042       *	list, the result of the test is unpredictable.
; 16.043       *
; 16.044       *	Unless you first arbitrated for ownership of the list, you can't
; 16.045       *	_depend_ on the contents of the list.  Nodes might have been added

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 23


;Line#  Block                                  Source
; 16.046       *	or removed during or after the macro executes.
; 16.047       *
; 16.048       *		if( IsListEmpty(list) )		printf("List is empty\n");
; 16.049       */
; 16.051   0  	( ((x)->lh_TailPred) == (struct Node *)(x) )
; 16.052
; 16.054   0  	( ((x)->mp_MsgList.lh_TailPred) == (struct Node *)(&(x)->mp_MsgList) )
; 16.055
; 16.056
; 16.057   0  #endif	/* EXEC_LISTS_H */
; 14.019   0  #endif /* EXEC_LISTS_H */
; 14.020
; 14.021
; 14.022      /* Please use Exec functions to modify task structure fields, where available.
; 14.023       */
; 14.024   0  struct Task {
; 14.025   0      struct  Node tc_Node;
; 14.026   0      UBYTE   tc_Flags;
; 14.027   0      UBYTE   tc_State;
; 14.028   0      BYTE    tc_IDNestCnt;	    /* intr disabled nesting*/
; 14.029   0      BYTE    tc_TDNestCnt;	    /* task disabled nesting*/
; 14.030   0      ULONG   tc_SigAlloc;	    /* sigs allocated */
; 14.031   0      ULONG   tc_SigWait;	    /* sigs we are waiting for */
; 14.032   0      ULONG   tc_SigRecvd;	    /* sigs we have received */
; 14.033   0      ULONG   tc_SigExcept;	    /* sigs we will take excepts for */
; 14.034   0      UWORD   tc_TrapAlloc;	    /* traps allocated */
; 14.035   0      UWORD   tc_TrapAble;	    /* traps enabled */
; 14.036   0      APTR    tc_ExceptData;	    /* points to except data */
; 14.037   0      APTR    tc_ExceptCode;	    /* points to except code */
; 14.038   0      APTR    tc_TrapData;	    /* points to trap data */
; 14.039   0      APTR    tc_TrapCode;	    /* points to trap code */
; 14.040   0      APTR    tc_SPReg;		    /* stack pointer	    */
; 14.041   0      APTR    tc_SPLower;	    /* stack lower bound    */
; 14.042   0      APTR    tc_SPUpper;	    /* stack upper bound + 2*/
; 14.043   0      VOID    (*tc_Switch)();	    /* task losing CPU	  */
; 14.044   0      VOID    (*tc_Launch)();	    /* task getting CPU  */
; 14.045   0      struct  List tc_MemEntry;	    /* Allocated memory. Freed by RemTask() */
; 14.046   0      APTR    tc_UserData;	    /* For use by the task; no restrictions! */
; 14.047   0  };
; 14.048
; 14.049      /*
; 14.050       * Stack swap structure as passed to StackSwap()
; 14.051       */
; 14.052   0  struct	StackSwapStruct {
; 14.053   0  	APTR	stk_Lower;	/* Lowest byte of stack */
; 14.054   0  	ULONG	stk_Upper;	/* Upper end of stack (size + Lowest) */
; 14.055   0  	APTR	stk_Pointer;	/* Stack pointer at switch point */
; 14.056   0  };
; 14.057
; 14.058      /*----- Flag Bits ------------------------------------------*/

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 24


;Line#  Block                                  Source
; 14.059   0  #define TB_PROCTIME	0
; 14.060   0  #define TB_ETASK	3
; 14.061   0  #define TB_STACKCHK	4
; 14.062   0  #define TB_EXCEPT	5
; 14.063   0  #define TB_SWITCH	6
; 14.064   0  #define TB_LAUNCH	7
; 14.065
; 14.066   0  #define TF_PROCTIME	(1L<<0)
; 14.067   0  #define TF_ETASK	(1L<<3)
; 14.068   0  #define TF_STACKCHK	(1L<<4)
; 14.069   0  #define TF_EXCEPT	(1L<<5)
; 14.070   0  #define TF_SWITCH	(1L<<6)
; 14.071   0  #define TF_LAUNCH	(1L<<7)
; 14.072
; 14.073      /*----- Task States ----------------------------------------*/
; 14.074   0  #define TS_INVALID	0
; 14.075   0  #define TS_ADDED	1
; 14.076   0  #define TS_RUN		2
; 14.077   0  #define TS_READY	3
; 14.078   0  #define TS_WAIT	4
; 14.079   0  #define TS_EXCEPT	5
; 14.080   0  #define TS_REMOVED	6
; 14.081
; 14.082      /*----- Predefined Signals -------------------------------------*/
; 14.083   0  #define SIGB_ABORT	0
; 14.084   0  #define SIGB_CHILD	1
; 14.085   0  #define SIGB_BLIT	4	/* Note: same as SINGLE */
; 14.086   0  #define SIGB_SINGLE	4	/* Note: same as BLIT */
; 14.087   0  #define SIGB_INTUITION	5
; 14.088   0  #define	SIGB_NET	7
; 14.089   0  #define SIGB_DOS	8
; 14.090
; 14.091   0  #define SIGF_ABORT	(1L<<0)
; 14.092   0  #define SIGF_CHILD	(1L<<1)
; 14.093   0  #define SIGF_BLIT	(1L<<4)
; 14.094   0  #define SIGF_SINGLE	(1L<<4)
; 14.095   0  #define SIGF_INTUITION	(1L<<5)
; 14.096   0  #define	SIGF_NET	(1L<<7)
; 14.097   0  #define SIGF_DOS	(1L<<8)
; 14.098
; 14.099   0  #endif	/* EXEC_TASKS_H */
; 13.019   0  #endif
; 13.020      /*------ misc ---------------------------------------------------------*/
; 13.021   0  ULONG Supervisor( unsigned long (*userFunction)() );
; 13.022      /*------ special patchable hooks to internal exec activity ------------*/
; 13.023      /*------ module creation ----------------------------------------------*/
; 13.024   0  void InitCode( unsigned long startClass, unsigned long version );
; 13.025   0  void InitStruct( APTR initTable, APTR memory, unsigned long size );
; 13.026   0  struct Library *MakeLibrary( APTR funcInit, APTR structInit,
; 13.027   0  	unsigned long (*libInit)(), unsigned long dataSize,

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 25


;Line#  Block                                  Source
; 13.028   0  	unsigned long segList );
; 13.029   0  void MakeFunctions( APTR target, APTR functionArray,
; 13.030   0  	unsigned long funcDispBase );
; 13.031   0  struct Resident *FindResident( UBYTE *name );
; 13.032   0  APTR InitResident( struct Resident *resident, unsigned long segList );
; 13.033      /*------ diagnostics --------------------------------------------------*/
; 13.034   0  void Alert( unsigned long alertNum );
; 13.035   0  void Debug( unsigned long flags );
; 13.036      /*------ interrupts ---------------------------------------------------*/
; 13.037   0  void Disable( void );
; 13.038   0  void Enable( void );
; 13.039   0  void Forbid( void );
; 13.040   0  void Permit( void );
; 13.041   0  ULONG SetSR( unsigned long newSR, unsigned long mask );
; 13.042   0  APTR SuperState( void );
; 13.043   0  void UserState( APTR sysStack );
; 13.044   0  struct Interrupt *SetIntVector( long intNumber, struct Interrupt *interrupt );
; 13.045   0  void AddIntServer( long intNumber, struct Interrupt *interrupt );
; 13.046   0  void RemIntServer( long intNumber, struct Interrupt *interrupt );
; 13.047   0  void Cause( struct Interrupt *interrupt );
; 13.048      /*------ memory allocation --------------------------------------------*/
; 13.049   0  APTR Allocate( struct MemHeader *freeList, unsigned long byteSize );
; 13.050   0  void Deallocate( struct MemHeader *freeList, APTR memoryBlock,
; 13.051   0  	unsigned long byteSize );
; 13.052   0  APTR AllocMem( unsigned long byteSize, unsigned long requirements );
; 13.053   0  APTR AllocAbs( unsigned long byteSize, APTR location );
; 13.054   0  void FreeMem( APTR memoryBlock, unsigned long byteSize );
; 13.055   0  ULONG AvailMem( unsigned long requirements );
; 13.056   0  struct MemList *AllocEntry( struct MemList *entry );
; 13.057   0  void FreeEntry( struct MemList *entry );
; 13.058      /*------ lists --------------------------------------------------------*/
; 13.059   0  void Insert( struct List *list, struct Node *node, struct Node *pred );
; 13.060   0  void AddHead( struct List *list, struct Node *node );
; 13.061   0  void AddTail( struct List *list, struct Node *node );
; 13.062   0  void Remove( struct Node *node );
; 13.063   0  struct Node *RemHead( struct List *list );
; 13.064   0  struct Node *RemTail( struct List *list );
; 13.065   0  void Enqueue( struct List *list, struct Node *node );
; 13.066   0  struct Node *FindName( struct List *list, UBYTE *name );
; 13.067      /*------ tasks --------------------------------------------------------*/
; 13.068   0  APTR AddTask( struct Task *task, APTR initPC, APTR finalPC );
; 13.069   0  void RemTask( struct Task *task );
; 13.070   0  struct Task *FindTask( UBYTE *name );
; 13.071   0  BYTE SetTaskPri( struct Task *task, long priority );
; 13.072   0  ULONG SetSignal( unsigned long newSignals, unsigned long signalSet );
; 13.073   0  ULONG SetExcept( unsigned long newSignals, unsigned long signalSet );
; 13.074   0  ULONG Wait( unsigned long signalSet );
; 13.075   0  void Signal( struct Task *task, unsigned long signalSet );
; 13.076   0  BYTE AllocSignal( long signalNum );
; 13.077   0  void FreeSignal( long signalNum );

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 26


;Line#  Block                                  Source
; 13.078   0  LONG AllocTrap( long trapNum );
; 13.079   0  void FreeTrap( long trapNum );
; 13.080      /*------ messages -----------------------------------------------------*/
; 13.081   0  void AddPort( struct MsgPort *port );
; 13.082   0  void RemPort( struct MsgPort *port );
; 13.083   0  void PutMsg( struct MsgPort *port, struct Message *message );
; 13.084   0  struct Message *GetMsg( struct MsgPort *port );
; 13.085   0  void ReplyMsg( struct Message *message );
; 13.086   0  struct Message *WaitPort( struct MsgPort *port );
; 13.087   0  struct MsgPort *FindPort( UBYTE *name );
; 13.088      /*------ libraries ----------------------------------------------------*/
; 13.089   0  void AddLibrary( struct Library *library );
; 13.090   0  void RemLibrary( struct Library *library );
; 13.091   0  struct Library *OldOpenLibrary( UBYTE *libName );
; 13.092   0  void CloseLibrary( struct Library *library );
; 13.093   0  APTR SetFunction( struct Library *library, long funcOffset,
; 13.094   0  	unsigned long (*newFunction)() );
; 13.095   0  void SumLibrary( struct Library *library );
; 13.096      /*------ devices ------------------------------------------------------*/
; 13.097   0  void AddDevice( struct Device *device );
; 13.098   0  void RemDevice( struct Device *device );
; 13.099   0  BYTE OpenDevice( UBYTE *devName, unsigned long unit,
; 13.100   0  	struct IORequest *ioRequest, unsigned long flags );
; 13.101   0  void CloseDevice( struct IORequest *ioRequest );
; 13.102   0  BYTE DoIO( struct IORequest *ioRequest );
; 13.103   0  void SendIO( struct IORequest *ioRequest );
; 13.104   0  struct IORequest *CheckIO( struct IORequest *ioRequest );
; 13.105   0  BYTE WaitIO( struct IORequest *ioRequest );
; 13.106   0  void AbortIO( struct IORequest *ioRequest );
; 13.107      /*------ resources ----------------------------------------------------*/
; 13.108   0  void AddResource( APTR resource );
; 13.109   0  void RemResource( APTR resource );
; 13.110   0  APTR OpenResource( UBYTE *resName );
; 13.111      /*------ private diagnostic support -----------------------------------*/
; 13.112      /*------ misc ---------------------------------------------------------*/
; 13.113   0  APTR RawDoFmt( UBYTE *formatString, APTR dataStream, void (*putChProc)(),
; 13.114   0  	APTR putChData );
; 13.115   0  ULONG GetCC( void );
; 13.116   0  ULONG TypeOfMem( APTR address );
; 13.117   0  ULONG Procure( struct SignalSemaphore *sigSem,
; 13.118   0  	struct SemaphoreMessage *bidMsg );
; 13.119   0  void Vacate( struct SignalSemaphore *sigSem,
; 13.120   0  	struct SemaphoreMessage *bidMsg );
; 13.121   0  struct Library *OpenLibrary( UBYTE *libName, unsigned long version );
; 13.122      /*--- functions in V33 or higher (Release 1.2) ---*/
; 13.123      /*------ signal semaphores (note funny registers)----------------------*/
; 13.124   0  void InitSemaphore( struct SignalSemaphore *sigSem );
; 13.125   0  void ObtainSemaphore( struct SignalSemaphore *sigSem );
; 13.126   0  void ReleaseSemaphore( struct SignalSemaphore *sigSem );
; 13.127   0  ULONG AttemptSemaphore( struct SignalSemaphore *sigSem );

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 27


;Line#  Block                                  Source
; 13.128   0  void ObtainSemaphoreList( struct List *sigSem );
; 13.129   0  void ReleaseSemaphoreList( struct List *sigSem );
; 13.130   0  struct SignalSemaphore *FindSemaphore( UBYTE *sigSem );
; 13.131   0  void AddSemaphore( struct SignalSemaphore *sigSem );
; 13.132   0  void RemSemaphore( struct SignalSemaphore *sigSem );
; 13.133      /*------ kickmem support ----------------------------------------------*/
; 13.134   0  ULONG SumKickData( void );
; 13.135      /*------ more memory support ------------------------------------------*/
; 13.136   0  void AddMemList( unsigned long size, unsigned long attributes, long pri,
; 13.137   0  	APTR base, UBYTE *name );
; 13.138   0  void CopyMem( APTR source, APTR dest, unsigned long size );
; 13.139   0  void CopyMemQuick( APTR source, APTR dest, unsigned long size );
; 13.140      /*------ cache --------------------------------------------------------*/
; 13.141      /*--- functions in V36 or higher (Release 2.0) ---*/
; 13.142   0  void CacheClearU( void );
; 13.143   0  void CacheClearE( APTR address, unsigned long length, unsigned long caches );
; 13.144   0  ULONG CacheControl( unsigned long cacheBits, unsigned long cacheMask );
; 13.145      /*------ misc ---------------------------------------------------------*/
; 13.146   0  APTR CreateIORequest( struct MsgPort *port, unsigned long size );
; 13.147   0  void DeleteIORequest( APTR iorequest );
; 13.148   0  struct MsgPort *CreateMsgPort( void );
; 13.149   0  void DeleteMsgPort( struct MsgPort *port );
; 13.150   0  void ObtainSemaphoreShared( struct SignalSemaphore *sigSem );
; 13.151      /*------ even more memory support -------------------------------------*/
; 13.152   0  APTR AllocVec( unsigned long byteSize, unsigned long requirements );
; 13.153   0  void FreeVec( APTR memoryBlock );
; 13.154      /*------ V39 Pool LVOs...*/
; 13.155   0  APTR CreatePool( unsigned long requirements, unsigned long puddleSize,
; 13.156   0  	unsigned long threshSize );
; 13.157   0  void DeletePool( APTR poolHeader );
; 13.158   0  APTR AllocPooled( APTR poolHeader, unsigned long memSize );
; 13.159   0  void FreePooled( APTR poolHeader, APTR memory, unsigned long memSize );
; 13.160      /*------ misc ---------------------------------------------------------*/
; 13.161   0  ULONG AttemptSemaphoreShared( struct SignalSemaphore *sigSem );
; 13.162   0  void ColdReboot( void );
; 13.163   0  void StackSwap( struct StackSwapStruct *newStack );
; 13.164      /*------ task trees ---------------------------------------------------*/
; 13.165   0  void ChildFree( APTR tid );
; 13.166   0  void ChildOrphan( APTR tid );
; 13.167   0  void ChildStatus( APTR tid );
; 13.168   0  void ChildWait( APTR tid );
; 13.169      /*------ future expansion ---------------------------------------------*/
; 13.170   0  APTR CachePreDMA( APTR address, ULONG *length, unsigned long flags );
; 13.171   0  void CachePostDMA( APTR address, ULONG *length, unsigned long flags );
; 13.172      /*------ New, for V39*/
; 13.173      /*--- functions in V39 or higher (Release 3) ---*/
; 13.174      /*------ Low memory handler functions*/
; 13.175   0  void AddMemHandler( struct Interrupt *memhand );
; 13.176   0  void RemMemHandler( struct Interrupt *memhand );
; 13.177      /*------ Function to attempt to obtain a Quick Interrupt Vector...*/

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 28


;Line#  Block                                  Source
; 13.178   0  ULONG ObtainQuickVector( APTR interruptCode );
; 13.179   0  #endif	 /* CLIB_EXEC_PROTOS_H */
; 11.006   0  #if defined(_USEOLDEXEC_) || !defined(__USE_SYSBASE)
; 11.007      #include <pragmas/exec_pragmas.h>
; 11.008      #else
; 11.009   0  extern struct ExecBase *SysBase;
; 11.010   0  #include <pragmas/exec_sysbase_pragmas.h>
;===> Including file "sc:include/pragmas/exec_sysbase_pragmas.h"
; 17.001      /*------ misc ---------------------------------------------------------*/
; 17.003      /*------ special patchable hooks to internal exec activity ------------*/
; 17.004      /*pragma libcall SysBase execPrivate1 24 0*/
; 17.005      /*pragma libcall SysBase execPrivate2 2a 0*/
; 17.006      /*pragma libcall SysBase execPrivate3 30 0*/
; 17.007      /*pragma libcall SysBase execPrivate4 36 0*/
; 17.008      /*pragma libcall SysBase execPrivate5 3c 0*/
; 17.009      /*pragma libcall SysBase execPrivate6 42 0*/
; 17.010      /*------ module creation ----------------------------------------------*/
; 17.017      /*------ diagnostics --------------------------------------------------*/
; 17.020      /*------ interrupts ---------------------------------------------------*/
; 17.032      /*------ memory allocation --------------------------------------------*/
; 17.041      /*------ lists --------------------------------------------------------*/
; 17.050      /*------ tasks --------------------------------------------------------*/
; 17.063      /*------ messages -----------------------------------------------------*/
; 17.071      /*------ libraries ----------------------------------------------------*/
; 17.078      /*------ devices ------------------------------------------------------*/
; 17.088      /*------ resources ----------------------------------------------------*/
; 17.092      /*------ private diagnostic support -----------------------------------*/
; 17.093      /*pragma libcall SysBase execPrivate7 1f8 0*/
; 17.094      /*pragma libcall SysBase execPrivate8 1fe 0*/
; 17.095      /*pragma libcall SysBase execPrivate9 204 0*/
; 17.096      /*------ misc ---------------------------------------------------------*/
; 17.103      /*--- functions in V33 or higher (Release 1.2) ---*/
; 17.104      /*------ signal semaphores (note funny registers)----------------------*/
; 17.114      /*------ kickmem support ----------------------------------------------*/
; 17.116      /*------ more memory support ------------------------------------------*/
; 17.120      /*------ cache --------------------------------------------------------*/
; 17.121      /*--- functions in V36 or higher (Release 2.0) ---*/
; 17.125      /*------ misc ---------------------------------------------------------*/
; 17.131      /*------ even more memory support -------------------------------------*/
; 17.134      /*------ V39 Pool LVOs...*/
; 17.139      /*------ misc ---------------------------------------------------------*/
; 17.143      /*------ task trees ---------------------------------------------------*/
; 17.148      /*------ future expansion ---------------------------------------------*/
; 17.151      /*------ New, for V39*/
; 17.152      /*--- functions in V39 or higher (Release 3) ---*/
; 17.153      /*------ Low memory handler functions*/
; 17.156      /*------ Function to attempt to obtain a Quick Interrupt Vector...*/
; 17.158      /*pragma libcall SysBase execPrivate10 318 0*/
; 17.159      /*pragma libcall SysBase execPrivate11 31e 0*/
; 17.160      /*pragma libcall SysBase execPrivate12 324 0*/

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 29


;Line#  Block                                  Source
; 17.161      /*pragma libcall SysBase execPrivate13 32a 0*/
; 17.162      /*pragma libcall SysBase execPrivate14 330 0*/
; 17.163      /*pragma libcall SysBase execPrivate15 336 0*/
; 11.011   0  #endif
; 11.012
; 11.013      /*------ Common support library functions ---------*/
; 11.014   0  #include <clib/alib_protos.h>
;===> Including file "sc:include/clib/alib_protos.h"
; 18.001   0  #ifndef  CLIB_ALIB_PROTOS_H
; 18.002   0  #define  CLIB_ALIB_PROTOS_H
; 18.003
; 18.004      /*
; 18.005      **	$VER: alib_protos.h 1.5 (25.8.92)
; 18.006      **	Includes Release 40.13
; 18.007      **
; 18.008      **	C prototypes. For use with 32 bit integers only.
; 18.009      **
; 18.010      **	(C) Copyright 1990-1993 Commodore-Amiga, Inc.
; 18.011      **	    All Rights Reserved
; 18.012      */
; 18.013
; 18.014   0  #ifndef  EXEC_TYPES_H
; 18.015      #include <exec/types.h>
; 18.016      #endif
; 18.017   0  #ifndef  DEVICES_TIMER_H
; 18.018   0  #include <devices/timer.h>
;===> Including file "sc:include/devices/timer.h"
; 19.001   0  #ifndef DEVICES_TIMER_H
; 19.002   0  #define DEVICES_TIMER_H 1
; 19.003      /*
; 19.004      **	$VER: timer.h 36.16 (25.1.91)
; 19.005      **	Includes Release 40.13
; 19.006      **
; 19.007      **	Timer device name and useful definitions.
; 19.008      **
; 19.009      **	(C) Copyright 1985-1993 Commodore-Amiga Inc.
; 19.010      **		All Rights Reserved
; 19.011      */
; 19.012
; 19.013   0  #include <exec/types.h>
; 19.014   0  #include <exec/io.h>
;===> Including file "sc:include/exec/io.h"
; 20.001   0  #ifndef	EXEC_IO_H
; 20.002   0  #define	EXEC_IO_H
; 20.003      /*
; 20.004      **	$VER: io.h 39.0 (15.10.91)
; 20.005      **	Includes Release 40.13
; 20.006      **
; 20.007      **	Message structures used for device communication
; 20.008      **

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 30


;Line#  Block                                  Source
; 20.009      **	(C) Copyright 1985-1993 Commodore-Amiga, Inc.
; 20.010      **	    All Rights Reserved
; 20.011      */
; 20.012
; 20.013   0  #ifndef EXEC_PORTS_H
; 20.014   0  #include "exec/ports.h"
;===> Including file "sc:include/exec/ports.h"
; 21.001   0  #ifndef	EXEC_PORTS_H
; 21.002   0  #define	EXEC_PORTS_H
; 21.003      /*
; 21.004      **	$VER: ports.h 39.0 (15.10.91)
; 21.005      **	Includes Release 40.13
; 21.006      **
; 21.007      **	Message ports and Messages.
; 21.008      **
; 21.009      **	(C) Copyright 1985-1993 Commodore-Amiga, Inc.
; 21.010      **	    All Rights Reserved
; 21.011      */
; 21.012
; 21.013   0  #ifndef EXEC_NODES_H
; 21.014      #include "exec/nodes.h"
; 21.015      #endif /* EXEC_NODES_H */
; 21.016
; 21.017   0  #ifndef EXEC_LISTS_H
; 21.018      #include "exec/lists.h"
; 21.019      #endif /* EXEC_LISTS_H */
; 21.020
; 21.021   0  #ifndef EXEC_TASKS_H
; 21.022      #include "exec/tasks.h"
; 21.023      #endif /* EXEC_TASKS_H */
; 21.024
; 21.025
; 21.026      /****** MsgPort *****************************************************/
; 21.027
; 21.028   0  struct MsgPort {
; 21.029   0      struct  Node mp_Node;
; 21.030   0      UBYTE   mp_Flags;
; 21.031   0      UBYTE   mp_SigBit;		/* signal bit number	*/
; 21.032   0      void   *mp_SigTask;		/* object to be signalled */
; 21.033   0      struct  List mp_MsgList;	/* message linked list	*/
; 21.034   0  };
; 21.035
; 21.036   0  #define mp_SoftInt mp_SigTask	/* Alias */
; 21.037
; 21.038      /* mp_Flags: Port arrival actions (PutMsg) */
; 21.039   0  #define PF_ACTION	3	/* Mask */
; 21.040   0  #define PA_SIGNAL	0	/* Signal task in mp_SigTask */
; 21.041   0  #define PA_SOFTINT	1	/* Signal SoftInt in mp_SoftInt/mp_SigTask */
; 21.042   0  #define PA_IGNORE	2	/* Ignore arrival */
; 21.043

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 31


;Line#  Block                                  Source
; 21.044
; 21.045      /****** Message *****************************************************/
; 21.046
; 21.047   0  struct Message {
; 21.048   0      struct  Node mn_Node;
; 21.049   0      struct  MsgPort *mn_ReplyPort;  /* message reply port */
; 21.050   0      UWORD   mn_Length;		    /* total message length, in bytes */
; 21.051      				    /* (include the size of the Message */
; 21.052      				    /* structure in the length) */
; 21.053   0  };
; 21.054
; 21.055   0  #endif	/* EXEC_PORTS_H */
; 20.015   0  #endif /* EXEC_PORTS_H */
; 20.016
; 20.017
; 20.018   0  struct IORequest {
; 20.019   0      struct  Message io_Message;
; 20.020   0      struct  Device  *io_Device;     /* device node pointer  */
; 20.021   0      struct  Unit    *io_Unit;	    /* unit (driver private)*/
; 20.022   0      UWORD   io_Command;	    /* device command */
; 20.023   0      UBYTE   io_Flags;
; 20.024   0      BYTE    io_Error;		    /* error or warning num */
; 20.025   0  };
; 20.026
; 20.027   0  struct IOStdReq {
; 20.028   0      struct  Message io_Message;
; 20.029   0      struct  Device  *io_Device;     /* device node pointer  */
; 20.030   0      struct  Unit    *io_Unit;	    /* unit (driver private)*/
; 20.031   0      UWORD   io_Command;	    /* device command */
; 20.032   0      UBYTE   io_Flags;
; 20.033   0      BYTE    io_Error;		    /* error or warning num */
; 20.034   0      ULONG   io_Actual;		    /* actual number of bytes transferred */
; 20.035   0      ULONG   io_Length;		    /* requested number bytes transferred*/
; 20.036   0      APTR    io_Data;		    /* points to data area */
; 20.037   0      ULONG   io_Offset;		    /* offset for block structured devices */
; 20.038   0  };
; 20.039
; 20.040      /* library vector offsets for device reserved vectors */
; 20.041   0  #define DEV_BEGINIO	(-30)
; 20.042   0  #define DEV_ABORTIO	(-36)
; 20.043
; 20.044      /* io_Flags defined bits */
; 20.045   0  #define IOB_QUICK	0
; 20.046   0  #define IOF_QUICK	(1<<0)
; 20.047
; 20.048
; 20.049   0  #define CMD_INVALID	0
; 20.050   0  #define CMD_RESET	1
; 20.051   0  #define CMD_READ	2
; 20.052   0  #define CMD_WRITE	3

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 32


;Line#  Block                                  Source
; 20.053   0  #define CMD_UPDATE	4
; 20.054   0  #define CMD_CLEAR	5
; 20.055   0  #define CMD_STOP	6
; 20.056   0  #define CMD_START	7
; 20.057   0  #define CMD_FLUSH	8
; 20.058
; 20.059   0  #define CMD_NONSTD	9
; 20.060
; 20.061   0  #endif	/* EXEC_IO_H */
; 19.015
; 19.016      /* unit defintions */
; 19.017   0  #define UNIT_MICROHZ	0
; 19.018   0  #define UNIT_VBLANK	1
; 19.019   0  #define UNIT_ECLOCK	2
; 19.020   0  #define UNIT_WAITUNTIL	3
; 19.021   0  #define	UNIT_WAITECLOCK	4
; 19.022
; 19.023   0  #define TIMERNAME	"timer.device"
; 19.024
; 19.025   0  struct timeval {
; 19.026   0      ULONG tv_secs;
; 19.027   0      ULONG tv_micro;
; 19.028   0  };
; 19.029
; 19.030   0  struct EClockVal {
; 19.031   0      ULONG ev_hi;
; 19.032   0      ULONG ev_lo;
; 19.033   0  };
; 19.034
; 19.035   0  struct timerequest {
; 19.036   0      struct IORequest tr_node;
; 19.037   0      struct timeval tr_time;
; 19.038   0  };
; 19.039
; 19.040      /* IO_COMMAND to use for adding a timer */
; 19.041   0  #define TR_ADDREQUEST	CMD_NONSTD
; 19.042   0  #define TR_GETSYSTIME	(CMD_NONSTD+1)
; 19.043   0  #define TR_SETSYSTIME	(CMD_NONSTD+2)
; 19.044
; 19.045   0  #endif /* DEVICES_TIMER_H */
; 18.019   0  #endif
; 18.020   0  #ifndef  DEVICES_KEYMAP_H
; 18.021   0  #include <devices/keymap.h>
;===> Including file "sc:include/devices/keymap.h"
; 22.001   0  #ifndef	DEVICES_KEYMAP_H
; 22.002   0  #define	DEVICES_KEYMAP_H
; 22.003      /*
; 22.004      **	$VER: keymap.h 36.3 (13.4.90)
; 22.005      **	Includes Release 40.13
; 22.006      **

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 33


;Line#  Block                                  Source
; 22.007      **	key map definitions for keymap.resource, keymap.library, and
; 22.008      **	console.device
; 22.009      **
; 22.010      **	(C) Copyright 1985-1993 Commodore-Amiga, Inc.
; 22.011      **	    All Rights Reserved
; 22.012      */
; 22.013
; 22.014   0  #ifndef EXEC_NODES_H
; 22.015      #include	"exec/nodes.h"
; 22.016      #endif
; 22.017   0  #ifndef EXEC_LISTS_H
; 22.018      #include	"exec/lists.h"
; 22.019      #endif
; 22.020
; 22.021   0  struct	 KeyMap {
; 22.022   0      UBYTE   *km_LoKeyMapTypes;
; 22.023   0      ULONG   *km_LoKeyMap;
; 22.024   0      UBYTE   *km_LoCapsable;
; 22.025   0      UBYTE   *km_LoRepeatable;
; 22.026   0      UBYTE   *km_HiKeyMapTypes;
; 22.027   0      ULONG   *km_HiKeyMap;
; 22.028   0      UBYTE   *km_HiCapsable;
; 22.029   0      UBYTE   *km_HiRepeatable;
; 22.030   0  };
; 22.031
; 22.032   0  struct	KeyMapNode {
; 22.033   0      struct Node kn_Node;	/* including name of keymap */
; 22.034   0      struct KeyMap kn_KeyMap;
; 22.035   0  };
; 22.036
; 22.037      /* the structure of keymap.resource */
; 22.038   0  struct	KeyMapResource {
; 22.039   0      struct Node kr_Node;
; 22.040   0      struct List kr_List;	/* a list of KeyMapNodes */
; 22.041   0  };
; 22.042
; 22.043      /* Key Map Types */
; 22.044   0  #define  KC_NOQUAL   0
; 22.045   0  #define  KC_VANILLA  7		/* note that SHIFT+ALT+CTRL is VANILLA */
; 22.046   0  #define  KCB_SHIFT   0
; 22.047   0  #define  KCF_SHIFT   0x01
; 22.048   0  #define  KCB_ALT     1
; 22.049   0  #define  KCF_ALT     0x02
; 22.050   0  #define  KCB_CONTROL 2
; 22.051   0  #define  KCF_CONTROL 0x04
; 22.052   0  #define  KCB_DOWNUP  3
; 22.053   0  #define  KCF_DOWNUP  0x08
; 22.054
; 22.055   0  #define  KCB_DEAD    5		/* may be dead or modified by dead key: */
; 22.056   0  #define  KCF_DEAD    0x20	/*   use dead prefix bytes		*/

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 34


;Line#  Block                                  Source
; 22.057
; 22.058   0  #define  KCB_STRING  6
; 22.059   0  #define  KCF_STRING  0x40
; 22.060
; 22.061   0  #define  KCB_NOP     7
; 22.062   0  #define  KCF_NOP     0x80
; 22.063
; 22.064
; 22.065      /* Dead Prefix Bytes */
; 22.066   0  #define DPB_MOD	0
; 22.067   0  #define DPF_MOD	0x01
; 22.068   0  #define DPB_DEAD	3
; 22.069   0  #define DPF_DEAD	0x08
; 22.070
; 22.071   0  #define DP_2DINDEXMASK	0x0f	/* mask for index for 1st of two dead keys */
; 22.072   0  #define DP_2DFACSHIFT	4	/* shift for factor for 1st of two dead keys */
; 22.073
; 22.074   0  #endif	/* DEVICES_KEYMAP_H */
; 18.022   0  #endif
; 18.023   0  #ifndef  LIBRARIES_COMMODITIES_H
; 18.024   0  #include <libraries/commodities.h>
;===> Including file "sc:include/libraries/commodities.h"
; 23.001   0  #ifndef LIBRARIES_COMMODITIES_H
; 23.002   0  #define LIBRARIES_COMMODITIES_H
; 23.003      /*
; 23.004      **	$VER: commodities.h 38.4 (24.2.93)
; 23.005      **	Includes Release 40.13
; 23.006      **
; 23.007      **	Commodities definitions
; 23.008      **
; 23.009      **	(C) Copyright 1990-1993 Commodore-Amiga Inc.
; 23.010      **	All Rights Reserved
; 23.011      */
; 23.012
; 23.013      /*****************************************************************************/
; 23.014
; 23.015
; 23.016   0  #ifndef EXEC_TYPES_H
; 23.017      #include <exec/types.h>
; 23.018      #endif
; 23.019
; 23.020   0  #ifndef EXEC_PORTS_H
; 23.021      #include <exec/ports.h>
; 23.022      #endif
; 23.023
; 23.024
; 23.025      /*****************************************************************************/
; 23.026
; 23.027
; 23.028      /* object creation macros */

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 35


;Line#  Block                                  Source
; 23.029   0  #define CxFilter(d)	    CreateCxObj((LONG) CX_FILTER,     (LONG) d,     0)
; 23.030   0  #define CxSender(port,id)   CreateCxObj((LONG) CX_SEND,       (LONG) port,  (LON
;       ..... G) id)
; 23.031   0  #define CxSignal(task,sig)  CreateCxObj((LONG) CX_SIGNAL,     (LONG) task,  (LON
;       ..... G) sig)
; 23.032   0  #define CxTranslate(ie)     CreateCxObj((LONG) CX_TRANSLATE,  (LONG) ie,    0)
; 23.033   0  #define CxDebug(id)	    CreateCxObj((LONG) CX_DEBUG,      (LONG) id,    0)
; 23.034   0  #define CxCustom(action,id) CreateCxObj((LONG) CX_CUSTOM,     (LONG)action, (LON
;       ..... G)id)
; 23.035
; 23.036
; 23.037      /*****************************************************************************/
; 23.038
; 23.039
; 23.040   0  struct NewBroker
; 23.041   0  {
; 23.042   0      BYTE	    nb_Version;   /* Must be set to NB_VERSION */
; 23.043   0      STRPTR	    nb_Name;
; 23.044   0      STRPTR	    nb_Title;
; 23.045   0      STRPTR	    nb_Descr;
; 23.046   0      WORD	    nb_Unique;
; 23.047   0      WORD	    nb_Flags;
; 23.048   0      BYTE	    nb_Pri;
; 23.049   0      struct MsgPort *nb_Port;
; 23.050   0      WORD	    nb_ReservedChannel;
; 23.051   0  };
; 23.052
; 23.053      /* constant for NewBroker.nb_Version */
; 23.054   0  #define NB_VERSION 5	    /* Version of NewBroker structure */
; 23.055
; 23.056      /* Sizes for various buffers */
; 23.057   0  #define CBD_NAMELEN  24
; 23.058   0  #define CBD_TITLELEN 40
; 23.059   0  #define CBD_DESCRLEN 40
; 23.060
; 23.061      /* Flags for NewBroker.nb_Unique */
; 23.062   0  #define NBU_DUPLICATE 0
; 23.063   0  #define NBU_UNIQUE    1        /* will not allow duplicates	      */
; 23.064   0  #define NBU_NOTIFY    2        /* sends CXM_UNIQUE to existing broker */
; 23.065
; 23.066      /* Flags for NewBroker.nb_Flags */
; 23.067   0  #define COF_SHOW_HIDE 4
; 23.068
; 23.069
; 23.070      /*****************************************************************************/
; 23.071
; 23.072
; 23.073      /* Fake data types for system private objects */
; 23.074   0  #ifndef COMMODITIES_BASE_H
; 23.075   0  typedef LONG CxObj;

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 36


;Line#  Block                                  Source
; 23.076   0  typedef LONG CxMsg;
; 23.077   0  #endif
; 23.078
; 23.079      /* Pointer to a function returning a LONG */
; 23.080   0  typedef LONG (*PFL)();
; 23.081
; 23.082
; 23.083      /*****************************************************************************/
; 23.084
; 23.085
; 23.086      /* Commodities object types */
; 23.087   0  #define CX_INVALID	0     /* not a valid object (probably null) */
; 23.088   0  #define CX_FILTER	1     /* input event messages only	    */
; 23.089   0  #define CX_TYPEFILTER	2     /* obsolete, do not use		    */
; 23.090   0  #define CX_SEND	3     /* sends a message		    */
; 23.091   0  #define CX_SIGNAL	4     /* sends a signal		    */
; 23.092   0  #define CX_TRANSLATE	5     /* translates input event into chain  */
; 23.093   0  #define CX_BROKER	6     /* application representative	    */
; 23.094   0  #define CX_DEBUG	7     /* dumps info to serial port	    */
; 23.095   0  #define CX_CUSTOM	8     /* application provides function	    */
; 23.096   0  #define CX_ZERO	9     /* system terminator node	    */
; 23.097
; 23.098
; 23.099      /*****************************************************************************/
; 23.100
; 23.101
; 23.102      /* Commodities message types */
; 23.103   0  #define CXM_IEVENT  (1 << 5)
; 23.104   0  #define CXM_COMMAND (1 << 6)
; 23.105
; 23.106      /* Only CXM_IEVENT messages are passed through the input network. Other types
; 23.107       * of messages are sent to an optional port in your broker. This means that
; 23.108       * you must test the message type in your message handling, if input messages
; 23.109       * and command messages come to the same port.
; 23.110       *
; 23.111       * CXM_IEVENT: Messages of this type rattle around the Commodities input
; 23.112       *	       network. They are sent to you by a Sender object, and passed
; 23.113       *	       to you as a synchronous function call by a Custom object.
; 23.114       *
; 23.115       *	       The message port or function entry point is stored in the
; 23.116       *	       object, and the ID field of the message will be set to what
; 23.117       *	       you arrange issuing object.
; 23.118       *
; 23.119       *	       The data section of the message will point to the input event
; 23.120       *	       triggering the message.
; 23.121       *
; 23.122       * CXM_COMMAND: These messages are sent to a port attached to your Broker.
; 23.123       *		They are sent to you when the controller program wants your
; 23.124       *		program to do something. The ID value identifies the command.
; 23.125       */

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 37


;Line#  Block                                  Source
; 23.126
; 23.127      /* ID values associated with a message of type CXM_COMMAND */
; 23.128   0  #define CXCMD_DISABLE	(15)  /* please disable yourself	 */
; 23.129   0  #define CXCMD_ENABLE	(17)  /* please enable yourself	 */
; 23.130   0  #define CXCMD_APPEAR	(19)  /* open your window, if you can	 */
; 23.131   0  #define CXCMD_DISAPPEAR (21)  /* go dormant			 */
; 23.132   0  #define CXCMD_KILL	(23)  /* go away for good		 */
; 23.133   0  #define CXCMD_LIST_CHG	(27)  /* Someone changed the broker list */
; 23.134   0  #define CXCMD_UNIQUE	(25)  /* someone tried to create a broker
; 23.135   0  			       * with your name. Suggest you appear.
; 23.136   0  			       */
; 23.137
; 23.138
; 23.139      /*****************************************************************************/
; 23.140
; 23.141
; 23.142   0  struct InputXpression
; 23.143   0  {
; 23.144   0      UBYTE ix_Version;	  /* must be set to IX_VERSION */
; 23.145   0      UBYTE ix_Class;	  /* class must match exactly  */
; 23.146
; 23.147   0      UWORD ix_Code;	  /* Bits that we want */
; 23.148   0      UWORD ix_CodeMask;	  /* Set bits here to indicate which bits in ix_Code
; 23.149   0  			   * are don't care bits.
; 23.150   0  			   */
; 23.151   0      UWORD ix_Qualifier;   /* Bits that we want */
; 23.152   0      UWORD ix_QualMask;	  /* Set bits here to indicate which bits in
; 23.153   0  			   * ix_Qualifier are don't care bits
; 23.154   0  			   */
; 23.155   0      UWORD ix_QualSame;	  /* synonyms in qualifier */
; 23.156   0  };
; 23.157   0  typedef struct InputXpression IX;
; 23.158
; 23.159      /* constant for InputXpression.ix_Version */
; 23.160   0  #define IX_VERSION 2
; 23.161
; 23.162      /* constants for InputXpression.ix_QualSame */
; 23.163   0  #define IXSYM_SHIFT 1	/* left- and right- shift are equivalent     */
; 23.164   0  #define IXSYM_CAPS  2	/* either shift or caps lock are equivalent  */
; 23.165   0  #define IXSYM_ALT   4	/* left- and right- alt are equivalent	     */
; 23.166
; 23.167   0  #define IXSYM_SHIFTMASK (IEQUALIFIER_LSHIFT | IEQUALIFIER_RSHIFT)
; 23.168   0  #define IXSYM_CAPSMASK	(IXSYM_SHIFTMASK | IEQUALIFIER_CAPSLOCK)
; 23.169   0  #define IXSYM_ALTMASK	(IEQUALIFIER_LALT | IEQUALIFIER_RALT)
; 23.170
; 23.171      /* constant for InputXpression.ix_QualMask */
; 23.172   0  #define IX_NORMALQUALS	0x7FFF	 /* avoid RELATIVEMOUSE */
; 23.173
; 23.174      /* matches nothing */
; 23.175   0  #define NULL_IX(ix)   ((ix)->ix_Class == IECLASS_NULL)

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 38


;Line#  Block                                  Source
; 23.176
; 23.177
; 23.178      /*****************************************************************************/
; 23.179
; 23.180
; 23.181      /* Error returns from CxBroker() */
; 23.182   0  #define CBERR_OK      0  /* No error				   */
; 23.183   0  #define CBERR_SYSERR  1  /* System error, no memory, etc	   */
; 23.184   0  #define CBERR_DUP     2  /* uniqueness violation		   */
; 23.185   0  #define CBERR_VERSION 3  /* didn't understand NewBroker.nb_Version */
; 23.186
; 23.187
; 23.188      /*****************************************************************************/
; 23.189
; 23.190
; 23.191      /* Return values from CxObjError() */
; 23.192   0  #define COERR_ISNULL	 1   /* you called CxObjError(NULL)	   */
; 23.193   0  #define COERR_NULLATTACH 2   /* someone attached NULL to my list   */
; 23.194   0  #define COERR_BADFILTER  4   /* a bad filter description was given */
; 23.195   0  #define COERR_BADTYPE	 8   /* unmatched type-specific operation  */
; 23.196
; 23.197
; 23.198      /*****************************************************************************/
; 23.199
; 23.200
; 23.201   0  #endif /* LIBRARIES_COMMODITIES_H */
; 18.025   0  #endif
; 18.026   0  #ifndef  UTILITY_HOOKS_H
; 18.027   0  #include <utility/hooks.h>
;===> Including file "sc:include/utility/hooks.h"
; 24.001   0  #ifndef UTILITY_HOOKS_H
; 24.002   0  #define UTILITY_HOOKS_H
; 24.003      /*
; 24.004      **	$VER: hooks.h 39.2 (16.6.93)
; 24.005      **	Includes Release 40.13
; 24.006      **
; 24.007      **	Callback hooks
; 24.008      **
; 24.009      **	(C) Copyright 1989-1993 Commodore-Amiga Inc.
; 24.010      **	All Rights Reserved
; 24.011      */
; 24.012
; 24.013      /*****************************************************************************/
; 24.014
; 24.015
; 24.016   0  #ifndef EXEC_TYPES_H
; 24.017      #include <exec/types.h>
; 24.018      #endif
; 24.019
; 24.020   0  #ifndef EXEC_NODES_H

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 39


;Line#  Block                                  Source
; 24.021      #include <exec/nodes.h>
; 24.022      #endif
; 24.023
; 24.024
; 24.025      /*****************************************************************************/
; 24.026
; 24.027
; 24.028   0  struct Hook
; 24.029   0  {
; 24.030   0      struct MinNode h_MinNode;
; 24.031   0      ULONG	   (*h_Entry)();	/* assembler entry point */
; 24.032   0      ULONG	   (*h_SubEntry)();	/* often HLL entry point */
; 24.033   0      APTR	   h_Data;		/* owner specific	 */
; 24.034   0  };
; 24.035
; 24.036      /* Useful definition for casting function pointers:
; 24.037       * hook.h_SubEntry = (HOOKFUNC)AFunction
; 24.038       */
; 24.039   0  typedef unsigned long (*HOOKFUNC)();
; 24.040
; 24.041      /* Hook calling conventions.
; 24.042       *
; 24.043       * The function pointed to by Hook.h_Entry is called with the following
; 24.044       * parameters:
; 24.045       *
; 24.046       *	A0 - pointer to hook data structure itself
; 24.047       *	A1 - pointer to parameter structure ("message")
; 24.048       *	A2 - Hook specific address data ("object")
; 24.049       *
; 24.050       * Control will be passed to the routine h_Entry.  For many
; 24.051       * High-Level Languages (HLL), this will be an assembly language
; 24.052       * stub which pushes registers on the stack, does other setup,
; 24.053       * and then calls the function at h_SubEntry.
; 24.054       *
; 24.055       * The standard C receiving code is:
; 24.056       *
; 24.057       *    HookFunc(struct Hook *hook, APTR object, APTR message)
; 24.058       *
; 24.059       * Note that register natural order differs from this convention for C
; 24.060       * parameter order, which is A0,A2,A1.
; 24.061       *
; 24.062       * The assembly language stub for "vanilla" C parameter conventions
; 24.063       * could be:
; 24.064       *
; 24.065       * _hookEntry:
; 24.066       *	move.l	a1,-(sp)		; push message packet pointer
; 24.067       *	move.l	a2,-(sp)		; push object pointer
; 24.068       *	move.l	a0,-(sp)		; push hook pointer
; 24.069       *	move.l	h_SubEntry(a0),a0	; fetch C entry point ...
; 24.070       *	jsr	(a0)			; ... and call it

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 40


;Line#  Block                                  Source
; 24.071       *	lea	12(sp),sp		; fix stack
; 24.072       *	rts
; 24.073       *
; 24.074       * With this function as your interface stub, you can write a Hook setup
; 24.075       * function as:
; 24.076       *
; 24.077       * InitHook(struct Hook *hook, ULONG (*c_function)(), APTR userdata)
; 24.078       * {
; 24.079       * ULONG (*hookEntry)();
; 24.080       *
; 24.081       *     hook->h_Entry	= hookEntry;
; 24.082       *     hook->h_SubEntry = c_function;
; 24.083       *     hook->h_Data	= userdata;
; 24.084       * }
; 24.085       *
; 24.086       * With a compiler capable of registerized parameters, such as SAS C, you
; 24.087       * can put the C function in the h_Entry field directly. For example, for
; 24.088       * SAS C:
; 24.089       *
; 24.090       *   ULONG __saveds __asm HookFunc(register __a0 struct Hook *hook,
; 24.091       *				   register __a2 APTR	      object,
; 24.092       *				   register __a1 APTR	      message);
; 24.093       *
; 24.094       */
; 24.095
; 24.096
; 24.097      /*****************************************************************************/
; 24.098
; 24.099
; 24.100   0  #endif /* UTILITY_HOOKS_H */
; 18.028   0  #endif
; 18.029   0  #ifndef  INTUITION_CLASSES_H
; 18.030   0  #include <intuition/classes.h>
;===> Including file "sc:include/intuition/classes.h"
; 25.001   0  #ifndef	INTUITION_CLASSES_H
; 25.002   0  #define INTUITION_CLASSES_H	1
; 25.003      /*
; 25.004      **  $VER: classes.h 38.1 (11.11.91)
; 25.005      **  Includes Release 40.13
; 25.006      **
; 25.007      **  Used only by class implementors
; 25.008      **
; 25.009      **  (C) Copyright 1989-1993 Commodore-Amiga, Inc.
; 25.010      **	    All Rights Reserved
; 25.011      */
; 25.012
; 25.013   0  #ifndef UTILITY_HOOKS_H
; 25.014      #include <utility/hooks.h>
; 25.015      #endif
; 25.016

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 41


;Line#  Block                                  Source
; 25.017   0  #ifndef	INTUITION_CLASSUSR_H
; 25.018   0  #include <intuition/classusr.h>
;===> Including file "sc:include/intuition/classusr.h"
; 26.001   0  #ifndef	INTUITION_CLASSUSR_H
; 26.002   0  #define INTUITION_CLASSUSR_H	1
; 26.003      /*
; 26.004      **  $VER: classusr.h 38.2 (14.4.92)
; 26.005      **  Includes Release 40.13
; 26.006      **
; 26.007      **  For application users of Intuition object classes
; 26.008      **
; 26.009      **  (C) Copyright 1989-1993 Commodore-Amiga, Inc.
; 26.010      **	    All Rights Reserved
; 26.011      */
; 26.012
; 26.013
; 26.014   0  #ifndef UTILITY_HOOKS_H
; 26.015      #include <utility/hooks.h>
; 26.016      #endif
; 26.017
; 26.018      /*** User visible handles on objects, classes, messages ***/
; 26.019   0  typedef ULONG	Object;		/* abstract handle */
; 26.020
; 26.021   0  typedef	UBYTE	*ClassID;
; 26.022
; 26.023      /* you can use this type to point to a "generic" message,
; 26.024       * in the object-oriented programming parlance.  Based on
; 26.025       * the value of 'MethodID', you dispatch to processing
; 26.026       * for the various message types.  The meaningful parameter
; 26.027       * packet structure definitions are defined below.
; 26.028       */
; 26.029   0  typedef struct {
; 26.030   0      ULONG MethodID;
; 26.031          /* method-specific data follows, some examples below */
; 26.032   0  }		*Msg;
; 26.033
; 26.034      /*
; 26.035       * Class id strings for Intuition classes.
; 26.036       * There's no real reason to use the uppercase constants
; 26.037       * over the lowercase strings, but this makes a good place
; 26.038       * to list the names of the built-in classes.
; 26.039       */
; 26.040   0  #define ROOTCLASS	"rootclass"		/* classusr.h	  */
; 26.041   0  #define IMAGECLASS	"imageclass"		/* imageclass.h   */
; 26.042   0  #define FRAMEICLASS	"frameiclass"
; 26.043   0  #define SYSICLASS	"sysiclass"
; 26.044   0  #define FILLRECTCLASS	"fillrectclass"
; 26.045   0  #define GADGETCLASS	"gadgetclass"		/* gadgetclass.h  */
; 26.046   0  #define PROPGCLASS	"propgclass"
; 26.047   0  #define STRGCLASS	"strgclass"

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 42


;Line#  Block                                  Source
; 26.048   0  #define BUTTONGCLASS	"buttongclass"
; 26.049   0  #define FRBUTTONCLASS	"frbuttonclass"
; 26.050   0  #define GROUPGCLASS	"groupgclass"
; 26.051   0  #define ICCLASS		"icclass"		/* icclass.h	  */
; 26.052   0  #define MODELCLASS	"modelclass"
; 26.053   0  #define ITEXTICLASS	"itexticlass"
; 26.054   0  #define POINTERCLASS	"pointerclass"		/* pointerclass.h */
; 26.055
; 26.056      /* Dispatched method ID's
; 26.057       * NOTE: Applications should use Intuition entry points, not direct
; 26.058       * DoMethod() calls, for NewObject, DisposeObject, SetAttrs,
; 26.059       * SetGadgetAttrs, and GetAttr.
; 26.060       */
; 26.061
; 26.062   0  #define OM_Dummy	(0x100)
; 26.063   0  #define OM_NEW		(0x101)	/* 'object' parameter is "true class"	*/
; 26.064   0  #define OM_DISPOSE	(0x102)	/* delete self (no parameters)		*/
; 26.065   0  #define OM_SET		(0x103)	/* set attributes (in tag list)		*/
; 26.066   0  #define OM_GET		(0x104)	/* return single attribute value	*/
; 26.067   0  #define OM_ADDTAIL	(0x105)	/* add self to a List (let root do it)	*/
; 26.068   0  #define OM_REMOVE	(0x106)	/* remove self from list		*/
; 26.069   0  #define OM_NOTIFY	(0x107)	/* send to self: notify dependents	*/
; 26.070   0  #define OM_UPDATE	(0x108)	/* notification message from somebody	*/
; 26.071   0  #define OM_ADDMEMBER	(0x109)	/* used by various classes with lists	*/
; 26.072   0  #define OM_REMMEMBER	(0x10A)	/* used by various classes with lists	*/
; 26.073
; 26.074      /* Parameter "Messages" passed to methods	*/
; 26.075
; 26.076      /* OM_NEW and OM_SET	*/
; 26.077   0  struct opSet {
; 26.078   0      ULONG		MethodID;
; 26.079   0      struct TagItem	*ops_AttrList;	/* new attributes	*/
; 26.080   0      struct GadgetInfo	*ops_GInfo;	/* always there for gadgets,
; 26.081   0  					 * when SetGadgetAttrs() is used,
; 26.082   0  					 * but will be NULL for OM_NEW
; 26.083   0  					 */
; 26.084   0  };
; 26.085
; 26.086      /* OM_NOTIFY, and OM_UPDATE	*/
; 26.087   0  struct opUpdate {
; 26.088   0      ULONG		MethodID;
; 26.089   0      struct TagItem	*opu_AttrList;	/* new attributes	*/
; 26.090   0      struct GadgetInfo	*opu_GInfo;	/* non-NULL when SetGadgetAttrs or
; 26.091   0  					 * notification resulting from gadget
; 26.092   0  					 * input occurs.
; 26.093   0  					 */
; 26.094   0      ULONG		opu_Flags;	/* defined below	*/
; 26.095   0  };
; 26.096
; 26.097      /* this flag means that the update message is being issued from

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 43


;Line#  Block                                  Source
; 26.098       * something like an active gadget, a la GACT_FOLLOWMOUSE.  When
; 26.099       * the gadget goes inactive, it will issue a final update
; 26.100       * message with this bit cleared.  Examples of use are for
; 26.101       * GACT_FOLLOWMOUSE equivalents for propgadclass, and repeat strobes
; 26.102       * for buttons.
; 26.103       */
; 26.104   0  #define OPUF_INTERIM	(1<<0)
; 26.105
; 26.106      /* OM_GET	*/
; 26.107   0  struct opGet {
; 26.108   0      ULONG		MethodID;
; 26.109   0      ULONG		opg_AttrID;
; 26.110   0      ULONG		*opg_Storage;	/* may be other types, but "int"
; 26.111   0  					 * types are all ULONG
; 26.112   0  					 */
; 26.113   0  };
; 26.114
; 26.115      /* OM_ADDTAIL	*/
; 26.116   0  struct opAddTail {
; 26.117   0      ULONG		MethodID;
; 26.118   0      struct List		*opat_List;
; 26.119   0  };
; 26.120
; 26.121      /* OM_ADDMEMBER, OM_REMMEMBER	*/
; 26.122   0  #define  opAddMember opMember
; 26.123   0  struct opMember {
; 26.124   0      ULONG		MethodID;
; 26.125   0      Object		*opam_Object;
; 26.126   0  };
; 26.127
; 26.128
; 26.129   0  #endif
; 25.019   0  #endif
; 25.020
; 25.021      /*******************************************/
; 25.022      /*** "White box" access to struct IClass ***/
; 25.023      /*******************************************/
; 25.024
; 25.025      /* This structure is READ-ONLY, and allocated only by Intuition */
; 25.026   0  typedef struct IClass {
; 25.027   0      struct Hook		cl_Dispatcher;
; 25.028   0      ULONG		cl_Reserved;	/* must be 0  */
; 25.029   0      struct IClass	*cl_Super;
; 25.030   0      ClassID		cl_ID;
; 25.031
; 25.032          /* where within an object is the instance data for this class? */
; 25.033   0      UWORD		cl_InstOffset;
; 25.034   0      UWORD		cl_InstSize;
; 25.035
; 25.036   0      ULONG		cl_UserData;	/* per-class data of your choice */

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 44


;Line#  Block                                  Source
; 25.037   0      ULONG		cl_SubclassCount;
; 25.038      					/* how many direct subclasses?	*/
; 25.039   0      ULONG		cl_ObjectCount;
; 25.040      				/* how many objects created of this class? */
; 25.041   0      ULONG		cl_Flags;
; 25.042   0  #define	CLF_INLIST	0x00000001	/* class is in public class list */
; 25.043   0  } Class;
; 25.044
; 25.045      /* add offset for instance data to an object handle */
; 25.046   0  #define INST_DATA( cl, o )	((VOID *) (((UBYTE *)o)+cl->cl_InstOffset))
; 25.047
; 25.048      /* sizeof the instance data for a given class */
; 25.050   0  			+ sizeof (struct _Object ))
; 25.051
; 25.052      /**************************************************/
; 25.053      /*** "White box" access to struct _Object	***/
; 25.054      /**************************************************/
; 25.055
; 25.056      /*
; 25.057       * We have this, the instance data of the root class, PRECEDING
; 25.058       * the "object".  This is so that Gadget objects are Gadget pointers,
; 25.059       * and so on.  If this structure grows, it will always have o_Class
; 25.060       * at the end, so the macro OCLASS(o) will always have the same
; 25.061       * offset back from the pointer returned from NewObject().
; 25.062       *
; 25.063       * This data structure is subject to change.  Do not use the o_Node
; 25.064       * embedded structure.
; 25.065       */
; 25.066   0  struct _Object {
; 25.067   0      struct MinNode	o_Node;
; 25.068   0      struct IClass	*o_Class;
; 25.069   0  };
; 25.070
; 25.071      /* convenient typecast	*/
; 25.072   0  #define _OBJ( o )	((struct _Object *)(o))
; 25.073
; 25.074      /* get "public" handle on baseclass instance from real beginning of obj data */
; 25.075   0  #define BASEOBJECT( _obj )	( (Object *) (_OBJ(_obj)+1) )
; 25.076
; 25.077      /* get back to object data struct from public handle */
; 25.078   0  #define _OBJECT( o )		(_OBJ(o) - 1)
; 25.079
; 25.080      /* get class pointer from an object handle	*/
; 25.081   0  #define OCLASS( o )	( (_OBJECT(o))->o_Class )
; 25.082
; 25.083   0  #endif
; 18.031   0  #endif
; 18.032   0  #ifndef  INTUITION_CLASSUSR_H
; 18.033      #include <intuition/classusr.h>
; 18.034      #endif

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 45


;Line#  Block                                  Source
; 18.035   0  #ifndef  GRAPHICS_GRAPHINT_H
; 18.036   0  #include <graphics/graphint.h>
;===> Including file "sc:include/graphics/graphint.h"
; 27.001   0  #ifndef	GRAPHICS_GRAPHINT_H
; 27.002   0  #define	GRAPHICS_GRAPHINT_H
; 27.003      /*
; 27.004      **	$VER: graphint.h 39.0 (23.9.91)
; 27.005      **	Includes Release 40.13
; 27.006      **
; 27.007      **
; 27.008      **
; 27.009      **	(C) Copyright 1985-1993 Commodore-Amiga, Inc.
; 27.010      **	    All Rights Reserved
; 27.011      */
; 27.012
; 27.013   0  #ifndef EXEC_NODES_H
; 27.014      #include <exec/nodes.h>
; 27.015      #endif
; 27.016
; 27.017      /* structure used by AddTOFTask */
; 27.018   0  struct Isrvstr
; 27.019   0  {
; 27.020   0      struct Node is_Node;
; 27.021   0      struct Isrvstr *Iptr;   /* passed to srvr by os */
; 27.022   0      int (*code)();
; 27.023   0      int (*ccode)();
; 27.024   0      int Carg;
; 27.025   0  };
; 27.026
; 27.027   0  #endif	/* GRAPHICS_GRAPHINT_H */
; 18.037   0  #endif
; 18.038
; 18.039      /*  Exec support functions */
; 18.040
; 18.041   0  void BeginIO( struct IORequest *ioReq );
; 18.042   0  struct IORequest *CreateExtIO( struct MsgPort *port, long ioSize );
; 18.043   0  struct MsgPort *CreatePort( STRPTR name, long pri );
; 18.044   0  struct IOStdReq *CreateStdIO( struct MsgPort *port );
; 18.045   0  struct Task *CreateTask( STRPTR name, long pri, APTR initPC,
; 18.046   0  	unsigned long stackSize );
; 18.047   0  void DeleteExtIO( struct IORequest *ioReq );
; 18.048   0  void DeletePort( struct MsgPort *ioReq );
; 18.049   0  void DeleteStdIO( struct IOStdReq *ioReq );
; 18.050   0  void DeleteTask( struct Task *task );
; 18.051   0  void NewList( struct List *list );
; 18.052   0  APTR LibAllocPooled( APTR poolHeader, unsigned long memSize );
; 18.053   0  APTR LibCreatePool( unsigned long memFlags, unsigned long puddleSize,
; 18.054   0  	unsigned long threshSize );
; 18.055   0  void LibDeletePool( APTR poolHeader );
; 18.056   0  void LibFreePooled( APTR poolHeader, APTR memory, unsigned long memSize );

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 46


;Line#  Block                                  Source
; 18.057
; 18.058      /* Assorted functions in amiga.lib */
; 18.059
; 18.060   0  ULONG FastRand( unsigned long seed );
; 18.061   0  UWORD RangeRand( unsigned long maxValue );
; 18.062
; 18.063      /* Graphics support functions in amiga.lib */
; 18.064
; 18.065   0  void AddTOF( struct Isrvstr *i, long (*p)(), long a );
; 18.066   0  void RemTOF( struct Isrvstr *i );
; 18.067   0  void waitbeam( long b );
; 18.068
; 18.069      /* math support functions in amiga.lib */
; 18.070
; 18.071   0  FLOAT afp( BYTE *string );
; 18.072   0  void arnd( long place, long exp, BYTE *string );
; 18.073   0  FLOAT dbf( unsigned long exp, unsigned long mant );
; 18.074   0  LONG fpa( FLOAT fnum, BYTE *string );
; 18.075   0  void fpbcd( FLOAT fnum, BYTE *string );
; 18.076
; 18.077      /* Timer support functions in amiga.lib (V36 and higher only) */
; 18.078
; 18.079   0  LONG TimeDelay( long unit, unsigned long secs, unsigned long microsecs );
; 18.080   0  LONG DoTimer( struct timeval *, long unit, long command );
; 18.081
; 18.082      /*  Commodities functions in amiga.lib (V36 and higher only) */
; 18.083
; 18.084   0  void ArgArrayDone( void );
; 18.085   0  UBYTE **ArgArrayInit( long argc, UBYTE **argv );
; 18.086   0  LONG ArgInt( UBYTE **tt, STRPTR entry, long defaultval );
; 18.087   0  STRPTR ArgString( UBYTE **tt, STRPTR entry, STRPTR defaulstring );
; 18.088   0  CxObj *HotKey( STRPTR description, struct MsgPort *port, long id );
; 18.089   0  struct InputEvent *InvertString( STRPTR str, struct KeyMap *km );
; 18.090   0  void FreeIEvents( struct InputEvent *events );
; 18.091
; 18.092      /* Commodities Macros */
; 18.093
; 18.094      /* CxObj *CxCustom(LONG(*)(),LONG id)(A0,D0) */
; 18.095      /* CxObj *CxDebug(LONG id)(D0) */
; 18.096      /* CxObj *CxFilter(STRPTR description)(A0) */
; 18.097      /* CxObj *CxSender(struct MsgPort *port,LONG id)(A0,D0) */
; 18.098      /* CxObj *CxSignal(struct Task *task,LONG signal)(A0,D0) */
; 18.099      /* CxObj *CxTranslate(struct InputEvent *ie)(A0) */
; 18.100
; 18.101      /*  ARexx support functions in amiga.lib */
; 18.102
; 18.103   0  BOOL CheckRexxMsg( struct Message *rexxmsg );
; 18.104   0  LONG GetRexxVar( struct Message *rexxmsg, UBYTE *name, UBYTE **result );
; 18.105   0  LONG SetRexxVar( struct Message *rexxmsg, UBYTE *name, UBYTE *value,
; 18.106   0  	long length );

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 47


;Line#  Block                                  Source
; 18.107
; 18.108      /*  Intuition hook and boopsi support functions in amiga.lib. */
; 18.109      /*  These functions do not require any particular ROM revision */
; 18.110      /*  to operate correctly, though they deal with concepts first introduced */
; 18.111      /*  in V36.  These functions would work with compatibly-implemented */
; 18.112      /*  hooks or objects under V34. */
; 18.113
; 18.114   0  ULONG CallHookA( struct Hook *hookPtr, Object *obj, APTR message );
; 18.115   0  ULONG CallHook( struct Hook *hookPtr, Object *obj, ... );
; 18.116   0  ULONG DoMethodA( Object *obj, Msg message );
; 18.117   0  ULONG DoMethod( Object *obj, unsigned long MethodID, ... );
; 18.118   0  ULONG DoSuperMethodA( struct IClass *cl, Object *obj, Msg message );
; 18.119   0  ULONG DoSuperMethod( struct IClass *cl, Object *obj, unsigned long MethodID,
; 18.120   0  	... );
; 18.121   0  ULONG CoerceMethodA( struct IClass *cl, Object *obj, Msg message );
; 18.122   0  ULONG CoerceMethod( struct IClass *cl, Object *obj, unsigned long MethodID,
; 18.123   0  	... );
; 18.124   0  ULONG SetSuperAttrs( struct IClass *cl, Object *obj, unsigned long Tag1,
; 18.125   0  	... );
; 18.126
; 18.127      /*  Network-support functions in amiga.lib. */
; 18.128      /*  ACrypt() first appeared in later V39 versions of amiga.lib, but */
; 18.129      /*  operates correctly under V37 and up. */
; 18.130
; 18.131   0  STRPTR ACrypt( STRPTR buffer, STRPTR password, STRPTR username );
; 18.132   0  #endif	 /* CLIB_ALIB_PROTOS_H */
; 11.015   0  #endif
; 15       0  #include <proto/dos.h>
;===> Including file "sc:include/proto/dos.h"
; 28.001   0  #ifndef PROTO_DOS_H
; 28.002   0  #define PROTO_DOS_H
; 28.003   0  #include <exec/types.h>
; 28.004   0  extern struct DosLibrary *DOSBase ;
; 28.005   0  #include <clib/dos_protos.h>
;===> Including file "sc:include/clib/dos_protos.h"
; 29.001   0  #ifndef  CLIB_DOS_PROTOS_H
; 29.002   0  #define  CLIB_DOS_PROTOS_H
; 29.003
; 29.004      /*
; 29.005      **	$VER: dos_protos.h 36.31 (17.12.92)
; 29.006      **	Includes Release 40.13
; 29.007      **
; 29.008      **	C prototypes. For use with 32 bit integers only.
; 29.009      **
; 29.010      **	(C) Copyright 1990-1993 Commodore-Amiga, Inc.
; 29.011      **	    All Rights Reserved
; 29.012      */
; 29.013
; 29.014   0  #ifndef  DOS_DOS_H
; 29.015   0  #include <dos/dos.h>

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 48


;Line#  Block                                  Source
;===> Including file "sc:include/dos/dos.h"
; 30.001   0  #ifndef DOS_DOS_H
; 30.002   0  #define DOS_DOS_H
; 30.003      /*
; 30.004      **	$VER: dos.h 36.27 (5.4.92)
; 30.005      **	Includes Release 40.13
; 30.006      **
; 30.007      **	Standard C header for AmigaDOS
; 30.008      **
; 30.009      **	(C) Copyright 1985-1993 Commodore-Amiga, Inc.
; 30.010      **	    All Rights Reserved
; 30.011      */
; 30.012
; 30.013   0  #ifndef EXEC_TYPES_H
; 30.014      #include "exec/types.h"
; 30.015      #endif
; 30.016
; 30.017
; 30.018   0  #define	 DOSNAME  "dos.library"
; 30.019
; 30.020      /* Predefined Amiga DOS global constants */
; 30.021
; 30.022   0  #define DOSTRUE (-1L)
; 30.023   0  #define DOSFALSE (0L)
; 30.024
; 30.025      /* Mode parameter to Open() */
; 30.026   0  #define MODE_OLDFILE	     1005   /* Open existing file read/write
; 30.027   0  				     * positioned at beginning of file. */
; 30.028   0  #define MODE_NEWFILE	     1006   /* Open freshly created file (delete
; 30.029   0  				     * old file) read/write, exclusive lock. */
; 30.030   0  #define MODE_READWRITE	     1004   /* Open old file w/shared lock,
; 30.031   0  				     * creates file if doesn't exist. */
; 30.032
; 30.033      /* Relative position to Seek() */
; 30.034   0  #define OFFSET_BEGINNING    -1	    /* relative to Begining Of File */
; 30.035   0  #define OFFSET_CURRENT	     0	    /* relative to Current file position */
; 30.036   0  #define OFFSET_END	     1	    /* relative to End Of File	  */
; 30.037
; 30.038   0  #define OFFSET_BEGINING	    OFFSET_BEGINNING  /* ancient compatibility */
; 30.039
; 30.040   0  #define BITSPERBYTE	     8
; 30.041   0  #define BYTESPERLONG	     4
; 30.042   0  #define BITSPERLONG	     32
; 30.043   0  #define MAXINT		     0x7FFFFFFF
; 30.044   0  #define MININT		     0x80000000
; 30.045
; 30.046      /* Passed as type to Lock() */
; 30.047   0  #define SHARED_LOCK	     -2	    /* File is readable by others */
; 30.048   0  #define ACCESS_READ	     -2	    /* Synonym */
; 30.049   0  #define EXCLUSIVE_LOCK	     -1	    /* No other access allowed	  */

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 49


;Line#  Block                                  Source
; 30.050   0  #define ACCESS_WRITE	     -1	    /* Synonym */
; 30.051
; 30.052   0  struct DateStamp {
; 30.053   0     LONG	 ds_Days;	      /* Number of days since Jan. 1, 1978 */
; 30.054   0     LONG	 ds_Minute;	      /* Number of minutes past midnight */
; 30.055   0     LONG	 ds_Tick;	      /* Number of ticks past minute */
; 30.056   0  }; /* DateStamp */
; 30.057
; 30.058   0  #define TICKS_PER_SECOND      50   /* Number of ticks in one second */
; 30.059
; 30.060      /* Returned by Examine() and ExNext(), must be on a 4 byte boundary */
; 30.061   0  struct FileInfoBlock {
; 30.062   0     LONG	  fib_DiskKey;
; 30.063   0     LONG	  fib_DirEntryType;  /* Type of Directory. If < 0, then a plain file.
; 30.064   0  			      * If > 0 a directory */
; 30.065   0     char	  fib_FileName[108]; /* Null terminated. Max 30 chars used for now */
; 30.066   0     LONG	  fib_Protection;    /* bit mask of protection, rwxd are 3-0.	   */
; 30.067   0     LONG	  fib_EntryType;
; 30.068   0     LONG	  fib_Size;	     /* Number of bytes in file */
; 30.069   0     LONG	  fib_NumBlocks;     /* Number of blocks in file */
; 30.070   0     struct DateStamp fib_Date;/* Date file last changed */
; 30.071   0     char	  fib_Comment[80];  /* Null terminated comment associated with file */
; 30.072
; 30.073         /* Note: the following fields are not supported by all filesystems.	*/
; 30.074         /* They should be initialized to 0 sending an ACTION_EXAMINE packet.	*/
; 30.075         /* When Examine() is called, these are set to 0 for you.		*/
; 30.076         /* AllocDosObject() also initializes them to 0.			*/
; 30.077   0     UWORD  fib_OwnerUID;		/* owner's UID */
; 30.078   0     UWORD  fib_OwnerGID;		/* owner's GID */
; 30.079
; 30.080   0     char	  fib_Reserved[32];
; 30.081   0  }; /* FileInfoBlock */
; 30.082
; 30.083      /* FIB stands for FileInfoBlock */
; 30.084
; 30.085      /* FIBB are bit definitions, FIBF are field definitions */
; 30.086      /* Regular RWED bits are 0 == allowed. */
; 30.087      /* NOTE: GRP and OTR RWED permissions are 0 == not allowed! */
; 30.088      /* Group and Other permissions are not directly handled by the filesystem */
; 30.089   0  #define FIBB_OTR_READ	   15	/* Other: file is readable */
; 30.090   0  #define FIBB_OTR_WRITE	   14	/* Other: file is writable */
; 30.091   0  #define FIBB_OTR_EXECUTE   13	/* Other: file is executable */
; 30.092   0  #define FIBB_OTR_DELETE    12	/* Other: prevent file from being deleted */
; 30.093   0  #define FIBB_GRP_READ	   11	/* Group: file is readable */
; 30.094   0  #define FIBB_GRP_WRITE	   10	/* Group: file is writable */
; 30.095   0  #define FIBB_GRP_EXECUTE   9	/* Group: file is executable */
; 30.096   0  #define FIBB_GRP_DELETE    8	/* Group: prevent file from being deleted */
; 30.097
; 30.098   0  #define FIBB_SCRIPT    6	/* program is a script (execute) file */
; 30.099   0  #define FIBB_PURE      5	/* program is reentrant and rexecutable */

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 50


;Line#  Block                                  Source
; 30.100   0  #define FIBB_ARCHIVE   4	/* cleared whenever file is changed */
; 30.101   0  #define FIBB_READ      3	/* ignored by old filesystem */
; 30.102   0  #define FIBB_WRITE     2	/* ignored by old filesystem */
; 30.103   0  #define FIBB_EXECUTE   1	/* ignored by system, used by Shell */
; 30.104   0  #define FIBB_DELETE    0	/* prevent file from being deleted */
; 30.105
; 30.106   0  #define FIBF_OTR_READ	   (1<<FIBB_OTR_READ)
; 30.107   0  #define FIBF_OTR_WRITE	   (1<<FIBB_OTR_WRITE)
; 30.108   0  #define FIBF_OTR_EXECUTE   (1<<FIBB_OTR_EXECUTE)
; 30.109   0  #define FIBF_OTR_DELETE    (1<<FIBB_OTR_DELETE)
; 30.110   0  #define FIBF_GRP_READ	   (1<<FIBB_GRP_READ)
; 30.111   0  #define FIBF_GRP_WRITE	   (1<<FIBB_GRP_WRITE)
; 30.112   0  #define FIBF_GRP_EXECUTE   (1<<FIBB_GRP_EXECUTE)
; 30.113   0  #define FIBF_GRP_DELETE    (1<<FIBB_GRP_DELETE)
; 30.114
; 30.115   0  #define FIBF_SCRIPT    (1<<FIBB_SCRIPT)
; 30.116   0  #define FIBF_PURE      (1<<FIBB_PURE)
; 30.117   0  #define FIBF_ARCHIVE   (1<<FIBB_ARCHIVE)
; 30.118   0  #define FIBF_READ      (1<<FIBB_READ)
; 30.119   0  #define FIBF_WRITE     (1<<FIBB_WRITE)
; 30.120   0  #define FIBF_EXECUTE   (1<<FIBB_EXECUTE)
; 30.121   0  #define FIBF_DELETE    (1<<FIBB_DELETE)
; 30.122
; 30.123      /* Standard maximum length for an error string from fault.  However, most */
; 30.124      /* error strings should be kept under 60 characters if possible.  Don't   */
; 30.125      /* forget space for the header you pass in. */
; 30.126   0  #define FAULT_MAX	82
; 30.127
; 30.128      /* All BCPL data must be long word aligned.  BCPL pointers are the long word
; 30.129       *  address (i.e byte address divided by 4 (>>2)) */
; 30.130   0  typedef long  BPTR;		    /* Long word pointer */
; 30.131   0  typedef long  BSTR;		    /* Long word pointer to BCPL string	 */
; 30.132
; 30.133      /* Convert BPTR to typical C pointer */
; 30.134   0  #ifdef OBSOLETE_LIBRARIES_DOS_H
; 30.135      #define BADDR( bptr )	(((ULONG)bptr) << 2)
; 30.136      #else
; 30.137      /* This one has no problems with CASTing */
; 30.138   0  #define BADDR(x)	((APTR)((ULONG)(x) << 2))
; 30.139   0  #endif
; 30.140      /* Convert address into a BPTR */
; 30.141   0  #define MKBADDR(x)	(((LONG)(x)) >> 2)
; 30.142
; 30.143      /* BCPL strings have a length in the first byte and then the characters.
; 30.144       * For example:	 s[0]=3 s[1]=S s[2]=Y s[3]=S				 */
; 30.145
; 30.146      /* returned by Info(), must be on a 4 byte boundary */
; 30.147   0  struct InfoData {
; 30.148   0     LONG	  id_NumSoftErrors;	/* number of soft errors on disk */
; 30.149   0     LONG	  id_UnitNumber;	/* Which unit disk is (was) mounted on */

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 51


;Line#  Block                                  Source
; 30.150   0     LONG	  id_DiskState;		/* See defines below */
; 30.151   0     LONG	  id_NumBlocks;		/* Number of blocks on disk */
; 30.152   0     LONG	  id_NumBlocksUsed;	/* Number of block in use */
; 30.153   0     LONG	  id_BytesPerBlock;
; 30.154   0     LONG	  id_DiskType;		/* Disk Type code */
; 30.155   0     BPTR	  id_VolumeNode;	/* BCPL pointer to volume node */
; 30.156   0     LONG	  id_InUse;		/* Flag, zero if not in use */
; 30.157   0  }; /* InfoData */
; 30.158
; 30.159      /* ID stands for InfoData */
; 30.160      	/* Disk states */
; 30.161   0  #define ID_WRITE_PROTECTED 80	 /* Disk is write protected */
; 30.162   0  #define ID_VALIDATING	   81	 /* Disk is currently being validated */
; 30.163   0  #define ID_VALIDATED	   82	 /* Disk is consistent and writeable */
; 30.164
; 30.165      	/* Disk types */
; 30.166      /* ID_INTER_* use international case comparison routines for hashing */
; 30.167      /* Any other new filesystems should also, if possible. */
; 30.168   0  #define ID_NO_DISK_PRESENT	(-1)
; 30.169   0  #define ID_UNREADABLE_DISK	(0x42414400L)	/* 'BAD\0' */
; 30.170   0  #define ID_DOS_DISK		(0x444F5300L)	/* 'DOS\0' */
; 30.171   0  #define ID_FFS_DISK		(0x444F5301L)	/* 'DOS\1' */
; 30.172   0  #define ID_INTER_DOS_DISK	(0x444F5302L)	/* 'DOS\2' */
; 30.173   0  #define ID_INTER_FFS_DISK	(0x444F5303L)	/* 'DOS\3' */
; 30.174   0  #define ID_FASTDIR_DOS_DISK	(0x444F5304L)	/* 'DOS\4' */
; 30.175   0  #define ID_FASTDIR_FFS_DISK	(0x444F5305L)	/* 'DOS\5' */
; 30.176   0  #define ID_NOT_REALLY_DOS	(0x4E444F53L)	/* 'NDOS'  */
; 30.177   0  #define ID_KICKSTART_DISK	(0x4B49434BL)	/* 'KICK'  */
; 30.178   0  #define ID_MSDOS_DISK		(0x4d534400L)	/* 'MSD\0' */
; 30.179
; 30.180      /* Errors from IoErr(), etc. */
; 30.181   0  #define ERROR_NO_FREE_STORE		  103
; 30.182   0  #define ERROR_TASK_TABLE_FULL		  105
; 30.183   0  #define ERROR_BAD_TEMPLATE		  114
; 30.184   0  #define ERROR_BAD_NUMBER		  115
; 30.185   0  #define ERROR_REQUIRED_ARG_MISSING	  116
; 30.186   0  #define ERROR_KEY_NEEDS_ARG		  117
; 30.187   0  #define ERROR_TOO_MANY_ARGS		  118
; 30.188   0  #define ERROR_UNMATCHED_QUOTES		  119
; 30.189   0  #define ERROR_LINE_TOO_LONG		  120
; 30.190   0  #define ERROR_FILE_NOT_OBJECT		  121
; 30.191   0  #define ERROR_INVALID_RESIDENT_LIBRARY	  122
; 30.192   0  #define ERROR_NO_DEFAULT_DIR		  201
; 30.193   0  #define ERROR_OBJECT_IN_USE		  202
; 30.194   0  #define ERROR_OBJECT_EXISTS		  203
; 30.195   0  #define ERROR_DIR_NOT_FOUND		  204
; 30.196   0  #define ERROR_OBJECT_NOT_FOUND		  205
; 30.197   0  #define ERROR_BAD_STREAM_NAME		  206
; 30.198   0  #define ERROR_OBJECT_TOO_LARGE		  207
; 30.199   0  #define ERROR_ACTION_NOT_KNOWN		  209

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 52


;Line#  Block                                  Source
; 30.200   0  #define ERROR_INVALID_COMPONENT_NAME	  210
; 30.201   0  #define ERROR_INVALID_LOCK		  211
; 30.202   0  #define ERROR_OBJECT_WRONG_TYPE		  212
; 30.203   0  #define ERROR_DISK_NOT_VALIDATED	  213
; 30.204   0  #define ERROR_DISK_WRITE_PROTECTED	  214
; 30.205   0  #define ERROR_RENAME_ACROSS_DEVICES	  215
; 30.206   0  #define ERROR_DIRECTORY_NOT_EMPTY	  216
; 30.207   0  #define ERROR_TOO_MANY_LEVELS		  217
; 30.208   0  #define ERROR_DEVICE_NOT_MOUNTED	  218
; 30.209   0  #define ERROR_SEEK_ERROR		  219
; 30.210   0  #define ERROR_COMMENT_TOO_BIG		  220
; 30.211   0  #define ERROR_DISK_FULL			  221
; 30.212   0  #define ERROR_DELETE_PROTECTED		  222
; 30.213   0  #define ERROR_WRITE_PROTECTED		  223
; 30.214   0  #define ERROR_READ_PROTECTED		  224
; 30.215   0  #define ERROR_NOT_A_DOS_DISK		  225
; 30.216   0  #define ERROR_NO_DISK			  226
; 30.217   0  #define ERROR_NO_MORE_ENTRIES		  232
; 30.218      /* added for 1.4 */
; 30.219   0  #define ERROR_IS_SOFT_LINK		  233
; 30.220   0  #define ERROR_OBJECT_LINKED		  234
; 30.221   0  #define ERROR_BAD_HUNK			  235
; 30.222   0  #define ERROR_NOT_IMPLEMENTED		  236
; 30.223   0  #define ERROR_RECORD_NOT_LOCKED		  240
; 30.224   0  #define ERROR_LOCK_COLLISION		  241
; 30.225   0  #define ERROR_LOCK_TIMEOUT		  242
; 30.226   0  #define ERROR_UNLOCK_ERROR		  243
; 30.227
; 30.228      /* error codes 303-305 are defined in dosasl.h */
; 30.229
; 30.230      /* These are the return codes used by convention by AmigaDOS commands */
; 30.231      /* See FAILAT and IF for relvance to EXECUTE files		      */
; 30.232   0  #define RETURN_OK			    0  /* No problems, success */
; 30.233   0  #define RETURN_WARN			    5  /* A warning only */
; 30.234   0  #define RETURN_ERROR			   10  /* Something wrong */
; 30.235   0  #define RETURN_FAIL			   20  /* Complete or severe failure*/
; 30.236
; 30.237      /* Bit numbers that signal you that a user has issued a break */
; 30.238   0  #define SIGBREAKB_CTRL_C   12
; 30.239   0  #define SIGBREAKB_CTRL_D   13
; 30.240   0  #define SIGBREAKB_CTRL_E   14
; 30.241   0  #define SIGBREAKB_CTRL_F   15
; 30.242
; 30.243      /* Bit fields that signal you that a user has issued a break */
; 30.244      /* for example:	 if (SetSignal(0,0) & SIGBREAKF_CTRL_C) cleanup_and_exit(); */
; 30.245   0  #define SIGBREAKF_CTRL_C   (1<<SIGBREAKB_CTRL_C)
; 30.246   0  #define SIGBREAKF_CTRL_D   (1<<SIGBREAKB_CTRL_D)
; 30.247   0  #define SIGBREAKF_CTRL_E   (1<<SIGBREAKB_CTRL_E)
; 30.248   0  #define SIGBREAKF_CTRL_F   ((long)1<<SIGBREAKB_CTRL_F)
; 30.249

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 53


;Line#  Block                                  Source
; 30.250      /* Values returned by SameLock() */
; 30.251   0  #define LOCK_DIFFERENT		-1
; 30.252   0  #define LOCK_SAME		0
; 30.253   0  #define LOCK_SAME_VOLUME	1	/* locks are on same volume */
; 30.254   0  #define LOCK_SAME_HANDLER	LOCK_SAME_VOLUME
; 30.255      /* LOCK_SAME_HANDLER was a misleading name, def kept for src compatibility */
; 30.256
; 30.257      /* types for ChangeMode() */
; 30.258   0  #define CHANGE_LOCK	0
; 30.259   0  #define CHANGE_FH	1
; 30.260
; 30.261      /* Values for MakeLink() */
; 30.262   0  #define LINK_HARD	0
; 30.263   0  #define LINK_SOFT	1	/* softlinks are not fully supported yet */
; 30.264
; 30.265      /* values returned by ReadItem */
; 30.266   0  #define	ITEM_EQUAL	-2		/* "=" Symbol */
; 30.267   0  #define ITEM_ERROR	-1		/* error */
; 30.268   0  #define ITEM_NOTHING	0		/* *N, ;, endstreamch */
; 30.269   0  #define ITEM_UNQUOTED	1		/* unquoted item */
; 30.270   0  #define ITEM_QUOTED	2		/* quoted item */
; 30.271
; 30.272      /* types for AllocDosObject/FreeDosObject */
; 30.273   0  #define DOS_FILEHANDLE		0	/* few people should use this */
; 30.274   0  #define DOS_EXALLCONTROL	1	/* Must be used to allocate this! */
; 30.275   0  #define	DOS_FIB			2	/* useful */
; 30.276   0  #define DOS_STDPKT		3	/* for doing packet-level I/O */
; 30.277   0  #define DOS_CLI			4	/* for shell-writers, etc */
; 30.278   0  #define DOS_RDARGS		5	/* for ReadArgs if you pass it in */
; 30.279
; 30.280   0  #endif	/* DOS_DOS_H */
; 30.281
; 29.016   0  #endif
; 29.017   0  #ifndef  DOS_DOSEXTENS_H
; 29.018   0  #include <dos/dosextens.h>
;===> Including file "sc:include/dos/dosextens.h"
; 31.001   0  #ifndef DOS_DOSEXTENS_H
; 31.002   0  #define DOS_DOSEXTENS_H
; 31.003      /*
; 31.004      **	$VER: dosextens.h 36.41 (14.5.92)
; 31.005      **	Includes Release 40.13
; 31.006      **
; 31.007      **	DOS structures not needed for the casual AmigaDOS user
; 31.008      **
; 31.009      **	(C) Copyright 1985-1993 Commodore-Amiga, Inc.
; 31.010      **	    All Rights Reserved
; 31.011      */
; 31.012
; 31.013   0  #ifndef EXEC_TASKS_H
; 31.014      #include "exec/tasks.h"

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 54


;Line#  Block                                  Source
; 31.015      #endif
; 31.016   0  #ifndef EXEC_PORTS_H
; 31.017      #include "exec/ports.h"
; 31.018      #endif
; 31.019   0  #ifndef EXEC_LIBRARIES_H
; 31.020   0  #include "exec/libraries.h"
;===> Including file "sc:include/exec/libraries.h"
; 32.001   0  #ifndef	EXEC_LIBRARIES_H
; 32.002   0  #define	EXEC_LIBRARIES_H
; 32.003      /*
; 32.004      **	$VER: libraries.h 39.2 (10.4.92)
; 32.005      **	Includes Release 40.13
; 32.006      **
; 32.007      **	Definitions for use when creating or using Exec libraries
; 32.008      **
; 32.009      **	(C) Copyright 1985-1993 Commodore-Amiga, Inc.
; 32.010      **	    All Rights Reserved
; 32.011      */
; 32.012
; 32.013   0  #ifndef EXEC_NODES_H
; 32.014      #include "exec/nodes.h"
; 32.015      #endif /* EXEC_NODES_H */
; 32.016
; 32.017
; 32.018      /*------ Special Constants ---------------------------------------*/
; 32.019   0  #define LIB_VECTSIZE	6	/* Each library entry takes 6 bytes */
; 32.020   0  #define LIB_RESERVED	4	/* Exec reserves the first 4 vectors */
; 32.021   0  #define LIB_BASE	(-LIB_VECTSIZE)
; 32.022   0  #define LIB_USERDEF	(LIB_BASE-(LIB_RESERVED*LIB_VECTSIZE))
; 32.023   0  #define LIB_NONSTD	(LIB_USERDEF)
; 32.024
; 32.025      /*------ Standard Functions --------------------------------------*/
; 32.026   0  #define LIB_OPEN	(-6)
; 32.027   0  #define LIB_CLOSE	(-12)
; 32.028   0  #define LIB_EXPUNGE	(-18)
; 32.029   0  #define LIB_EXTFUNC	(-24)	/* for future expansion */
; 32.030
; 32.031
; 32.032      /*------ Library Base Structure ----------------------------------*/
; 32.033      /* Also used for Devices and some Resources */
; 32.034   0  struct Library {
; 32.035   0      struct  Node lib_Node;
; 32.036   0      UBYTE   lib_Flags;
; 32.037   0      UBYTE   lib_pad;
; 32.038   0      UWORD   lib_NegSize;	    /* number of bytes before library */
; 32.039   0      UWORD   lib_PosSize;	    /* number of bytes after library */
; 32.040   0      UWORD   lib_Version;	    /* major */
; 32.041   0      UWORD   lib_Revision;	    /* minor */
; 32.042   0      APTR    lib_IdString;	    /* ASCII identification */
; 32.043   0      ULONG   lib_Sum;		    /* the checksum itself */

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 55


;Line#  Block                                  Source
; 32.044   0      UWORD   lib_OpenCnt;	    /* number of current opens */
; 32.045   0  };	/* Warning: size is not a longword multiple! */
; 32.046
; 32.047      /* lib_Flags bit definitions (all others are system reserved) */
; 32.048   0  #define LIBF_SUMMING	(1<<0)	    /* we are currently checksumming */
; 32.049   0  #define LIBF_CHANGED	(1<<1)	    /* we have just changed the lib */
; 32.050   0  #define LIBF_SUMUSED	(1<<2)	    /* set if we should bother to sum */
; 32.051   0  #define LIBF_DELEXP	(1<<3)	    /* delayed expunge */
; 32.052
; 32.053
; 32.054      /* Temporary Compatibility */
; 32.055   0  #define lh_Node	lib_Node
; 32.056   0  #define lh_Flags	lib_Flags
; 32.057   0  #define lh_pad		lib_pad
; 32.058   0  #define lh_NegSize	lib_NegSize
; 32.059   0  #define lh_PosSize	lib_PosSize
; 32.060   0  #define lh_Version	lib_Version
; 32.061   0  #define lh_Revision	lib_Revision
; 32.062   0  #define lh_IdString	lib_IdString
; 32.063   0  #define lh_Sum		lib_Sum
; 32.064   0  #define lh_OpenCnt	lib_OpenCnt
; 32.065
; 32.066   0  #endif	/* EXEC_LIBRARIES_H */
; 31.021   0  #endif
; 31.022   0  #ifndef EXEC_SEMAPHORES_H
; 31.023   0  #include "exec/semaphores.h"
;===> Including file "sc:include/exec/semaphores.h"
; 33.001   0  #ifndef	EXEC_SEMAPHORES_H
; 33.002   0  #define	EXEC_SEMAPHORES_H
; 33.003      /*
; 33.004      **	$VER: semaphores.h 39.1 (7.2.92)
; 33.005      **	Includes Release 40.13
; 33.006      **
; 33.007      **	Definitions for locking functions.
; 33.008      **
; 33.009      **	(C) Copyright 1986-1993 Commodore-Amiga, Inc.
; 33.010      **	    All Rights Reserved
; 33.011      */
; 33.012
; 33.013   0  #ifndef EXEC_NODES_H
; 33.014      #include "exec/nodes.h"
; 33.015      #endif /* EXEC_NODES_H */
; 33.016
; 33.017   0  #ifndef EXEC_LISTS_H
; 33.018      #include "exec/lists.h"
; 33.019      #endif /* EXEC_LISTS_H */
; 33.020
; 33.021   0  #ifndef EXEC_PORTS_H
; 33.022      #include "exec/ports.h"
; 33.023      #endif /* EXEC_PORTS_H */

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 56


;Line#  Block                                  Source
; 33.024
; 33.025   0  #ifndef EXEC_TASKS_H
; 33.026      #include "exec/tasks.h"
; 33.027      #endif /* EXEC_TASKS_H */
; 33.028
; 33.029
; 33.030      /****** SignalSemaphore *********************************************/
; 33.031
; 33.032      /* Private structure used by ObtainSemaphore() */
; 33.033   0  struct SemaphoreRequest
; 33.034   0  {
; 33.035   0  struct	MinNode	sr_Link;
; 33.036   0  struct	Task	*sr_Waiter;
; 33.037   0  };
; 33.038
; 33.039      /* Signal Semaphore data structure */
; 33.040   0  struct SignalSemaphore
; 33.041   0  {
; 33.042   0  struct	Node			ss_Link;
; 33.043   0  	WORD			ss_NestCount;
; 33.044   0  struct	MinList			ss_WaitQueue;
; 33.045   0  struct	SemaphoreRequest	ss_MultipleLink;
; 33.046   0  struct	Task			*ss_Owner;
; 33.047   0  	WORD			ss_QueueCount;
; 33.048   0  };
; 33.049
; 33.050      /****** Semaphore procure message (for use in V39 Procure/Vacate ****/
; 33.051   0  struct SemaphoreMessage
; 33.052   0  {
; 33.053   0  struct	Message		ssm_Message;
; 33.054   0  struct	SignalSemaphore	*ssm_Semaphore;
; 33.055   0  };
; 33.056
; 33.057   0  #define	SM_SHARED	(1L)
; 33.058   0  #define	SM_EXCLUSIVE	(0L)
; 33.059
; 33.060      /****** Semaphore (Old Procure/Vacate type, not reliable) ***********/
; 33.061
; 33.062   0  struct Semaphore	/* Do not use these semaphores! */
; 33.063   0  {
; 33.064   0  struct	MsgPort	sm_MsgPort;
; 33.065   0  	WORD	sm_Bids;
; 33.066   0  };
; 33.067
; 33.068   0  #define sm_LockMsg	mp_SigTask
; 33.069
; 33.070
; 33.071   0  #endif	/* EXEC_SEMAPHORES_H */
; 31.024   0  #endif
; 31.025   0  #ifndef DEVICES_TIMER_H

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 57


;Line#  Block                                  Source
; 31.026      #include "devices/timer.h"
; 31.027      #endif
; 31.028
; 31.029   0  #ifndef DOS_DOS_H
; 31.030      #include "dos/dos.h"
; 31.031      #endif
; 31.032
; 31.033      /* All DOS processes have this structure */
; 31.034      /* Create and Device Proc returns pointer to the MsgPort in this structure */
; 31.035      /* dev_proc = (struct Process *) (DeviceProc(..) - sizeof(struct Task)); */
; 31.036
; 31.037   0  struct Process {
; 31.038   0      struct  Task    pr_Task;
; 31.039   0      struct  MsgPort pr_MsgPort; /* This is BPTR address from DOS functions  */
; 31.040   0      WORD    pr_Pad;		/* Remaining variables on 4 byte boundaries */
; 31.041   0      BPTR    pr_SegList;		/* Array of seg lists used by this process  */
; 31.042   0      LONG    pr_StackSize;	/* Size of process stack in bytes	    */
; 31.043   0      APTR    pr_GlobVec;		/* Global vector for this process (BCPL)    */
; 31.044   0      LONG    pr_TaskNum;		/* CLI task number of zero if not a CLI	    */
; 31.045   0      BPTR    pr_StackBase;	/* Ptr to high memory end of process stack  */
; 31.046   0      LONG    pr_Result2;		/* Value of secondary result from last call */
; 31.047   0      BPTR    pr_CurrentDir;	/* Lock associated with current directory   */
; 31.048   0      BPTR    pr_CIS;		/* Current CLI Input Stream		    */
; 31.049   0      BPTR    pr_COS;		/* Current CLI Output Stream		    */
; 31.050   0      APTR    pr_ConsoleTask;	/* Console handler process for current window*/
; 31.051   0      APTR    pr_FileSystemTask;	/* File handler process for current drive   */
; 31.052   0      BPTR    pr_CLI;		/* pointer to CommandLineInterface	    */
; 31.053   0      APTR    pr_ReturnAddr;	/* pointer to previous stack frame	    */
; 31.054   0      APTR    pr_PktWait;		/* Function to be called when awaiting msg  */
; 31.055   0      APTR    pr_WindowPtr;	/* Window for error printing		    */
; 31.056
; 31.057          /* following definitions are new with 2.0 */
; 31.058   0      BPTR    pr_HomeDir;		/* Home directory of executing program	    */
; 31.059   0      LONG    pr_Flags;		/* flags telling dos about process	    */
; 31.060   0      void    (*pr_ExitCode)();	/* code to call on exit of program or NULL  */
; 31.061   0      LONG    pr_ExitData;	/* Passed as an argument to pr_ExitCode.    */
; 31.062   0      UBYTE   *pr_Arguments;	/* Arguments passed to the process at start */
; 31.063   0      struct MinList pr_LocalVars; /* Local environment variables		    */
; 31.064   0      ULONG   pr_ShellPrivate;	/* for the use of the current shell	    */
; 31.065   0      BPTR    pr_CES;		/* Error stream - if NULL, use pr_COS	    */
; 31.066   0  };  /* Process */
; 31.067
; 31.068      /*
; 31.069       * Flags for pr_Flags
; 31.070       */
; 31.071   0  #define	PRB_FREESEGLIST		0
; 31.072   0  #define	PRF_FREESEGLIST		1
; 31.073   0  #define	PRB_FREECURRDIR		1
; 31.074   0  #define	PRF_FREECURRDIR		2
; 31.075   0  #define	PRB_FREECLI		2

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 58


;Line#  Block                                  Source
; 31.076   0  #define	PRF_FREECLI		4
; 31.077   0  #define	PRB_CLOSEINPUT		3
; 31.078   0  #define	PRF_CLOSEINPUT		8
; 31.079   0  #define	PRB_CLOSEOUTPUT		4
; 31.080   0  #define	PRF_CLOSEOUTPUT		16
; 31.081   0  #define	PRB_FREEARGS		5
; 31.082   0  #define	PRF_FREEARGS		32
; 31.083
; 31.084      /* The long word address (BPTR) of this structure is returned by
; 31.085       * Open() and other routines that return a file.  You need only worry
; 31.086       * about this struct to do async io's via PutMsg() instead of
; 31.087       * standard file system calls */
; 31.088
; 31.089   0  struct FileHandle {
; 31.090   0     struct Message *fh_Link;	 /* EXEC message	      */
; 31.091   0     struct MsgPort *fh_Port;	 /* Reply port for the packet */
; 31.092   0     struct MsgPort *fh_Type;	 /* Port to do PutMsg() to
; 31.093   0  				  * Address is negative if a plain file */
; 31.094   0     LONG fh_Buf;
; 31.095   0     LONG fh_Pos;
; 31.096   0     LONG fh_End;
; 31.097   0     LONG fh_Funcs;
; 31.098   0  #define fh_Func1 fh_Funcs
; 31.099   0     LONG fh_Func2;
; 31.100   0     LONG fh_Func3;
; 31.101   0     LONG fh_Args;
; 31.102   0  #define fh_Arg1 fh_Args
; 31.103   0     LONG fh_Arg2;
; 31.104   0  }; /* FileHandle */
; 31.105
; 31.106      /* This is the extension to EXEC Messages used by DOS */
; 31.107
; 31.108   0  struct DosPacket {
; 31.109   0     struct Message *dp_Link;	 /* EXEC message	      */
; 31.110   0     struct MsgPort *dp_Port;	 /* Reply port for the packet */
; 31.111      				 /* Must be filled in each send. */
; 31.112   0     LONG dp_Type;		 /* See ACTION_... below and
; 31.113   0  				  * 'R' means Read, 'W' means Write to the
; 31.114   0  				  * file system */
; 31.115   0     LONG dp_Res1;		 /* For file system calls this is the result
; 31.116   0  				  * that would have been returned by the
; 31.117   0  				  * function, e.g. Write ('W') returns actual
; 31.118   0  				  * length written */
; 31.119   0     LONG dp_Res2;		 /* For file system calls this is what would
; 31.120   0  				  * have been returned by IoErr() */
; 31.121      /*  Device packets common equivalents */
; 31.122   0  #define dp_Action  dp_Type
; 31.123   0  #define dp_Status  dp_Res1
; 31.124   0  #define dp_Status2 dp_Res2
; 31.125   0  #define dp_BufAddr dp_Arg1

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 59


;Line#  Block                                  Source
; 31.126   0     LONG dp_Arg1;
; 31.127   0     LONG dp_Arg2;
; 31.128   0     LONG dp_Arg3;
; 31.129   0     LONG dp_Arg4;
; 31.130   0     LONG dp_Arg5;
; 31.131   0     LONG dp_Arg6;
; 31.132   0     LONG dp_Arg7;
; 31.133   0  }; /* DosPacket */
; 31.134
; 31.135      /* A Packet does not require the Message to be before it in memory, but
; 31.136       * for convenience it is useful to associate the two.
; 31.137       * Also see the function init_std_pkt for initializing this structure */
; 31.138
; 31.139   0  struct StandardPacket {
; 31.140   0     struct Message   sp_Msg;
; 31.141   0     struct DosPacket sp_Pkt;
; 31.142   0  }; /* StandardPacket */
; 31.143
; 31.144      /* Packet types */
; 31.145   0  #define ACTION_NIL		0
; 31.146   0  #define ACTION_STARTUP		0
; 31.147   0  #define ACTION_GET_BLOCK	2	/* OBSOLETE */
; 31.148   0  #define ACTION_SET_MAP		4
; 31.149   0  #define ACTION_DIE		5
; 31.150   0  #define ACTION_EVENT		6
; 31.151   0  #define ACTION_CURRENT_VOLUME	7
; 31.152   0  #define ACTION_LOCATE_OBJECT	8
; 31.153   0  #define ACTION_RENAME_DISK	9
; 31.154   0  #define ACTION_WRITE		'W'
; 31.155   0  #define ACTION_READ		'R'
; 31.156   0  #define ACTION_FREE_LOCK	15
; 31.157   0  #define ACTION_DELETE_OBJECT	16
; 31.158   0  #define ACTION_RENAME_OBJECT	17
; 31.159   0  #define ACTION_MORE_CACHE	18
; 31.160   0  #define ACTION_COPY_DIR		19
; 31.161   0  #define ACTION_WAIT_CHAR	20
; 31.162   0  #define ACTION_SET_PROTECT	21
; 31.163   0  #define ACTION_CREATE_DIR	22
; 31.164   0  #define ACTION_EXAMINE_OBJECT	23
; 31.165   0  #define ACTION_EXAMINE_NEXT	24
; 31.166   0  #define ACTION_DISK_INFO	25
; 31.167   0  #define ACTION_INFO		26
; 31.168   0  #define ACTION_FLUSH		27
; 31.169   0  #define ACTION_SET_COMMENT	28
; 31.170   0  #define ACTION_PARENT		29
; 31.171   0  #define ACTION_TIMER		30
; 31.172   0  #define ACTION_INHIBIT		31
; 31.173   0  #define ACTION_DISK_TYPE	32
; 31.174   0  #define ACTION_DISK_CHANGE	33
; 31.175   0  #define ACTION_SET_DATE		34

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 60


;Line#  Block                                  Source
; 31.176
; 31.177   0  #define ACTION_SCREEN_MODE	994
; 31.178
; 31.179   0  #define ACTION_READ_RETURN	1001
; 31.180   0  #define ACTION_WRITE_RETURN	1002
; 31.181   0  #define ACTION_SEEK		1008
; 31.182   0  #define ACTION_FINDUPDATE	1004
; 31.183   0  #define ACTION_FINDINPUT	1005
; 31.184   0  #define ACTION_FINDOUTPUT	1006
; 31.185   0  #define ACTION_END		1007
; 31.186   0  #define ACTION_SET_FILE_SIZE	1022	/* fast file system only in 1.3 */
; 31.187   0  #define ACTION_WRITE_PROTECT	1023	/* fast file system only in 1.3 */
; 31.188
; 31.189      /* new 2.0 packets */
; 31.190   0  #define ACTION_SAME_LOCK	40
; 31.191   0  #define ACTION_CHANGE_SIGNAL	995
; 31.192   0  #define ACTION_FORMAT		1020
; 31.193   0  #define ACTION_MAKE_LINK	1021
; 31.194      /**/
; 31.195      /**/
; 31.196   0  #define ACTION_READ_LINK	1024
; 31.197   0  #define ACTION_FH_FROM_LOCK	1026
; 31.198   0  #define ACTION_IS_FILESYSTEM	1027
; 31.199   0  #define ACTION_CHANGE_MODE	1028
; 31.200      /**/
; 31.201   0  #define ACTION_COPY_DIR_FH	1030
; 31.202   0  #define ACTION_PARENT_FH	1031
; 31.203   0  #define ACTION_EXAMINE_ALL	1033
; 31.204   0  #define ACTION_EXAMINE_FH	1034
; 31.205
; 31.206   0  #define ACTION_LOCK_RECORD	2008
; 31.207   0  #define ACTION_FREE_RECORD	2009
; 31.208
; 31.209   0  #define ACTION_ADD_NOTIFY	4097
; 31.210   0  #define ACTION_REMOVE_NOTIFY	4098
; 31.211
; 31.212      /* Added in V39: */
; 31.213   0  #define ACTION_EXAMINE_ALL_END	1035
; 31.214   0  #define ACTION_SET_OWNER	1036
; 31.215
; 31.216      /* Tell a file system to serialize the current volume. This is typically
; 31.217       * done by changing the creation date of the disk. This packet does not take
; 31.218       * any arguments.  NOTE: be prepared to handle failure of this packet for
; 31.219       * V37 ROM filesystems.
; 31.220       */
; 31.221   0  #define	ACTION_SERIALIZE_DISK	4200
; 31.222
; 31.223      /*
; 31.224       * A structure for holding error messages - stored as array with error == 0
; 31.225       * for the last entry.

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 61


;Line#  Block                                  Source
; 31.226       */
; 31.227   0  struct ErrorString {
; 31.228   0  	LONG  *estr_Nums;
; 31.229   0  	UBYTE *estr_Strings;
; 31.230   0  };
; 31.231
; 31.232      /* DOS library node structure.
; 31.233       * This is the data at positive offsets from the library node.
; 31.234       * Negative offsets from the node is the jump table to DOS functions
; 31.235       * node = (struct DosLibrary *) OpenLibrary( "dos.library" .. )	     */
; 31.236
; 31.237   0  struct DosLibrary {
; 31.238   0      struct Library dl_lib;
; 31.239   0      struct RootNode *dl_Root; /* Pointer to RootNode, described below */
; 31.240   0      APTR    dl_GV;	      /* Pointer to BCPL global vector	      */
; 31.241   0      LONG    dl_A2;	      /* BCPL standard register values	      */
; 31.242   0      LONG    dl_A5;
; 31.243   0      LONG    dl_A6;
; 31.244   0      struct ErrorString *dl_Errors;	  /* PRIVATE pointer to array of error msgs *
;       ..... /
; 31.245   0      struct timerequest *dl_TimeReq;	  /* PRIVATE pointer to timer request */
; 31.246   0      struct Library     *dl_UtilityBase;   /* PRIVATE ptr to utility library */
; 31.247   0      struct Library     *dl_IntuitionBase; /* PRIVATE ptr to intuition library */
; 31.248   0  };  /*	DosLibrary */
; 31.249
; 31.250      /*			       */
; 31.251
; 31.252   0  struct RootNode {
; 31.253   0      BPTR    rn_TaskArray;	     /* [0] is max number of CLI's
; 31.254   0  				      * [1] is APTR to process id of CLI 1
; 31.255   0  				      * [n] is APTR to process id of CLI n */
; 31.256   0      BPTR    rn_ConsoleSegment; /* SegList for the CLI			   */
; 31.257   0      struct  DateStamp rn_Time; /* Current time				   */
; 31.258   0      LONG    rn_RestartSeg;     /* SegList for the disk validator process   */
; 31.259   0      BPTR    rn_Info;	       /* Pointer to the Info structure		   */
; 31.260   0      BPTR    rn_FileHandlerSegment; /* segment for a file handler	   */
; 31.261   0      struct MinList rn_CliList; /* new list of all CLI processes */
; 31.262      			       /* the first cpl_Array is also rn_TaskArray */
; 31.263   0      struct MsgPort *rn_BootProc; /* private ptr to msgport of boot fs	   */
; 31.264   0      BPTR    rn_ShellSegment;   /* seglist for Shell (for NewShell)	   */
; 31.265   0      LONG    rn_Flags;	       /* dos flags */
; 31.266   0  };  /* RootNode */
; 31.267
; 31.268   0  #define RNB_WILDSTAR	24
; 31.269   0  #define RNF_WILDSTAR	(1L<<24)
; 31.270   0  #define RNB_PRIVATE1	1	/* private for dos */
; 31.271   0  #define RNF_PRIVATE1	2
; 31.272
; 31.273      /* ONLY to be allocated by DOS! */
; 31.274   0  struct CliProcList {

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 62


;Line#  Block                                  Source
; 31.275   0  	struct MinNode cpl_Node;
; 31.276   0  	LONG cpl_First;	     /* number of first entry in array */
; 31.277   0  	struct MsgPort **cpl_Array;
; 31.278      			     /* [0] is max number of CLI's in this entry (n)
; 31.279      			      * [1] is CPTR to process id of CLI cpl_First
; 31.280      			      * [n] is CPTR to process id of CLI cpl_First+n-1
; 31.281      			      */
; 31.282   0  };
; 31.283
; 31.284   0  struct DosInfo {
; 31.285   0      BPTR    di_McName;	       /* PRIVATE: system resident module list	    */
; 31.286   0  #define di_ResList di_McName
; 31.287   0      BPTR    di_DevInfo;	       /* Device List				    */
; 31.288   0      BPTR    di_Devices;	       /* Currently zero			    */
; 31.289   0      BPTR    di_Handlers;       /* Currently zero			    */
; 31.290   0      APTR    di_NetHand;	       /* Network handler processid; currently zero */
; 31.291   0      struct  SignalSemaphore di_DevLock;	   /* do NOT access directly! */
; 31.292   0      struct  SignalSemaphore di_EntryLock;  /* do NOT access directly! */
; 31.293   0      struct  SignalSemaphore di_DeleteLock; /* do NOT access directly! */
; 31.294   0  };  /* DosInfo */
; 31.295
; 31.296      /* structure for the Dos resident list.  Do NOT allocate these, use	  */
; 31.297      /* AddSegment(), and heed the warnings in the autodocs!			  */
; 31.298
; 31.299   0  struct Segment {
; 31.300   0  	BPTR seg_Next;
; 31.301   0  	LONG seg_UC;
; 31.302   0  	BPTR seg_Seg;
; 31.303   0  	UBYTE seg_Name[4];	/* actually the first 4 chars of BSTR name */
; 31.304   0  };
; 31.305
; 31.306   0  #define CMD_SYSTEM	-1
; 31.307   0  #define CMD_INTERNAL	-2
; 31.308   0  #define CMD_DISABLED	-999
; 31.309
; 31.310
; 31.311      /* DOS Processes started from the CLI via RUN or NEWCLI have this additional
; 31.312       * set to data associated with them */
; 31.313
; 31.314   0  struct CommandLineInterface {
; 31.315   0      LONG   cli_Result2;	       /* Value of IoErr from last command	  */
; 31.316   0      BSTR   cli_SetName;	       /* Name of current directory		  */
; 31.317   0      BPTR   cli_CommandDir;     /* Head of the path locklist		  */
; 31.318   0      LONG   cli_ReturnCode;     /* Return code from last command		  */
; 31.319   0      BSTR   cli_CommandName;    /* Name of current command		  */
; 31.320   0      LONG   cli_FailLevel;      /* Fail level (set by FAILAT)		  */
; 31.321   0      BSTR   cli_Prompt;	       /* Current prompt (set by PROMPT)	  */
; 31.322   0      BPTR   cli_StandardInput;  /* Default (terminal) CLI input		  */
; 31.323   0      BPTR   cli_CurrentInput;   /* Current CLI input			  */
; 31.324   0      BSTR   cli_CommandFile;    /* Name of EXECUTE command file		  */

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 63


;Line#  Block                                  Source
; 31.325   0      LONG   cli_Interactive;    /* Boolean; True if prompts required	  */
; 31.326   0      LONG   cli_Background;     /* Boolean; True if CLI created by RUN	  */
; 31.327   0      BPTR   cli_CurrentOutput;  /* Current CLI output			  */
; 31.328   0      LONG   cli_DefaultStack;   /* Stack size to be obtained in long words */
; 31.329   0      BPTR   cli_StandardOutput; /* Default (terminal) CLI output		  */
; 31.330   0      BPTR   cli_Module;	       /* SegList of currently loaded command	  */
; 31.331   0  };  /* CommandLineInterface */
; 31.332
; 31.333      /* This structure can take on different values depending on whether it is
; 31.334       * a device, an assigned directory, or a volume.  Below is the structure
; 31.335       * reflecting volumes only.  Following that is the structure representing
; 31.336       * only devices. Following that is the unioned structure representing all
; 31.337       * the values
; 31.338       */
; 31.339
; 31.340      /* structure representing a volume */
; 31.341
; 31.342   0  struct DeviceList {
; 31.343   0      BPTR		dl_Next;	/* bptr to next device list */
; 31.344   0      LONG		dl_Type;	/* see DLT below */
; 31.345   0      struct MsgPort *	dl_Task;	/* ptr to handler task */
; 31.346   0      BPTR		dl_Lock;	/* not for volumes */
; 31.347   0      struct DateStamp	dl_VolumeDate;	/* creation date */
; 31.348   0      BPTR		dl_LockList;	/* outstanding locks */
; 31.349   0      LONG		dl_DiskType;	/* 'DOS', etc */
; 31.350   0      LONG		dl_unused;
; 31.351   0      BSTR		dl_Name;	/* bptr to bcpl name */
; 31.352   0  };
; 31.353
; 31.354      /* device structure (same as the DeviceNode structure in filehandler.h) */
; 31.355
; 31.356   0  struct	      DevInfo {
; 31.357   0      BPTR  dvi_Next;
; 31.358   0      LONG  dvi_Type;
; 31.359   0      APTR  dvi_Task;
; 31.360   0      BPTR  dvi_Lock;
; 31.361   0      BSTR  dvi_Handler;
; 31.362   0      LONG  dvi_StackSize;
; 31.363   0      LONG  dvi_Priority;
; 31.364   0      LONG  dvi_Startup;
; 31.365   0      BPTR  dvi_SegList;
; 31.366   0      BPTR  dvi_GlobVec;
; 31.367   0      BSTR  dvi_Name;
; 31.368   0  };
; 31.369
; 31.370      /* combined structure for devices, assigned directories, volumes */
; 31.371
; 31.372   0  struct DosList {
; 31.373   0      BPTR		dol_Next;	 /* bptr to next device on list */
; 31.374   0      LONG		dol_Type;	 /* see DLT below */

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 64


;Line#  Block                                  Source
; 31.375   0      struct MsgPort     *dol_Task;	 /* ptr to handler task */
; 31.376   0      BPTR		dol_Lock;
; 31.377   0      union {
; 31.378   0  	struct {
; 31.379   0  	BSTR	dol_Handler;	/* file name to load if seglist is null */
; 31.380   0  	LONG	dol_StackSize;	/* stacksize to use when starting process */
; 31.381   0  	LONG	dol_Priority;	/* task priority when starting process */
; 31.382   0  	ULONG	dol_Startup;	/* startup msg: FileSysStartupMsg for disks */
; 31.383   0  	BPTR	dol_SegList;	/* already loaded code for new task */
; 31.384   0  	BPTR	dol_GlobVec;	/* BCPL global vector to use when starting
; 31.385   0  				 * a process. -1 indicates a C/Assembler
; 31.386   0  				 * program. */
; 31.387   0  	} dol_handler;
; 31.388
; 31.389   0  	struct {
; 31.390   0  	struct DateStamp	dol_VolumeDate;	 /* creation date */
; 31.391   0  	BPTR			dol_LockList;	 /* outstanding locks */
; 31.392   0  	LONG			dol_DiskType;	 /* 'DOS', etc */
; 31.393   0  	} dol_volume;
; 31.394
; 31.395   0  	struct {
; 31.396   0  	UBYTE	*dol_AssignName;     /* name for non-or-late-binding assign */
; 31.397   0  	struct AssignList *dol_List; /* for multi-directory assigns (regular) */
; 31.398   0  	} dol_assign;
; 31.399
; 31.400   0      } dol_misc;
; 31.401
; 31.402   0      BSTR		dol_Name;	 /* bptr to bcpl name */
; 31.403   0      };
; 31.404
; 31.405      /* structure used for multi-directory assigns. AllocVec()ed. */
; 31.406
; 31.407   0  struct AssignList {
; 31.408   0  	struct AssignList *al_Next;
; 31.409   0  	BPTR		   al_Lock;
; 31.410   0  };
; 31.411
; 31.412      /* definitions for dl_Type */
; 31.413   0  #define DLT_DEVICE	0
; 31.414   0  #define DLT_DIRECTORY	1	/* assign */
; 31.415   0  #define DLT_VOLUME	2
; 31.416   0  #define DLT_LATE	3	/* late-binding assign */
; 31.417   0  #define DLT_NONBINDING	4	/* non-binding assign */
; 31.418   0  #define DLT_PRIVATE	-1	/* for internal use only */
; 31.419
; 31.420      /* structure return by GetDeviceProc() */
; 31.421   0  struct DevProc {
; 31.422   0  	struct MsgPort *dvp_Port;
; 31.423   0  	BPTR		dvp_Lock;
; 31.424   0  	ULONG		dvp_Flags;

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 65


;Line#  Block                                  Source
; 31.425   0  	struct DosList *dvp_DevNode;	/* DON'T TOUCH OR USE! */
; 31.426   0  };
; 31.427
; 31.428      /* definitions for dvp_Flags */
; 31.429   0  #define DVPB_UNLOCK	0
; 31.430   0  #define DVPF_UNLOCK	(1L << DVPB_UNLOCK)
; 31.431   0  #define DVPB_ASSIGN	1
; 31.432   0  #define DVPF_ASSIGN	(1L << DVPB_ASSIGN)
; 31.433
; 31.434      /* Flags to be passed to LockDosList(), etc */
; 31.435   0  #define LDB_DEVICES	2
; 31.436   0  #define LDF_DEVICES	(1L << LDB_DEVICES)
; 31.437   0  #define LDB_VOLUMES	3
; 31.438   0  #define LDF_VOLUMES	(1L << LDB_VOLUMES)
; 31.439   0  #define LDB_ASSIGNS	4
; 31.440   0  #define LDF_ASSIGNS	(1L << LDB_ASSIGNS)
; 31.441   0  #define LDB_ENTRY	5
; 31.442   0  #define LDF_ENTRY	(1L << LDB_ENTRY)
; 31.443   0  #define LDB_DELETE	6
; 31.444   0  #define LDF_DELETE	(1L << LDB_DELETE)
; 31.445
; 31.446      /* you MUST specify one of LDF_READ or LDF_WRITE */
; 31.447   0  #define LDB_READ	0
; 31.448   0  #define LDF_READ	(1L << LDB_READ)
; 31.449   0  #define LDB_WRITE	1
; 31.450   0  #define LDF_WRITE	(1L << LDB_WRITE)
; 31.451
; 31.452      /* actually all but LDF_ENTRY (which is used for internal locking) */
; 31.453   0  #define LDF_ALL		(LDF_DEVICES|LDF_VOLUMES|LDF_ASSIGNS)
; 31.454
; 31.455      /* a lock structure, as returned by Lock() or DupLock() */
; 31.456   0  struct FileLock {
; 31.457   0      BPTR		fl_Link;	/* bcpl pointer to next lock */
; 31.458   0      LONG		fl_Key;		/* disk block number */
; 31.459   0      LONG		fl_Access;	/* exclusive or shared */
; 31.460   0      struct MsgPort *	fl_Task;	/* handler task's port */
; 31.461   0      BPTR		fl_Volume;	/* bptr to DLT_VOLUME DosList entry */
; 31.462   0  };
; 31.463
; 31.464      /* error report types for ErrorReport() */
; 31.465   0  #define REPORT_STREAM		0	/* a stream */
; 31.466   0  #define REPORT_TASK		1	/* a process - unused */
; 31.467   0  #define REPORT_LOCK		2	/* a lock */
; 31.468   0  #define REPORT_VOLUME		3	/* a volume node */
; 31.469   0  #define REPORT_INSERT		4	/* please insert volume */
; 31.470
; 31.471      /* Special error codes for ErrorReport() */
; 31.472   0  #define ABORT_DISK_ERROR	296	/* Read/write error */
; 31.473   0  #define ABORT_BUSY		288	/* You MUST replace... */
; 31.474

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 66


;Line#  Block                                  Source
; 31.475      /* types for initial packets to shells from run/newcli/execute/system. */
; 31.476      /* For shell-writers only */
; 31.477   0  #define RUN_EXECUTE		-1
; 31.478   0  #define RUN_SYSTEM		-2
; 31.479   0  #define RUN_SYSTEM_ASYNCH	-3
; 31.480
; 31.481      /* Types for fib_DirEntryType.	NOTE that both USERDIR and ROOT are	 */
; 31.482      /* directories, and that directory/file checks should use <0 and >=0.	 */
; 31.483      /* This is not necessarily exhaustive!	Some handlers may use other	 */
; 31.484      /* values as needed, though <0 and >=0 should remain as supported as	 */
; 31.485      /* possible.								 */
; 31.486   0  #define ST_ROOT		1
; 31.487   0  #define ST_USERDIR	2
; 31.488   0  #define ST_SOFTLINK	3	/* looks like dir, but may point to a file! */
; 31.489   0  #define ST_LINKDIR	4	/* hard link to dir */
; 31.490   0  #define ST_FILE		-3	/* must be negative for FIB! */
; 31.491   0  #define ST_LINKFILE	-4	/* hard link to file */
; 31.492   0  #define ST_PIPEFILE	-5	/* for pipes that support ExamineFH */
; 31.493
; 31.494   0  #endif	/* DOS_DOSEXTENS_H */
; 29.019   0  #endif
; 29.020   0  #ifndef  DOS_RECORD_H
; 29.021   0  #include <dos/record.h>
;===> Including file "sc:include/dos/record.h"
; 34.001   0  #ifndef DOS_RECORD_H
; 34.002   0  #define DOS_RECORD_H
; 34.003      /*
; 34.004      **
; 34.005      **	$VER: record.h 36.5 (12.7.90)
; 34.006      **	Includes Release 40.13
; 34.007      **
; 34.008      **	include file for record locking
; 34.009      **
; 34.010      **	(C) Copyright 1989-1993 Commodore-Amiga, Inc.
; 34.011      **	    All Rights Reserved
; 34.012      **
; 34.013      */
; 34.014
; 34.015   0  #ifndef DOS_DOS_H
; 34.016      #include "dos/dos.h"
; 34.017      #endif
; 34.018
; 34.019      /* Modes for LockRecord/LockRecords() */
; 34.020   0  #define REC_EXCLUSIVE		0
; 34.021   0  #define REC_EXCLUSIVE_IMMED	1
; 34.022   0  #define REC_SHARED		2
; 34.023   0  #define REC_SHARED_IMMED	3
; 34.024
; 34.025      /* struct to be passed to LockRecords()/UnLockRecords() */
; 34.026

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 67


;Line#  Block                                  Source
; 34.027   0  struct RecordLock {
; 34.028   0  	BPTR	rec_FH;		/* filehandle */
; 34.029   0  	ULONG	rec_Offset;	/* offset in file */
; 34.030   0  	ULONG	rec_Length;	/* length of file to be locked */
; 34.031   0  	ULONG	rec_Mode;	/* Type of lock */
; 34.032   0  };
; 34.033
; 34.034   0  #endif /* DOS_RECORD_H */
; 29.022   0  #endif
; 29.023   0  #ifndef  DOS_RDARGS_H
; 29.024   0  #include <dos/rdargs.h>
;===> Including file "sc:include/dos/rdargs.h"
; 35.001   0  #ifndef DOS_RDARGS_H
; 35.002   0  #define DOS_RDARGS_H
; 35.003      /*
; 35.004      **
; 35.005      **	$VER: rdargs.h 36.6 (12.7.90)
; 35.006      **	Includes Release 40.13
; 35.007      **
; 35.008      **	ReadArgs() structure definitions
; 35.009      **
; 35.010      **	(C) Copyright 1989-1993 Commodore-Amiga, Inc.
; 35.011      **	    All Rights Reserved
; 35.012      **
; 35.013      */
; 35.014
; 35.015   0  #ifndef EXEC_TYPES_H
; 35.016      #include "exec/types.h"
; 35.017      #endif
; 35.018
; 35.019   0  #ifndef EXEC_NODES_H
; 35.020      #include "exec/nodes.h"
; 35.021      #endif
; 35.022
; 35.023      /**********************************************************************
; 35.024       *
; 35.025       * The CSource data structure defines the input source for "ReadItem()"
; 35.026       * as well as the ReadArgs call.  It is a publicly defined structure
; 35.027       * which may be used by applications which use code that follows the
; 35.028       * conventions defined for access.
; 35.029       *
; 35.030       * When passed to the dos.library functions, the value passed as
; 35.031       * struct *CSource is defined as follows:
; 35.032       *	if ( CSource == 0)	Use buffered IO "ReadChar()" as data source
; 35.033       *	else			Use CSource for input character stream
; 35.034       *
; 35.035       * The following two pseudo-code routines define how the CSource structure
; 35.036       * is used:
; 35.037       *
; 35.038       * long CS_ReadChar( struct CSource *CSource )

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 68


;Line#  Block                                  Source
; 35.039       * {
; 35.040       *	if ( CSource == 0 )	return ReadChar();
; 35.041       *	if ( CSource->CurChr >= CSource->Length )	return ENDSTREAMCHAR;
; 35.042       *	return CSource->Buffer[ CSource->CurChr++ ];
; 35.043       * }
; 35.044       *
; 35.045       * BOOL CS_UnReadChar( struct CSource *CSource )
; 35.046       * {
; 35.047       *	if ( CSource == 0 )	return UnReadChar();
; 35.048       *	if ( CSource->CurChr <= 0 )	return FALSE;
; 35.049       *	CSource->CurChr--;
; 35.050       *	return TRUE;
; 35.051       * }
; 35.052       *
; 35.053       * To initialize a struct CSource, you set CSource->CS_Buffer to
; 35.054       * a string which is used as the data source, and set CS_Length to
; 35.055       * the number of characters in the string.  Normally CS_CurChr should
; 35.056       * be initialized to ZERO, or left as it was from prior use as
; 35.057       * a CSource.
; 35.058       *
; 35.059       **********************************************************************/
; 35.060
; 35.061   0  struct CSource {
; 35.062   0  	UBYTE	*CS_Buffer;
; 35.063   0  	LONG	CS_Length;
; 35.064   0  	LONG	CS_CurChr;
; 35.065   0  };
; 35.066
; 35.067      /**********************************************************************
; 35.068       *
; 35.069       * The RDArgs data structure is the input parameter passed to the DOS
; 35.070       * ReadArgs() function call.
; 35.071       *
; 35.072       * The RDA_Source structure is a CSource as defined above;
; 35.073       * if RDA_Source.CS_Buffer is non-null, RDA_Source is used as the input
; 35.074       * character stream to parse, else the input comes from the buffered STDIN
; 35.075       * calls ReadChar/UnReadChar.
; 35.076       *
; 35.077       * RDA_DAList is a private address which is used internally to track
; 35.078       * allocations which are freed by FreeArgs().  This MUST be initialized
; 35.079       * to NULL prior to the first call to ReadArgs().
; 35.080       *
; 35.081       * The RDA_Buffer and RDA_BufSiz fields allow the application to supply
; 35.082       * a fixed-size buffer in which to store the parsed data.  This allows
; 35.083       * the application to pre-allocate a buffer rather than requiring buffer
; 35.084       * space to be allocated.  If either RDA_Buffer or RDA_BufSiz is NULL,
; 35.085       * the application has not supplied a buffer.
; 35.086       *
; 35.087       * RDA_ExtHelp is a text string which will be displayed instead of the
; 35.088       * template string, if the user is prompted for input.

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 69


;Line#  Block                                  Source
; 35.089       *
; 35.090       * RDA_Flags bits control how ReadArgs() works.  The flag bits are
; 35.091       * defined below.  Defaults are initialized to ZERO.
; 35.092       *
; 35.093       **********************************************************************/
; 35.094
; 35.095   0  struct RDArgs {
; 35.096   0  	struct	CSource RDA_Source;	/* Select input source */
; 35.097   0  	LONG	RDA_DAList;		/* PRIVATE. */
; 35.098   0  	UBYTE	*RDA_Buffer;		/* Optional string parsing space. */
; 35.099   0  	LONG	RDA_BufSiz;		/* Size of RDA_Buffer (0..n) */
; 35.100   0  	UBYTE	*RDA_ExtHelp;		/* Optional extended help */
; 35.101   0  	LONG	RDA_Flags;		/* Flags for any required control */
; 35.102   0  };
; 35.103
; 35.104   0  #define RDAB_STDIN	0	/* Use "STDIN" rather than "COMMAND LINE" */
; 35.105   0  #define RDAF_STDIN	1
; 35.106   0  #define RDAB_NOALLOC	1	/* If set, do not allocate extra string space.*/
; 35.107   0  #define RDAF_NOALLOC	2
; 35.108   0  #define RDAB_NOPROMPT	2	/* Disable reprompting for string input. */
; 35.109   0  #define RDAF_NOPROMPT	4
; 35.110
; 35.111      /**********************************************************************
; 35.112       * Maximum number of template keywords which can be in a template passed
; 35.113       * to ReadArgs(). IMPLEMENTOR NOTE - must be a multiple of 4.
; 35.114       **********************************************************************/
; 35.115   0  #define MAX_TEMPLATE_ITEMS	100
; 35.116
; 35.117      /**********************************************************************
; 35.118       * Maximum number of MULTIARG items returned by ReadArgs(), before
; 35.119       * an ERROR_LINE_TOO_LONG.  These two limitations are due to stack
; 35.120       * usage.  Applications should allow "a lot" of stack to use ReadArgs().
; 35.121       **********************************************************************/
; 35.122   0  #define MAX_MULTIARGS		128
; 35.123
; 35.124   0  #endif /* DOS_RDARGS_H */
; 29.025   0  #endif
; 29.026   0  #ifndef  DOS_DOSASL_H
; 29.027   0  #include <dos/dosasl.h>
;===> Including file "sc:include/dos/dosasl.h"
; 36.001   0  #ifndef DOS_DOSASL_H
; 36.002   0  #define DOS_DOSASL_H
; 36.003      /*
; 36.004      **
; 36.005      **	$VER: dosasl.h 36.16 (2.5.91)
; 36.006      **	Includes Release 40.13
; 36.007      **
; 36.008      **	Pattern-matching structure definitions
; 36.009      **
; 36.010      **	(C) Copyright 1989-1993 Commodore-Amiga, Inc.

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 70


;Line#  Block                                  Source
; 36.011      **	    All Rights Reserved
; 36.012      **
; 36.013      */
; 36.014
; 36.015   0  #ifndef EXEC_LIBRARIES_H
; 36.016      #include <exec/libraries.h>
; 36.017      #endif
; 36.018
; 36.019   0  #ifndef EXEC_LISTS_H
; 36.020      #include <exec/lists.h>
; 36.021      #endif
; 36.022
; 36.023   0  #ifndef DOS_DOS_H
; 36.024      #include <dos/dos.h>
; 36.025      #endif
; 36.026
; 36.027
; 36.028      /***********************************************************************
; 36.029      ************************ PATTERN MATCHING ******************************
; 36.030      ************************************************************************
; 36.031
; 36.032      * structure expected by MatchFirst, MatchNext.
; 36.033      * Allocate this structure and initialize it as follows:
; 36.034      *
; 36.035      * Set ap_BreakBits to the signal bits (CDEF) that you want to take a
; 36.036      * break on, or NULL, if you don't want to convenience the user.
; 36.037      *
; 36.038      * If you want to have the FULL PATH NAME of the files you found,
; 36.039      * allocate a buffer at the END of this structure, and put the size of
; 36.040      * it into ap_Strlen.  If you don't want the full path name, make sure
; 36.041      * you set ap_Strlen to zero.  In this case, the name of the file, and stats
; 36.042      * are available in the ap_Info, as per usual.
; 36.043      *
; 36.044      * Then call MatchFirst() and then afterwards, MatchNext() with this structure.
; 36.045      * You should check the return value each time (see below) and take the
; 36.046      * appropriate action, ultimately calling MatchEnd() when there are
; 36.047      * no more files and you are done.  You can tell when you are done by
; 36.048      * checking for the normal AmigaDOS return code ERROR_NO_MORE_ENTRIES.
; 36.049      *
; 36.050      */
; 36.051
; 36.052   0  struct AnchorPath {
; 36.053   0  	struct AChain	*ap_Base;	/* pointer to first anchor */
; 36.054   0  #define	ap_First ap_Base
; 36.055   0  	struct AChain	*ap_Last;	/* pointer to last anchor */
; 36.056   0  #define ap_Current ap_Last
; 36.057   0  	LONG	ap_BreakBits;	/* Bits we want to break on */
; 36.058   0  	LONG	ap_FoundBreak;	/* Bits we broke on. Also returns ERROR_BREAK */
; 36.059   0  	BYTE	ap_Flags;	/* New use for extra word. */
; 36.060   0  	BYTE	ap_Reserved;

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 71


;Line#  Block                                  Source
; 36.061   0  	WORD	ap_Strlen;	/* This is what ap_Length used to be */
; 36.062   0  #define	ap_Length ap_Flags	/* Old compatability for LONGWORD ap_Length */
; 36.063   0  	struct	FileInfoBlock ap_Info;
; 36.064   0  	UBYTE	ap_Buf[1];	/* Buffer for path name, allocated by user */
; 36.065      	/* FIX! */
; 36.066   0  };
; 36.067
; 36.068
; 36.069   0  #define	APB_DOWILD	0	/* User option ALL */
; 36.070   0  #define APF_DOWILD	1
; 36.071
; 36.072   0  #define	APB_ITSWILD	1	/* Set by MatchFirst, used by MatchNext	 */
; 36.073   0  #define APF_ITSWILD	2	/* Application can test APB_ITSWILD, too */
; 36.074      				/* (means that there's a wildcard	 */
; 36.075      				/* in the pattern after calling		 */
; 36.076      				/* MatchFirst).				 */
; 36.077
; 36.078   0  #define	APB_DODIR	2	/* Bit is SET if a DIR node should be */
; 36.079   0  #define APF_DODIR	4	/* entered. Application can RESET this */
; 36.080      				/* bit after MatchFirst/MatchNext to AVOID */
; 36.081      				/* entering a dir. */
; 36.082
; 36.083   0  #define	APB_DIDDIR	3	/* Bit is SET for an "expired" dir node. */
; 36.084   0  #define APF_DIDDIR	8
; 36.085
; 36.086   0  #define	APB_NOMEMERR	4	/* Set on memory error */
; 36.087   0  #define APF_NOMEMERR	16
; 36.088
; 36.089   0  #define	APB_DODOT	5	/* If set, allow conversion of '.' to */
; 36.090   0  #define APF_DODOT	32	/* CurrentDir */
; 36.091
; 36.092   0  #define APB_DirChanged	6	/* ap_Current->an_Lock changed */
; 36.093   0  #define APF_DirChanged	64	/* since last MatchNext call */
; 36.094
; 36.095   0  #define APB_FollowHLinks 7	/* follow hardlinks on DODIR - defaults   */
; 36.096   0  #define APF_FollowHLinks 128	/* to not following hardlinks on a DODIR. */
; 36.097
; 36.098
; 36.099   0  struct AChain {
; 36.100   0  	struct AChain *an_Child;
; 36.101   0  	struct AChain *an_Parent;
; 36.102   0  	BPTR	an_Lock;
; 36.103   0  	struct FileInfoBlock an_Info;
; 36.104   0  	BYTE	an_Flags;
; 36.105   0  	UBYTE	an_String[1];	/* FIX!! */
; 36.106   0  };
; 36.107
; 36.108   0  #define	DDB_PatternBit	0
; 36.109   0  #define	DDF_PatternBit	1
; 36.110   0  #define	DDB_ExaminedBit	1

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 72


;Line#  Block                                  Source
; 36.111   0  #define	DDF_ExaminedBit	2
; 36.112   0  #define	DDB_Completed	2
; 36.113   0  #define	DDF_Completed	4
; 36.114   0  #define	DDB_AllBit	3
; 36.115   0  #define	DDF_AllBit	8
; 36.116   0  #define	DDB_Single	4
; 36.117   0  #define	DDF_Single	16
; 36.118
; 36.119      /*
; 36.120       * Constants used by wildcard routines, these are the pre-parsed tokens
; 36.121       * referred to by pattern match.  It is not necessary for you to do
; 36.122       * anything about these, MatchFirst() MatchNext() handle all these for you.
; 36.123       */
; 36.124
; 36.125   0  #define P_ANY		0x80	/* Token for '*' or '#?  */
; 36.126   0  #define P_SINGLE	0x81	/* Token for '?' */
; 36.127   0  #define P_ORSTART	0x82	/* Token for '(' */
; 36.128   0  #define P_ORNEXT	0x83	/* Token for '|' */
; 36.129   0  #define P_OREND	0x84	/* Token for ')' */
; 36.130   0  #define P_NOT		0x85	/* Token for '~' */
; 36.131   0  #define P_NOTEND	0x86	/* Token for */
; 36.132   0  #define P_NOTCLASS	0x87	/* Token for '^' */
; 36.133   0  #define P_CLASS	0x88	/* Token for '[]' */
; 36.134   0  #define P_REPBEG	0x89	/* Token for '[' */
; 36.135   0  #define P_REPEND	0x8A	/* Token for ']' */
; 36.136   0  #define P_STOP		0x8B	/* token to force end of evaluation */
; 36.137
; 36.138      /* Values for an_Status, NOTE: These are the actual bit numbers */
; 36.139
; 36.140   0  #define COMPLEX_BIT	1	/* Parsing complex pattern */
; 36.141   0  #define EXAMINE_BIT	2	/* Searching directory */
; 36.142
; 36.143      /*
; 36.144       * Returns from MatchFirst(), MatchNext()
; 36.145       * You can also get dos error returns, such as ERROR_NO_MORE_ENTRIES,
; 36.146       * these are in the dos.h file.
; 36.147       */
; 36.148
; 36.149   0  #define ERROR_BUFFER_OVERFLOW	303	/* User or internal buffer overflow */
; 36.150   0  #define ERROR_BREAK		304	/* A break character was received */
; 36.151   0  #define ERROR_NOT_EXECUTABLE	305	/* A file has E bit cleared */
; 36.152
; 36.153   0  #endif /* DOS_DOSASL_H */
; 29.028   0  #endif
; 29.029   0  #ifndef  DOS_VAR_H
; 29.030   0  #include <dos/var.h>
;===> Including file "sc:include/dos/var.h"
; 37.001   0  #ifndef DOS_VAR_H
; 37.002   0  #define DOS_VAR_H
; 37.003      /*

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 73


;Line#  Block                                  Source
; 37.004      **
; 37.005      **	$VER: var.h 36.11 (2.6.92)
; 37.006      **	Includes Release 40.13
; 37.007      **
; 37.008      **	include file for dos local and environment variables
; 37.009      **
; 37.010      **	(C) Copyright 1989-1993 Commodore-Amiga, Inc.
; 37.011      **	    All Rights Reserved
; 37.012      **
; 37.013      */
; 37.014
; 37.015
; 37.016   0  #ifndef EXEC_NODES_H
; 37.017      #include "exec/nodes.h"
; 37.018      #endif
; 37.019
; 37.020      /* the structure in the pr_LocalVars list */
; 37.021      /* Do NOT allocate yourself, use SetVar()!!! This structure may grow in */
; 37.022      /* future releases!  The list should be left in alphabetical order, and */
; 37.023      /* may have multiple entries with the same name but different types.	*/
; 37.024
; 37.025   0  struct LocalVar {
; 37.026   0  	struct Node lv_Node;
; 37.027   0  	UWORD	lv_Flags;
; 37.028   0  	UBYTE	*lv_Value;
; 37.029   0  	ULONG	lv_Len;
; 37.030   0  };
; 37.031
; 37.032      /*
; 37.033       * The lv_Flags bits are available to the application.	The unused
; 37.034       * lv_Node.ln_Pri bits are reserved for system use.
; 37.035       */
; 37.036
; 37.037      /* bit definitions for lv_Node.ln_Type: */
; 37.038   0  #define LV_VAR			0	/* an variable */
; 37.039   0  #define LV_ALIAS		1	/* an alias */
; 37.040      /* to be or'ed into type: */
; 37.041   0  #define LVB_IGNORE		7	/* ignore this entry on GetVar, etc */
; 37.042   0  #define LVF_IGNORE		0x80
; 37.043
; 37.044      /* definitions of flags passed to GetVar()/SetVar()/DeleteVar() */
; 37.045      /* bit defs to be OR'ed with the type: */
; 37.046      /* item will be treated as a single line of text unless BINARY_VAR is used */
; 37.047   0  #define GVB_GLOBAL_ONLY		8
; 37.048   0  #define GVF_GLOBAL_ONLY		0x100
; 37.049   0  #define GVB_LOCAL_ONLY		9
; 37.050   0  #define GVF_LOCAL_ONLY		0x200
; 37.051   0  #define GVB_BINARY_VAR		10		/* treat variable as binary */
; 37.052   0  #define GVF_BINARY_VAR		0x400
; 37.053   0  #define GVB_DONT_NULL_TERM	11	/* only with GVF_BINARY_VAR */

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 74


;Line#  Block                                  Source
; 37.054   0  #define GVF_DONT_NULL_TERM	0x800
; 37.055
; 37.056      /* this is only supported in >= V39 dos.  V37 dos ignores this. */
; 37.057      /* this causes SetVar to affect ENVARC: as well as ENV:.	*/
; 37.058   0  #define GVB_SAVE_VAR		12	/* only with GVF_GLOBAL_VAR */
; 37.059   0  #define GVF_SAVE_VAR		0x1000
; 37.060
; 37.061   0  #endif /* DOS_VAR_H */
; 29.031   0  #endif
; 29.032   0  #ifndef  DOS_NOTIFY_H
; 29.033   0  #include <dos/notify.h>
;===> Including file "sc:include/dos/notify.h"
; 38.001   0  #ifndef DOS_NOTIFY_H
; 38.002   0  #define DOS_NOTIFY_H
; 38.003      /*
; 38.004      **
; 38.005      **	$VER: notify.h 36.8 (29.8.90)
; 38.006      **	Includes Release 40.13
; 38.007      **
; 38.008      **	dos notification definitions
; 38.009      **
; 38.010      **	(C) Copyright 1989-1993 Commodore-Amiga, Inc.
; 38.011      **	    All Rights Reserved
; 38.012      **
; 38.013      */
; 38.014
; 38.015   0  #ifndef EXEC_TYPES_H
; 38.016      #include "exec/types.h"
; 38.017      #endif
; 38.018
; 38.019   0  #ifndef EXEC_PORTS_H
; 38.020      #include "exec/ports.h"
; 38.021      #endif
; 38.022
; 38.023   0  #ifndef EXEC_TASKS_H
; 38.024      #include "exec/tasks.h"
; 38.025      #endif
; 38.026
; 38.027
; 38.028      /* use of Class and code is discouraged for the time being - we might want to
; 38.029         change things */
; 38.030      /* --- NotifyMessage Class ------------------------------------------------ */
; 38.031   0  #define NOTIFY_CLASS	0x40000000
; 38.032
; 38.033      /* --- NotifyMessage Codes ------------------------------------------------ */
; 38.034   0  #define NOTIFY_CODE	0x1234
; 38.035
; 38.036
; 38.037      /* Sent to the application if SEND_MESSAGE is specified.		    */
; 38.038

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 75


;Line#  Block                                  Source
; 38.039   0  struct NotifyMessage {
; 38.040   0      struct Message nm_ExecMessage;
; 38.041   0      ULONG  nm_Class;
; 38.042   0      UWORD  nm_Code;
; 38.043   0      struct NotifyRequest *nm_NReq;	/* don't modify the request! */
; 38.044   0      ULONG  nm_DoNotTouch;		/* like it says!  For use by handlers */
; 38.045   0      ULONG  nm_DoNotTouch2;		/* ditto */
; 38.046   0  };
; 38.047
; 38.048      /* Do not modify or reuse the notifyrequest while active.		    */
; 38.049      /* note: the first LONG of nr_Data has the length transfered		    */
; 38.050
; 38.051   0  struct NotifyRequest {
; 38.052   0  	UBYTE *nr_Name;
; 38.053   0  	UBYTE *nr_FullName;		/* set by dos - don't touch */
; 38.054   0  	ULONG nr_UserData;		/* for applications use */
; 38.055   0  	ULONG nr_Flags;
; 38.056
; 38.057   0  	union {
; 38.058
; 38.059   0  	    struct {
; 38.060   0  		struct MsgPort *nr_Port;	/* for SEND_MESSAGE */
; 38.061   0  	    } nr_Msg;
; 38.062
; 38.063   0  	    struct {
; 38.064   0  		struct Task *nr_Task;		/* for SEND_SIGNAL */
; 38.065   0  		UBYTE nr_SignalNum;		/* for SEND_SIGNAL */
; 38.066   0  		UBYTE nr_pad[3];
; 38.067   0  	    } nr_Signal;
; 38.068   0  	} nr_stuff;
; 38.069
; 38.070   0  	ULONG nr_Reserved[4];		/* leave 0 for now */
; 38.071
; 38.072      	/* internal use by handlers */
; 38.073   0  	ULONG nr_MsgCount;		/* # of outstanding msgs */
; 38.074   0  	struct MsgPort *nr_Handler;	/* handler sent to (for EndNotify) */
; 38.075   0  };
; 38.076
; 38.077      /* --- NotifyRequest Flags ------------------------------------------------ */
; 38.078   0  #define NRF_SEND_MESSAGE	1
; 38.079   0  #define NRF_SEND_SIGNAL		2
; 38.080   0  #define NRF_WAIT_REPLY		8
; 38.081   0  #define NRF_NOTIFY_INITIAL	16
; 38.082
; 38.083      /* do NOT set or remove NRF_MAGIC!  Only for use by handlers! */
; 38.084   0  #define NRF_MAGIC	0x80000000
; 38.085
; 38.086      /* bit numbers */
; 38.087   0  #define NRB_SEND_MESSAGE	0
; 38.088   0  #define NRB_SEND_SIGNAL		1

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 76


;Line#  Block                                  Source
; 38.089   0  #define NRB_WAIT_REPLY		3
; 38.090   0  #define NRB_NOTIFY_INITIAL	4
; 38.091
; 38.092   0  #define NRB_MAGIC		31
; 38.093
; 38.094      /* Flags reserved for private use by the handler: */
; 38.095   0  #define NR_HANDLER_FLAGS	0xffff0000
; 38.096
; 38.097   0  #endif /* DOS_NOTIFY_H */
; 29.034   0  #endif
; 29.035   0  #ifndef  DOS_DATETIME_H
; 29.036   0  #include <dos/datetime.h>
;===> Including file "sc:include/dos/datetime.h"
; 39.001   0  #ifndef DOS_DATETIME_H
; 39.002   0  #define DOS_DATETIME_H
; 39.003
; 39.004      /*
; 39.005      **	$VER: datetime.h 36.7 (12.7.90)
; 39.006      **	Includes Release 40.13
; 39.007      **
; 39.008      **	Date and time C header for AmigaDOS
; 39.009      **
; 39.010      **	(C) Copyright 1989-1993 Commodore-Amiga, Inc.
; 39.011      **	    All Rights Reserved
; 39.012      **
; 39.013      */
; 39.014
; 39.015   0  #ifndef DOS_DOS_H
; 39.016      #include "dos/dos.h"
; 39.017      #endif
; 39.018
; 39.019      /*
; 39.020       *	Data structures and equates used by the V1.4 DOS functions
; 39.021       * StrtoDate() and DatetoStr()
; 39.022       */
; 39.023
; 39.024      /*--------- String/Date structures etc */
; 39.025   0  struct DateTime {
; 39.026   0  	struct DateStamp dat_Stamp;	/* DOS DateStamp */
; 39.027   0  	UBYTE	dat_Format;		/* controls appearance of dat_StrDate */
; 39.028   0  	UBYTE	dat_Flags;		/* see BITDEF's below */
; 39.029   0  	UBYTE	*dat_StrDay;		/* day of the week string */
; 39.030   0  	UBYTE	*dat_StrDate;		/* date string */
; 39.031   0  	UBYTE	*dat_StrTime;		/* time string */
; 39.032   0  };
; 39.033
; 39.034      /* You need this much room for each of the DateTime strings: */
; 39.035   0  #define	LEN_DATSTRING	16
; 39.036
; 39.037      /*	flags for dat_Flags */

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 77


;Line#  Block                                  Source
; 39.038
; 39.039   0  #define DTB_SUBST	0		/* substitute Today, Tomorrow, etc. */
; 39.040   0  #define DTF_SUBST	1
; 39.041   0  #define DTB_FUTURE	1		/* day of the week is in future */
; 39.042   0  #define DTF_FUTURE	2
; 39.043
; 39.044      /*
; 39.045       *	date format values
; 39.046       */
; 39.047
; 39.048   0  #define FORMAT_DOS	0		/* dd-mmm-yy */
; 39.049   0  #define FORMAT_INT	1		/* yy-mm-dd  */
; 39.050   0  #define FORMAT_USA	2		/* mm-dd-yy  */
; 39.051   0  #define FORMAT_CDN	3		/* dd-mm-yy  */
; 39.052   0  #define FORMAT_MAX	FORMAT_CDN
; 39.053
; 39.054   0  #endif /* DOS_DATETIME_H */
; 29.037   0  #endif
; 29.038   0  BPTR Open( STRPTR name, long accessMode );
; 29.039   0  LONG Close( BPTR file );
; 29.040   0  LONG Read( BPTR file, APTR buffer, long length );
; 29.041   0  LONG Write( BPTR file, APTR buffer, long length );
; 29.042   0  BPTR Input( void );
; 29.043   0  BPTR Output( void );
; 29.044   0  LONG Seek( BPTR file, long position, long offset );
; 29.045   0  LONG DeleteFile( STRPTR name );
; 29.046   0  LONG Rename( STRPTR oldName, STRPTR newName );
; 29.047   0  BPTR Lock( STRPTR name, long type );
; 29.048   0  void UnLock( BPTR lock );
; 29.049   0  BPTR DupLock( BPTR lock );
; 29.050   0  LONG Examine( BPTR lock, struct FileInfoBlock *fileInfoBlock );
; 29.051   0  LONG ExNext( BPTR lock, struct FileInfoBlock *fileInfoBlock );
; 29.052   0  LONG Info( BPTR lock, struct InfoData *parameterBlock );
; 29.053   0  BPTR CreateDir( STRPTR name );
; 29.054   0  BPTR CurrentDir( BPTR lock );
; 29.055   0  LONG IoErr( void );
; 29.056   0  struct MsgPort *CreateProc( STRPTR name, long pri, BPTR segList,
; 29.057   0  	long stackSize );
; 29.058   0  void Exit( long returnCode );
; 29.059   0  BPTR LoadSeg( STRPTR name );
; 29.060   0  void UnLoadSeg( BPTR seglist );
; 29.061   0  struct MsgPort *DeviceProc( STRPTR name );
; 29.062   0  LONG SetComment( STRPTR name, STRPTR comment );
; 29.063   0  LONG SetProtection( STRPTR name, long protect );
; 29.064   0  struct DateStamp *DateStamp( struct DateStamp *date );
; 29.065   0  void Delay( long timeout );
; 29.066   0  LONG WaitForChar( BPTR file, long timeout );
; 29.067   0  BPTR ParentDir( BPTR lock );
; 29.068   0  LONG IsInteractive( BPTR file );
; 29.069   0  LONG Execute( STRPTR string, BPTR file, BPTR file2 );

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 78


;Line#  Block                                  Source
; 29.070      /*--- functions in V36 or higher (Release 2.0) ---*/
; 29.071      /*	DOS Object creation/deletion */
; 29.072   0  APTR AllocDosObject( unsigned long type, struct TagItem *tags );
; 29.073   0  APTR AllocDosObjectTagList( unsigned long type, struct TagItem *tags );
; 29.074   0  APTR AllocDosObjectTags( unsigned long type, unsigned long tag1type, ... );
; 29.075   0  void FreeDosObject( unsigned long type, APTR ptr );
; 29.076      /*	Packet Level routines */
; 29.077   0  LONG DoPkt( struct MsgPort *port, long action, long arg1, long arg2, long arg3,
; 29.078   0  	long arg4, long arg5 );
; 29.079   0  LONG DoPkt0( struct MsgPort *port, long action );
; 29.080   0  LONG DoPkt1( struct MsgPort *port, long action, long arg1 );
; 29.081   0  LONG DoPkt2( struct MsgPort *port, long action, long arg1, long arg2 );
; 29.082   0  LONG DoPkt3( struct MsgPort *port, long action, long arg1, long arg2,
; 29.083   0  	long arg3 );
; 29.084   0  LONG DoPkt4( struct MsgPort *port, long action, long arg1, long arg2,
; 29.085   0  	long arg3, long arg4 );
; 29.086   0  void SendPkt( struct DosPacket *dp, struct MsgPort *port,
; 29.087   0  	struct MsgPort *replyport );
; 29.088   0  struct DosPacket *WaitPkt( void );
; 29.089   0  void ReplyPkt( struct DosPacket *dp, long res1, long res2 );
; 29.090   0  void AbortPkt( struct MsgPort *port, struct DosPacket *pkt );
; 29.091      /*	Record Locking */
; 29.092   0  BOOL LockRecord( BPTR fh, unsigned long offset, unsigned long length,
; 29.093   0  	unsigned long mode, unsigned long timeout );
; 29.094   0  BOOL LockRecords( struct RecordLock *recArray, unsigned long timeout );
; 29.095   0  BOOL UnLockRecord( BPTR fh, unsigned long offset, unsigned long length );
; 29.096   0  BOOL UnLockRecords( struct RecordLock *recArray );
; 29.097      /*	Buffered File I/O */
; 29.098   0  BPTR SelectInput( BPTR fh );
; 29.099   0  BPTR SelectOutput( BPTR fh );
; 29.100   0  LONG FGetC( BPTR fh );
; 29.101   0  LONG FPutC( BPTR fh, long ch );
; 29.102   0  LONG UnGetC( BPTR fh, long character );
; 29.103   0  LONG FRead( BPTR fh, APTR block, unsigned long blocklen,
; 29.104   0  	unsigned long number );
; 29.105   0  LONG FWrite( BPTR fh, APTR block, unsigned long blocklen,
; 29.106   0  	unsigned long number );
; 29.107   0  STRPTR FGets( BPTR fh, STRPTR buf, unsigned long buflen );
; 29.108   0  LONG FPuts( BPTR fh, STRPTR str );
; 29.109   0  void VFWritef( BPTR fh, STRPTR format, LONG *argarray );
; 29.110   0  void FWritef( BPTR fh, STRPTR format, ... );
; 29.111   0  LONG VFPrintf( BPTR fh, STRPTR format, APTR argarray );
; 29.112   0  LONG FPrintf( BPTR fh, STRPTR format, ... );
; 29.113   0  LONG Flush( BPTR fh );
; 29.114   0  LONG SetVBuf( BPTR fh, STRPTR buff, long type, long size );
; 29.115      /*	DOS Object Management */
; 29.116   0  BPTR DupLockFromFH( BPTR fh );
; 29.117   0  BPTR OpenFromLock( BPTR lock );
; 29.118   0  BPTR ParentOfFH( BPTR fh );
; 29.119   0  BOOL ExamineFH( BPTR fh, struct FileInfoBlock *fib );

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 79


;Line#  Block                                  Source
; 29.120   0  LONG SetFileDate( STRPTR name, struct DateStamp *date );
; 29.121   0  LONG NameFromLock( BPTR lock, STRPTR buffer, long len );
; 29.122   0  LONG NameFromFH( BPTR fh, STRPTR buffer, long len );
; 29.123   0  WORD SplitName( STRPTR name, unsigned long seperator, STRPTR buf, long oldpos,
; 29.124   0  	long size );
; 29.125   0  LONG SameLock( BPTR lock1, BPTR lock2 );
; 29.126   0  LONG SetMode( BPTR fh, long mode );
; 29.127   0  LONG ExAll( BPTR lock, struct ExAllData *buffer, long size, long data,
; 29.128   0  	struct ExAllControl *control );
; 29.129   0  LONG ReadLink( struct MsgPort *port, BPTR lock, STRPTR path, STRPTR buffer,
; 29.130   0  	unsigned long size );
; 29.131   0  LONG MakeLink( STRPTR name, long dest, long soft );
; 29.132   0  LONG ChangeMode( long type, BPTR fh, long newmode );
; 29.133   0  LONG SetFileSize( BPTR fh, long pos, long mode );
; 29.134      /*	Error Handling */
; 29.135   0  LONG SetIoErr( long result );
; 29.136   0  BOOL Fault( long code, STRPTR header, STRPTR buffer, long len );
; 29.137   0  BOOL PrintFault( long code, STRPTR header );
; 29.138   0  LONG ErrorReport( long code, long type, unsigned long arg1,
; 29.139   0  	struct MsgPort *device );
; 29.140      /*	Process Management */
; 29.141   0  struct CommandLineInterface *Cli( void );
; 29.142   0  struct Process *CreateNewProc( struct TagItem *tags );
; 29.143   0  struct Process *CreateNewProcTagList( struct TagItem *tags );
; 29.144   0  struct Process *CreateNewProcTags( unsigned long tag1type, ... );
; 29.145   0  LONG RunCommand( BPTR seg, long stack, STRPTR paramptr, long paramlen );
; 29.146   0  struct MsgPort *GetConsoleTask( void );
; 29.147   0  struct MsgPort *SetConsoleTask( struct MsgPort *task );
; 29.148   0  struct MsgPort *GetFileSysTask( void );
; 29.149   0  struct MsgPort *SetFileSysTask( struct MsgPort *task );
; 29.150   0  STRPTR GetArgStr( void );
; 29.151   0  BOOL SetArgStr( STRPTR string );
; 29.152   0  struct Process *FindCliProc( unsigned long num );
; 29.153   0  ULONG MaxCli( void );
; 29.154   0  BOOL SetCurrentDirName( STRPTR name );
; 29.155   0  BOOL GetCurrentDirName( STRPTR buf, long len );
; 29.156   0  BOOL SetProgramName( STRPTR name );
; 29.157   0  BOOL GetProgramName( STRPTR buf, long len );
; 29.158   0  BOOL SetPrompt( STRPTR name );
; 29.159   0  BOOL GetPrompt( STRPTR buf, long len );
; 29.160   0  BPTR SetProgramDir( BPTR lock );
; 29.161   0  BPTR GetProgramDir( void );
; 29.162      /*	Device List Management */
; 29.163   0  LONG SystemTagList( STRPTR command, struct TagItem *tags );
; 29.164   0  LONG System( STRPTR command, struct TagItem *tags );
; 29.165   0  LONG SystemTags( STRPTR command, unsigned long tag1type, ... );
; 29.166   0  LONG AssignLock( STRPTR name, BPTR lock );
; 29.167   0  BOOL AssignLate( STRPTR name, STRPTR path );
; 29.168   0  BOOL AssignPath( STRPTR name, STRPTR path );
; 29.169   0  BOOL AssignAdd( STRPTR name, BPTR lock );

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 80


;Line#  Block                                  Source
; 29.170   0  LONG RemAssignList( STRPTR name, BPTR lock );
; 29.171   0  struct DevProc *GetDeviceProc( STRPTR name, struct DevProc *dp );
; 29.172   0  void FreeDeviceProc( struct DevProc *dp );
; 29.173   0  struct DosList *LockDosList( unsigned long flags );
; 29.174   0  void UnLockDosList( unsigned long flags );
; 29.175   0  struct DosList *AttemptLockDosList( unsigned long flags );
; 29.176   0  BOOL RemDosEntry( struct DosList *dlist );
; 29.177   0  LONG AddDosEntry( struct DosList *dlist );
; 29.178   0  struct DosList *FindDosEntry( struct DosList *dlist, STRPTR name,
; 29.179   0  	unsigned long flags );
; 29.180   0  struct DosList *NextDosEntry( struct DosList *dlist, unsigned long flags );
; 29.181   0  struct DosList *MakeDosEntry( STRPTR name, long type );
; 29.182   0  void FreeDosEntry( struct DosList *dlist );
; 29.183   0  BOOL IsFileSystem( STRPTR name );
; 29.184      /*	Handler Interface */
; 29.185   0  BOOL Format( STRPTR filesystem, STRPTR volumename, unsigned long dostype );
; 29.186   0  LONG Relabel( STRPTR drive, STRPTR newname );
; 29.187   0  LONG Inhibit( STRPTR name, long onoff );
; 29.188   0  LONG AddBuffers( STRPTR name, long number );
; 29.189      /*	Date, Time Routines */
; 29.190   0  LONG CompareDates( struct DateStamp *date1, struct DateStamp *date2 );
; 29.191   0  LONG DateToStr( struct DateTime *datetime );
; 29.192   0  LONG StrToDate( struct DateTime *datetime );
; 29.193      /*	Image Management */
; 29.194   0  BPTR InternalLoadSeg( BPTR fh, BPTR table, LONG *funcarray, LONG *stack );
; 29.195   0  BOOL InternalUnLoadSeg( BPTR seglist, void (*freefunc)() );
; 29.196   0  BPTR NewLoadSeg( STRPTR file, struct TagItem *tags );
; 29.197   0  BPTR NewLoadSegTagList( STRPTR file, struct TagItem *tags );
; 29.198   0  BPTR NewLoadSegTags( STRPTR file, unsigned long tag1type, ... );
; 29.199   0  LONG AddSegment( STRPTR name, BPTR seg, long system );
; 29.200   0  struct Segment *FindSegment( STRPTR name, struct Segment *seg, long system );
; 29.201   0  LONG RemSegment( struct Segment *seg );
; 29.202      /*	Command Support */
; 29.203   0  LONG CheckSignal( long mask );
; 29.204   0  struct RDArgs *ReadArgs( STRPTR arg_template, LONG *array,
; 29.205   0  	struct RDArgs *args );
; 29.206   0  LONG FindArg( STRPTR keyword, STRPTR arg_template );
; 29.207   0  LONG ReadItem( STRPTR name, long maxchars, struct CSource *cSource );
; 29.208   0  LONG StrToLong( STRPTR string, LONG *value );
; 29.209   0  LONG MatchFirst( STRPTR pat, struct AnchorPath *anchor );
; 29.210   0  LONG MatchNext( struct AnchorPath *anchor );
; 29.211   0  void MatchEnd( struct AnchorPath *anchor );
; 29.212   0  LONG ParsePattern( STRPTR pat, STRPTR buf, long buflen );
; 29.213   0  BOOL MatchPattern( STRPTR pat, STRPTR str );
; 29.214   0  void FreeArgs( struct RDArgs *args );
; 29.215   0  STRPTR FilePart( STRPTR path );
; 29.216   0  STRPTR PathPart( STRPTR path );
; 29.217   0  BOOL AddPart( STRPTR dirname, STRPTR filename, unsigned long size );
; 29.218      /*	Notification */
; 29.219   0  BOOL StartNotify( struct NotifyRequest *notify );

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 81


;Line#  Block                                  Source
; 29.220   0  void EndNotify( struct NotifyRequest *notify );
; 29.221      /*	Environment Variable functions */
; 29.222   0  BOOL SetVar( STRPTR name, STRPTR buffer, long size, long flags );
; 29.223   0  LONG GetVar( STRPTR name, STRPTR buffer, long size, long flags );
; 29.224   0  LONG DeleteVar( STRPTR name, unsigned long flags );
; 29.225   0  struct LocalVar *FindVar( STRPTR name, unsigned long type );
; 29.226   0  LONG CliInitNewcli( struct DosPacket *dp );
; 29.227   0  LONG CliInitRun( struct DosPacket *dp );
; 29.228   0  LONG WriteChars( STRPTR buf, unsigned long buflen );
; 29.229   0  LONG PutStr( STRPTR str );
; 29.230   0  LONG VPrintf( STRPTR format, APTR argarray );
; 29.231   0  LONG Printf( STRPTR format, ... );
; 29.232      /* these were unimplemented until dos 36.147 */
; 29.233   0  LONG ParsePatternNoCase( STRPTR pat, STRPTR buf, long buflen );
; 29.234   0  BOOL MatchPatternNoCase( STRPTR pat, STRPTR str );
; 29.235      /* this was added for V37 dos, returned 0 before then. */
; 29.236   0  BOOL SameDevice( BPTR lock1, BPTR lock2 );
; 29.237
; 29.238      /* NOTE: the following entries did NOT exist before ks 36.303 (2.02) */
; 29.239      /* If you are going to use them, open dos.library with version 37 */
; 29.240
; 29.241      /* These calls were added for V39 dos: */
; 29.242   0  void ExAllEnd( BPTR lock, struct ExAllData *buffer, long size, long data,
; 29.243   0  	struct ExAllControl *control );
; 29.244   0  BOOL SetOwner( STRPTR name, long owner_info );
; 29.245   0  #endif	 /* CLIB_DOS_PROTOS_H */
; 28.006   0  #include <pragmas/dos_pragmas.h>
;===> Including file "sc:include/pragmas/dos_pragmas.h"
; 40.023      /*pragma libcall DOSBase dosPrivate1 a2 0*/
; 40.024      /*pragma libcall DOSBase dosPrivate2 a8 0*/
; 40.034      /*--- functions in V36 or higher (Release 2.0) ---*/
; 40.035      /*	DOS Object creation/deletion*/
; 40.040      /*	Packet Level routines*/
; 40.046      /*	Record Locking*/
; 40.051      /*	Buffered File I/O*/
; 40.067      /*	DOS Object Management*/
; 40.083      /*	Error Handling*/
; 40.088      /*--- (1 function slot reserved here) ---*/
; 40.089      /*	Process Management*/
; 40.111      /*	Device List Management*/
; 40.132      /*	Handler Interface*/
; 40.137      /*	Date, Time Routines*/
; 40.141      /*	Image Management*/
; 40.150      /*	Command Support*/
; 40.161      /*pragma libcall DOSBase dosPrivate3 354 0*/
; 40.163      /*--- (1 function slot reserved here) ---*/
; 40.167      /*	Notification*/
; 40.170      /*	Environment Variable functions*/
; 40.175      /*pragma libcall DOSBase dosPrivate4 39c 0*/
; 40.182      /*--- (1 function slot reserved here) ---*/

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 82


;Line#  Block                                  Source
; 40.183      /* these were unimplemented until dos 36.147*/
; 40.186      /*pragma libcall DOSBase dosPrivate5 3d2 0*/
; 40.187      /* this was added for V37 dos, returned 0 before then.*/
; 40.189      /**/
; 40.190      /* NOTE: the following entries did NOT exist before ks 36.303 (2.02)*/
; 40.191      /* If you are going to use them, open dos.library with version 37*/
; 40.192      /**/
; 40.193      /* These calls were added for V39 dos:*/
; 40.196      /*--- (2 function slots reserved here) ---*/
; 40.197      /*--- (2 function slots reserved here) ---*/
; 40.198      /*--- (2 function slots reserved here) ---*/
; 40.199      /*--- (2 function slots reserved here) ---*/
; 28.007   0  #endif
; 16       0  #include <sxstructs.h>
;===> Including file "sc:include/sxstructs.h"
; 41.001
; 41.002   0  struct DoorsStruct
; 41.003   0  {
; 41.004   0  	char	chatdoor[52];
; 41.005   0  	UBYTE	chattype;
; 41.006   0  	char	msgdoor[52];
; 41.007   0  	UBYTE	msgtype;
; 41.008   0  	char	frontdoor[52];
; 41.009   0  	UBYTE	fronttype;
; 41.010   0  	char	msgdoorreply[52];
; 41.011   0  	UBYTE	msgdoorreplytype;
; 41.012   0  	char	nfdoor[52];
; 41.013   0  	UBYTE	nftype;
; 41.014   0  };
; 41.015
; 41.016   0  struct AccessStruct
; 41.017   0  {
; 41.018   0  	char name[32];
; 41.019   0  	UBYTE access;
; 41.020   0  	UBYTE flags;
; 41.021   0  	ULONG freefiles;
; 41.022   0  	ULONG freebytes;
; 41.023   0  	UWORD byteratio;
; 41.024   0  	UWORD fileratio;
; 41.025   0  	long Time_Limit;
; 41.026   0  	ULONG ConfAccess[10];
; 41.027   0  	char res[38];
; 41.028   0  };
; 41.029
; 41.030   0  struct MCPMessage
; 41.031   0  {
; 41.032   0  	struct Message Msg;
; 41.033   0  	UWORD command;
; 41.034   0  	UWORD nodenum;
; 41.035   0  	long data1;

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 83


;Line#  Block                                  Source
; 41.036   0  	long data2;
; 41.037   0  	long data3;
; 41.038   0  	long data4;
; 41.039   0  	long data5;
; 41.040   0  	char *action;
; 41.041   0  };
; 41.042
; 41.043   0  struct Flag
; 41.044   0  {
; 41.045   0  	struct Node flag_node;
; 41.046   0  	char path[72];
; 41.047   0  	char file[34];
; 41.048   0  	ULONG size;
; 41.049   0  	ULONG xfer;
; 41.050   0  	ULONG cps;
; 41.051   0  	UWORD secs;
; 41.052   0  	UWORD mins;
; 41.053   0  	UWORD hours;
; 41.054   0  	UBYTE conf;
; 41.055   0  	UBYTE area;
; 41.056   0  	UBYTE free;
; 41.057   0  	UBYTE misc;
; 41.058   0  };
; 41.059
; 41.060   0  struct MainStruct
; 41.061   0  {
; 41.062   0  	char BBSName[64];
; 41.063   0  	char USERPath[64];
; 41.064   0  	char BBSLoc[64];
; 41.065   0  	char Sysop[64];
; 41.066   0  	char DNPath[64];
; 41.067   0  	char ULPath[64];
; 41.068   0  	long nodes;
; 41.069   0  	UWORD inac_timeout;
; 41.070   0  	UWORD inac_warn;
; 41.071   0  };
; 41.072
; 41.073   0  struct SerialStruct
; 41.074   0  {
; 41.075   0  	char device[32];
; 41.076   0  	WORD unit;
; 41.077   0  	WORD misc;
; 41.078   0  	long minrate;
; 41.079   0  	long dcerate;
; 41.080   0  	UBYTE sevenwire;
; 41.081   0  	UBYTE shared;
; 41.082   0  	char ring[16];
; 41.083   0  	char connect[24];
; 41.084   0  	char answer[16];
; 41.085   0  	char initstr[48];

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 84


;Line#  Block                                  Source
; 41.086   0  };
; 41.087
; 41.088   0  struct ConfStruct
; 41.089   0  {
; 41.090   0  	char name[45];
; 41.091   0  	char path[55];
; 41.092   0  	char pass[16];
; 41.093   0  	char filepath[52];
; 41.094   0  	UWORD fileareas;
; 41.095   0  	UWORD uploadarea;
; 41.096   0  	UBYTE flf;
; 41.097   0  	UBYTE flags;
; 41.098   0  	char reserve[82];
; 41.099   0  };
; 41.100
; 41.101   0  struct SXUserStruct
; 41.102   0  {
; 41.103   0  	UWORD byteratio;
; 41.104   0  	UWORD fileratio;
; 41.105   0  	ULONG flags;
; 41.106   0  	UWORD freefiles;
; 41.107   0  	ULONG freebytes;
; 41.108   0  	ULONG ConfAccess[10];
; 41.109   0  	UWORD lastfilearea;
; 41.110   0  	char computer[24];
; 41.111   0  	char sentbyline[46];
; 41.112   0  	char password[16];
; 41.113   0  	long firstcall;
; 41.114   0  	char reserved[110];
; 41.115   0  };
; 41.116
; 41.117   0  struct UserData {
; 41.118   0  	char	Name[31],
; 41.119   0  		Pass[9],
; 41.120   0  		Location[30],
; 41.121   0  		PhoneNumber[13];
; 41.122   0  	USHORT	Slot_Number;
; 41.123   0  	USHORT	Sec_Status,
; 41.124   0  		Sec_Board,		/* File or Byte Ratio */
; 41.125   0  		Sec_Library,		/* Ratio              */
; 41.126   0  		Sec_Bulletin,		/* Computer Type      */
; 41.127   0  		Messages_Posted;
; 41.128   0  	ULONG	NewSinceDate,
; 41.129   0  		ConfRead1,
; 41.130   0  		ConfRead2,
; 41.131   0  		ConfRead3,
; 41.132   0  		ConfRead4,
; 41.133   0  		ConfRead5,
; 41.134   0  		ConfRead6,
; 41.135   0  		ConfRead7,

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 85


;Line#  Block                                  Source
; 41.136   0  		ConfRead8,
; 41.137   0  		ConfRead9;
; 41.138   0  	char	Conference_Access[10];
; 41.139   0  	USHORT	Uploads,
; 41.140   0  		Downloads,
; 41.141   0  		ConfRJoin,
; 41.142   0  		Times_Called;
; 41.143   0  	long	Time_Last_On,
; 41.144   0  		Time_Used,
; 41.145   0  		Time_Limit,
; 41.146   0  		Time_Left;
; 41.147   0  	ULONG	Bytes_Download,
; 41.148   0  		Bytes_Upload,
; 41.149   0  		Daily_Bytes_Limit,
; 41.150   0  		Daily_Bytes_Dld;
; 41.151   0  	char	Expert;
; 41.152   0  	ULONG	ConfYM1,
; 41.153   0  		ConfYM2,
; 41.154   0  		ConfYM3,
; 41.155   0  		ConfYM4,
; 41.156   0  		ConfYM5,
; 41.157   0  		ConfYM6,
; 41.158   0  		ConfYM7,
; 41.159   0  		ConfYM8,
; 41.160   0  		ConfYM9;
; 41.161   0  	long    BeginLogCall;
; 41.162   0  	UBYTE	Protocol,
; 41.163   0  		UUCPA,
; 41.164   0  		LineLength,
; 41.165   0  		Flags; 	/* BIT 0 = NEW USER		*/
; 41.166      			/*     1 = MAIL SCAN		*/
; 41.167      			/*     2 = MAIL SCAN ASK	*/
; 41.168      			/*     3 = FILE SCAN		*/
; 41.169      			/*     4 = FILE SCAN ASK	*/
; 41.170      			/*     5 = LINE MSG EDITOR	*/
; 41.171      			/*     6 = DELETED!		*/
; 41.172   0  	};
; 41.173
; 41.174   0  struct UserIndexStruct
; 41.175   0  {
; 41.176   0  	char handle[31];
; 41.177   0  	char realname[31];
; 41.178   0  	UBYTE flags; /* BIT 6 = DELETED!	*/
; 41.179   0  	UBYTE unused;
; 41.180   0  };
; 41.181
; 41.182   0  struct ArchiveStruct
; 41.183   0  {
; 41.184   0  	char name[24];
; 41.185   0  	char patt[24];

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 86


;Line#  Block                                  Source
; 41.186   0  	char testcmd[72];
; 41.187   0  	char unpackcmd[72];
; 41.188   0  	char packcmd[72];
; 41.189   0  	char viewcmd[72];
; 41.190   0  	char corrupt1[16];
; 41.191   0  	char corrupt2[16];
; 41.192   0  	char corrupt3[16];
; 41.193   0  	UBYTE flags;
; 41.194   0  	UBYTE viewaccess;
; 41.195   0  	char reserve[30];
; 41.196   0  };
; 41.197
; 41.198   0  struct ScreenModeStruct
; 41.199   0  {
; 41.200   0  	ULONG DisplayID;
; 41.201   0  	UWORD DisplayWidth;
; 41.202   0  	UWORD DisplayHeight;
; 41.203   0  	UWORD DisplayDepth;
; 41.204   0  	ULONG reserved;
; 41.205   0  	char fontname[32];
; 41.206   0  	UWORD fontsize;
; 41.207   0  	char device[32];
; 41.208   0  	WORD unit;
; 41.209   0  	ULONG flags;
; 41.210   0  };
; 41.211
; 41.212   0  struct DisplayStruct
; 41.213   0  {
; 41.214   0  	char name[16];
; 41.215   0  	char path[48];
; 41.216   0  	char ext[4];
; 41.217   0  	struct ScreenModeStruct ScreenMode;
; 41.218   0  	ULONG flags;
; 41.219   0  	char res[40];
; 41.220   0  };
; 41.221
; 41.222   0  struct ProtoStruct
; 41.223   0  {
; 41.224   0  	char name[24];
; 41.225   0  	char letter;
; 41.226   0  	char null;
; 41.227   0  	char type;
; 41.228   0  	char efficiency;
; 41.229   0  	char library[30];
; 41.230   0  	char initstr[30];
; 41.231   0  	char res[64];
; 41.232   0  };
; 41.233
; 41.234   0  struct NodeStruct
; 41.235   0  {

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 87


;Line#  Block                                  Source
; 41.236   0  	char systempass[16];
; 41.237   0  	char newuserpass[16];
; 41.238   0  	char fcheck[42];
; 41.239   0  	long flags;
; 41.240   0  };
; 17
; 18       0  struct MsgPort *bbsport;
; 19
; 20       0  struct JHMessage
; 21       0  {
; 22       0    struct Message Msg;
; 23       0    char String[200];
; 24       0    int Data;
; 25       0    int Command;
; 26       0    int NodeID;
; 27       0    int LineNum;
; 28       0    unsigned long signal;
; 29       0    struct Process *task;
; 30       0    APTR *Semi;
; 31       0  } themsg;
; 32
; 33       0  void PS(char * str);
; 34       0  void XIMFunction(int func, long data, char * str);
; 35       0  void view(char *filename);
; 36       0  void shutdown(void);
; 37
; 38       0  int main(int argc, char *argv[])
; 39       0  {
; 40       1  	char portname[16];
; 41
; 42       1  	if(argv[1][0]==0)
; 43       1  	{
; 44       2  		PutStr("This program requires System-X BBS Software\n");
; 45       2  	} else {
; 46       2  		sprintf(portname, "AEDoorPort%s", argv[1]);
; 47       2  		bbsport = FindPort(portname);
; 48       2  		if(bbsport)
; 49       2  		{
; 50       3  			XIMFunction(1, 0, 0); 	/* function 1 = register */
; 51
; 52       3  			view((char *)themsg.Data);
; 53
; 54       3  			XIMFunction(2, 0, 0); 	/* function 2 = shutdown */
; 55       3  		}
; 56       2  	}
; 57       1  }
; 58
; 59       0  void shutdown(void)
; 60       0  {
; 61       1  	XIMFunction(2, 0, 0);

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 88


;Line#  Block                                  Source
; 62       1  	exit(0);
; 63       1  }
; 64
; 65       0  void PS(char * str)
; 66       0  {
; 67       1  	XIMFunction(1500, (long)str, 0);
; 68       1  }
; 69
; 70       0  void XIMFunction(int func, long data, char * str)
; 71       0  {
; 72       1  	struct MsgPort *replyport;
; 73
; 74       1  	replyport = CreateMsgPort();
; 75       1  	if(replyport)
; 76       1  	{
; 77       2  		themsg.Msg.mn_Length	= sizeof(struct JHMessage);
; 78       2  		themsg.Msg.mn_ReplyPort	= replyport;
; 79       2  		themsg.Data 		= data;
; 80       2  		themsg.Command 		= func;
; 81       2  		if(str && str[0]!=0) strcpy(themsg.String, str);
; 82       2  		PutMsg(bbsport, (struct Message *)&themsg);
; 83       2  		WaitPort(replyport);
; 84       2  		DeleteMsgPort(replyport);
; 85       2  	}
; 86       1  }
; 87
; 88       0  void view(char *filename)
; 89       0  {
; 90       1  	char buf[512], *arg;
; 91       1  	BPTR fh,lck;
; 92          	
; 93       1  	PS("[0m\r\nSystem-X VIEW [36m1.0 [0mBy [r]FoX\r\n\r\n");
; 94
; 95       1  	XIMFunction(1507, 0, 0);
; 96       1  	arg = (char *)themsg.Data;
; 97       1  	if(arg[0]!=0)
; 98       1  	{
; 99       2  		strcpy(filename, arg);
;100       2  	} else
;101       1          {
;102       2  		XIMFunction(5, 34, "[36mEnter filename to View[34m: [0m");
;103       2  		PS("\r\n");
;104       2  		if(themsg.Data==-1) shutdown();
;105       2  		if(themsg.String[0]==0) return;
;106       2  		strcpy(filename, themsg.String);
;107       2  	}
;108
;109       1  	lck = Lock(filename, SHARED_LOCK);
;110       1  	if(!lck) return;	/* == IF IT DOESN'T, EXIT QUIETLY == */
;111       1  	UnLock(lck);

;SAS/C Amiga Compiler (Phase 1)  6.50                Aug 26 1998 23:53:38                                                                            Page 89


;Line#  Block                                  Source
;112
;113       1  	fh = Open("SX:Prefs/Confs.DAT", MODE_OLDFILE);
;114
;115       1          PS("\n\r go to the loop now...");
;116       1          Delay(20);
;117
;118       1  	if(fh)
;119       1  	{
;120       2                  struct ConfStruct Conf;
;121          		
;122       2  		while(1)
;123       2  		{
;124       3                          PS("\n\rread the conference.dat now...");
;125       3                          Delay(20);
;126
;127       3                          if(Read(fh, &Conf, sizeof(struct ConfStruct)))
;128       3  			{
;129
;130          				/* == LET'S CHECK THIS CONFERENCE FOR THE FILE TO SHOW == */
;131                     		
;132       4  				if(Conf.filepath[0] == 0) lck = 0;
;133       4  				else
;134       4                                  {
;135       5  				        sprintf(buf, "%s%s", Conf.filepath, filename);
;136       5                                          lck = Lock(buf, SHARED_LOCK);
;137       5                                          PS(buf);
;138       5                                  }
;139       4                          }
;140
;141
;142
;143       3  			if(lck)
;144       3  			{
;145       4                                  PS("\n\rFile is Found !!");
;146       4                                  Delay(25);
;147       4  				UnLock(lck);
;148          				/* == FILE IS FOUND !! == */		
;149       4             			PS("....typing...");	
;150       4    			        //PS(filename);
;151          	
;152       4  				Close(fh);
;153       4  				return;
;154       4  			}			
;155       3  		}	
;156       2  	}
;157       1  	Close(fh);
;158       1  }
;159
;160
;161
6.50 (Cross Reference)        Aug 26 1998 23:53:51                         Page 1


      SYMBOL        ATTRIBUTES AND CROSS REFERENCE


__builtin_strcpy near function returning pointer to char
                 AA-dev:SXView/SXview.c: 81, 99, 106

arg              pointer to char
                 AA-dev:SXView/SXview.c: 90, 96, 97, 99

argc             int
                 AA-dev:SXView/SXview.c: 38

argv             pointer to pointer to char
                 AA-dev:SXView/SXview.c: 38, 42, 46

APTR             pointer to void
                 AA-dev:SXView/SXview.c: 30

bbsport          pointer to struct "MsgPort"
                 AA-dev:SXView/SXview.c: 18, 47, 48, 82

buf              array [512] of char
                 AA-dev:SXView/SXview.c: 90, 135, 136, 137

BPTR             long
                 AA-dev:SXView/SXview.c: 91

Close            near function returning "LONG"
                 AA-dev:SXView/SXview.c: 152, 157

Command          int in struct "JHMessage" (offset: 224)
                 AA-dev:SXView/SXview.c: 25, 80

Conf             struct "ConfStruct" (size 256 bytes)
                 AA-dev:SXView/SXview.c: 120, 127, 132, 135

ConfStruct       struct tag (size 256 bytes)
                 AA-dev:SXView/SXview.c: 120, 127
                 members:
                   name (offset: 0)
                   path (offset: 45)
                   pass (offset: 100)
                   filepath (offset: 116)
                   fileareas (offset: 168)
                   uploadarea (offset: 170)
                   flf (offset: 172)
                   flags (offset: 173)
                   reserve (offset: 174)

6.50 (Cross Reference)        Aug 26 1998 23:53:51                         Page 2


      SYMBOL        ATTRIBUTES AND CROSS REFERENCE



CreateMsgPort    near function returning pointer to struct "MsgPort" (size 34
                 bytes)
                 AA-dev:SXView/SXview.c: 74

data             long
                 AA-dev:SXView/SXview.c: 70, 79

data             long
                 AA-dev:SXView/SXview.c: 34

DOSBase          pointer to struct "DosLibrary"
                 AA-dev:SXView/SXview.c: 44, 109, 111, 113, 116, 125, 127, 136,
                             146, 147, 152, 157

Data             int in struct "JHMessage" (offset: 220)
                 AA-dev:SXView/SXview.c: 24, 52, 79, 96, 104

Delay            near function returning void
                 AA-dev:SXView/SXview.c: 116, 125, 146

DeleteMsgPort    near function returning void
                 AA-dev:SXView/SXview.c: 84

exit             near function returning void
                 AA-dev:SXView/SXview.c: 62

fh               "BPTR"
                 AA-dev:SXView/SXview.c: 91, 113, 118, 127, 152, 157

filepath         array [52] of char in struct "ConfStruct" (offset: 116)
                 AA-dev:SXView/SXview.c: 132, 135

filename         pointer to char
                 AA-dev:SXView/SXview.c: 35

filename         pointer to char
                 AA-dev:SXView/SXview.c: 88, 99, 106, 109, 135

func             int
                 AA-dev:SXView/SXview.c: 70, 80

func             int
                 AA-dev:SXView/SXview.c: 34

FindPort         near function returning pointer to struct "MsgPort" (size 34
                 bytes)
                 AA-dev:SXView/SXview.c: 47

6.50 (Cross Reference)        Aug 26 1998 23:53:51                         Page 3


      SYMBOL        ATTRIBUTES AND CROSS REFERENCE



JHMessage        struct tag (size 248 bytes)
                 AA-dev:SXView/SXview.c: 20, 77
                 members:
                   Msg (offset: 0)
                   String (offset: 20)
                   Data (offset: 220)
                   Command (offset: 224)
                   NodeID (offset: 228)
                   LineNum (offset: 232)
                   signal (offset: 236)
                   task (offset: 240)
                   Semi (offset: 244)

lck              "BPTR"
                 AA-dev:SXView/SXview.c: 91, 109, 110, 111, 132, 136, 143, 147

LineNum          int in struct "JHMessage" (offset: 232)
                 AA-dev:SXView/SXview.c: 27

Lock             near function returning "BPTR"
                 AA-dev:SXView/SXview.c: 109, 136

main             near function returning int
                 AA-dev:SXView/SXview.c: 38

mn_Length        unsigned short in struct "Message" (offset: 18)
                 AA-dev:SXView/SXview.c: 77

mn_ReplyPort     pointer to struct "MsgPort" in struct "Message" (offset: 14)
                 AA-dev:SXView/SXview.c: 78

MODE_OLDFILE     #define symbol
                 AA-dev:SXView/SXview.c: 113

Message          struct tag (size 20 bytes)
                 AA-dev:SXView/SXview.c: 22, 82
                 members:
                   mn_Node (offset: 0)
                   mn_ReplyPort (offset: 14)
                   mn_Length (offset: 18)

Msg              struct "Message" (size 20 bytes) in struct "JHMessage" (offset:
                 0)
                 AA-dev:SXView/SXview.c: 22, 77, 78

MsgPort          struct tag (size 34 bytes)
                 AA-dev:SXView/SXview.c: 18, 72
                 members:
                   mp_Node (offset: 0)
6.50 (Cross Reference)        Aug 26 1998 23:53:51                         Page 4


      SYMBOL        ATTRIBUTES AND CROSS REFERENCE



                   mp_Flags (offset: 14)
                   mp_SigBit (offset: 15)
                   mp_SigTask (offset: 16)
                   mp_MsgList (offset: 20)

NodeID           int in struct "JHMessage" (offset: 228)
                 AA-dev:SXView/SXview.c: 26

Open             near function returning "BPTR"
                 AA-dev:SXView/SXview.c: 113

portname         array [16] of char
                 AA-dev:SXView/SXview.c: 40, 46, 47

PS               near function returning void
                 AA-dev:SXView/SXview.c: 33, 65, 93, 103, 115, 124, 137, 145,
                             149

Process          struct tag (size 228 bytes)
                 AA-dev:SXView/SXview.c: 29
                 members:
                   pr_Task (offset: 0)
                   pr_MsgPort (offset: 92)
                   pr_Pad (offset: 126)
                   pr_SegList (offset: 128)
                   pr_StackSize (offset: 132)
                   pr_GlobVec (offset: 136)
                   pr_TaskNum (offset: 140)
                   pr_StackBase (offset: 144)
                   pr_Result2 (offset: 148)
                   pr_CurrentDir (offset: 152)
                   pr_CIS (offset: 156)
                   pr_COS (offset: 160)
                   pr_ConsoleTask (offset: 164)
                   pr_FileSystemTask (offset: 168)
                   pr_CLI (offset: 172)
                   pr_ReturnAddr (offset: 176)
                   pr_PktWait (offset: 180)
                   pr_WindowPtr (offset: 184)
                   pr_HomeDir (offset: 188)
                   pr_Flags (offset: 192)
                   pr_ExitCode (offset: 196)
                   pr_ExitData (offset: 200)
                   pr_Arguments (offset: 204)
                   pr_LocalVars (offset: 208)
                   pr_ShellPrivate (offset: 220)
                   pr_CES (offset: 224)

6.50 (Cross Reference)        Aug 26 1998 23:53:51                         Page 5


      SYMBOL        ATTRIBUTES AND CROSS REFERENCE



PutMsg           near function returning void
                 AA-dev:SXView/SXview.c: 82

PutStr           near function returning "LONG"
                 AA-dev:SXView/SXview.c: 44

replyport        pointer to struct "MsgPort"
                 AA-dev:SXView/SXview.c: 72, 74, 75, 78, 83, 84

Read             near function returning "LONG"
                 AA-dev:SXView/SXview.c: 127

shutdown         near function returning void
                 AA-dev:SXView/SXview.c: 36, 59, 104

signal           unsigned long in struct "JHMessage" (offset: 236)
                 AA-dev:SXView/SXview.c: 28

sprintf          near __stdargs function returning int
                 AA-dev:SXView/SXview.c: 46, 135

str              pointer to char
                 AA-dev:SXView/SXview.c: 33

str              pointer to char
                 AA-dev:SXView/SXview.c: 34

str              pointer to char
                 AA-dev:SXView/SXview.c: 65, 67

str              pointer to char
                 AA-dev:SXView/SXview.c: 70, 81(3)

strcpy           #define symbol  (2 arguments)
                 AA-dev:SXView/SXview.c: 81, 99, 106

SHARED_LOCK      #define symbol
                 AA-dev:SXView/SXview.c: 109, 136

Semi             pointer to pointer to void in struct "JHMessage" (offset: 244)
                 AA-dev:SXView/SXview.c: 30

String           array [200] of char in struct "JHMessage" (offset: 20)
                 AA-dev:SXView/SXview.c: 23, 81, 105, 106

SysBase          pointer to struct "ExecBase"
                 AA-dev:SXView/SXview.c: 47, 74, 82, 83, 84

6.50 (Cross Reference)        Aug 26 1998 23:53:51                         Page 6


      SYMBOL        ATTRIBUTES AND CROSS REFERENCE



task             pointer to struct "Process" in struct "JHMessage" (offset: 240)
                 AA-dev:SXView/SXview.c: 29

themsg           struct "JHMessage" (size 248 bytes)
                 AA-dev:SXView/SXview.c: 31, 52, 77, 78, 79, 80, 81, 82, 96, 104,
                             105, 106

UnLock           near function returning void
                 AA-dev:SXView/SXview.c: 111, 147

view             near function returning void
                 AA-dev:SXView/SXview.c: 35, 52, 88

WaitPort         near function returning pointer to struct "Message" (size 20
                 bytes)
                 AA-dev:SXView/SXview.c: 83

XIMFunction      near function returning void
                 AA-dev:SXView/SXview.c: 34, 50, 54, 61, 67, 70, 95, 102
