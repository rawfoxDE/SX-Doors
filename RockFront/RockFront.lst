
;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 1


;Line#  Block                                  Source
;  1          /*
;  2
;  3          ----------------------------------------------------
;  4           Programming doors for System-X using EXEC-MESSAGES
;  5          ----------------------------------------------------
;  6
;  7          See the botton of this source!
;  8
;  9          */
; 10
; 11       0  #include <stdio.h>
;===> Including file "sc:include/stdio.h"
;  1.001      /* Copyright (c) 1992-1993 SAS Institute, Inc., Cary, NC USA */
;  1.002      /* All Rights Reserved */
;  1.003
;  1.004
;  1.005   0  #ifndef _STDIO_H
;  1.006   0  #define _STDIO_H 1
;  1.007
;  1.008   0  #ifndef _COMMSIZE_H
;  1.009   0  #include <sys/commsize.h>
;===> Including file "sc:include/sys/commsize.h"
;  2.001      /* Copyright (c) 1993 SAS Institute, Inc., Cary, NC USA */
;  2.002      /* All Rights Reserved */
;  2.003
;  2.004      /* This header file contains common preprocessor symbol   */
;  2.005      /* definitions that were previously duplicated throughout */
;  2.006      /* the header files. Those definitions were moved here    */
;  2.007      /* and replaced with a #include of this header file.      */
;  2.008      /* This was done to purify the header files for GST       */
;  2.009      /* processing.                                            */
;  2.010
;  2.011   0  #ifndef _SIZE_T
;  2.012   0  #define _SIZE_T 1
;  2.013   0  typedef unsigned int size_t;
;  2.014   0  #endif
;  1.010   0  #endif
;  1.011
;  1.012   0  #ifndef _COMMLIST_H
;  1.013   0  #include <sys/commlist.h>
;===> Including file "sc:include/sys/commlist.h"
;  3.001      /* Copyright (c) 1993 SAS Institute, Inc., Cary, NC USA */
;  3.002      /* All Rights Reserved */
;  3.003
;  3.004      /* This header file contains common preprocessor symbol   */
;  3.005      /* definitions that were previously duplicated throughout */
;  3.006      /* the header files. Those definitions were moved here    */
;  3.007      /* and replaced with a #include of this header file.      */
;  3.008      /* This was done to purify the header files for GST       */
;  3.009      /* processing.                                            */

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 2


;Line#  Block                                  Source
;  3.010
;  3.011   0  #ifndef _VA_LIST
;  3.012   0  #define _VA_LIST 1
;  3.013   0  typedef char *va_list;
;  3.014   0  #endif
;  1.014   0  #endif
;  1.015
;  1.016   0  typedef unsigned long fpos_t;
;  1.017
;  1.018   0  #ifndef _COMMNULL_H
;  1.019   0  #include <sys/commnull.h>
;===> Including file "sc:include/sys/commnull.h"
;  4.001      /* Copyright (c) 1993 SAS Institute, Inc., Cary, NC USA */
;  4.002      /* All Rights Reserved */
;  4.003
;  4.004      /* This header file contains common preprocessor symbol   */
;  4.005      /* definitions that were previously duplicated throughout */
;  4.006      /* the header files. Those definitions were moved here    */
;  4.007      /* and replaced with a #include of this header file.      */
;  4.008      /* This was done to purify the header files for GST       */
;  4.009      /* processing.                                            */
;  4.010
;  4.011   0  #ifndef NULL
;  4.012   0  #define NULL  0L
;  4.013   0  #endif
;  1.020   0  #endif
;  1.021
;  1.022      /**
;  1.023      *
;  1.024      * Definitions associated with __iobuf._flag
;  1.025      *
;  1.026      **/
;  1.027
;  1.028   0  #define _IOFBF   0		/* fully buffered (for setvbuf) */
;  1.029   0  #define _IOREAD  1		/* read flag */
;  1.030   0  #define _IOWRT   2		/* write flag */
;  1.031   0  #define _IONBF   4		/* non-buffered flag */
;  1.032   0  #define _IOMYBUF 8		/* private buffer flag */
;  1.033   0  #define _IOEOF   16		/* end-of-file flag */
;  1.034   0  #define _IOERR   32		/* error flag */
;  1.035   0  #define _IOLBF   64		/* line-buffered flag */
;  1.036   0  #define _IORW    128		/* read-write (update) flag */
;  1.037   0  #define _IOUNGET 0x1000         /* unget was used since last seek */
;  1.038   0  #define _IORKEY  0x2000         /* raw console I/O flag */
;  1.039   0  #define _IOAPP   0x4000		/* append flag */
;  1.040   0  #define _IOXLAT  0x8000		/* translation flag */
;  1.041
;  1.042   0  #define BUFSIZ 512		/* standard buffer size */
;  1.043   0  #define EOF (-1)		/* end-of-file code */
;  1.044   0  #define FOPEN_MAX 20            /* maximum number of open files */

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 3


;Line#  Block                                  Source
;  1.045   0  #define FILENAME_MAX  64        /* maximum filename length */
;  1.046   0  #define L_tmpnam 64             /* maximum tmpnam filename length */
;  1.047
;  1.048   0  #define SEEK_SET 0              /* Seek from beginning of file */
;  1.049   0  #define SEEK_CUR 1              /* Seek from current file position */
;  1.050   0  #define SEEK_END 2              /* Seek from end of file */
;  1.051
;  1.052   0  #define TMP_MAX 999             /* Guaranteed unique temp names */
;  1.053
;  1.054   0  struct __iobuf {
;  1.055   0      struct __iobuf *_next;
;  1.056   0      unsigned char *_ptr;	/* current buffer pointer */
;  1.057   0      int _rcnt;		        /* current byte count for reading */
;  1.058   0      int _wcnt;		        /* current byte count for writing */
;  1.059   0      unsigned char *_base;	/* base address of I/O buffer */
;  1.060   0      int _size;			/* size of buffer */
;  1.061   0      int _flag;	        	/* control flags */
;  1.062   0      int _file;		        /* file descriptor */
;  1.063   0      unsigned char _cbuff;	/* single char buffer */
;  1.064   0  };
;  1.065
;  1.066   0  typedef struct __iobuf FILE;
;  1.067
;  1.068   0  extern struct __iobuf __iob[];
;  1.069
;  1.070   0  #define stdin (&__iob[0])	/* standard input file pointer */
;  1.071   0  #define stdout (&__iob[1])	/* standard output file pointer */
;  1.072   0  #define stderr (&__iob[2])	/* standard error file pointer */
;  1.073
;  1.074
;  1.075      /***
;  1.076      *
;  1.077      *     Prototypes for ANSI standard functions.
;  1.078      *
;  1.079      ***/
;  1.080
;  1.081
;  1.082   0  extern int remove(const char *);
;  1.083   0  extern int rename(const char *, const char *);
;  1.084   0  extern FILE *tmpfile(void);
;  1.085   0  extern char *tmpnam(char *s);
;  1.086
;  1.087   0  extern int fclose(FILE *);
;  1.088   0  extern int fflush(FILE *);
;  1.089   0  extern FILE *fopen(const char *, const char *);
;  1.090   0  extern FILE *freopen(const char *, const char *, FILE *);
;  1.091   0  extern void setbuf(FILE *, char *);
;  1.092   0  extern int setvbuf(FILE *, char *, int, size_t);
;  1.093
;  1.094   0  extern int fprintf(FILE *, const char *, ...);

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 4


;Line#  Block                                  Source
;  1.095   0  extern int fscanf(FILE *, const char *, ...);
;  1.096   0  extern int printf(const char *, ...);
;  1.097   0  extern int __builtin_printf(const char *, ...);
;  1.098   0  extern int scanf(const char *, ...);
;  1.099   0  extern int sprintf(char *, const char *, ...);
;  1.100   0  extern int sscanf(const char *, const char *, ...);
;  1.101   0  extern int vfprintf(FILE *, const char *, va_list);
;  1.102   0  extern int vprintf(const char *, va_list);
;  1.103   0  extern int vsprintf(char *, const char *, va_list);
;  1.104
;  1.105   0  extern int fgetc(FILE *);
;  1.106   0  extern char *fgets(char *, int, FILE *);
;  1.107   0  extern int fputc(int, FILE *);
;  1.108   0  extern int fputs(const char *, FILE *);
;  1.109   0  extern int getc(FILE *);
;  1.117   0              fgetc(p))
;  1.118   0  extern int getchar(void);
;  1.119   0  #define getchar() getc(stdin)
;  1.120   0  extern char *gets(char *);
;  1.121   0  extern int putc(int, FILE *);
;  1.122
;  1.123   0  #ifdef _USE_DIRTY_PUTC
;  1.124      /* this putc macro evaluates the charater expression multiple time */
;  1.125      /* which is a violation of the ANSI standard. */
;  1.137                   fputc(c,p))
;  1.138      #endif
;  1.139
;  1.140
;  1.141   0  extern int putchar(int);
;  1.142   0  #define putchar(c) putc(c,stdout)
;  1.143   0  extern int puts(const char *);
;  1.144   0  extern int ungetc(int, FILE *);
;  1.145
;  1.146   0  extern size_t fread(void *, size_t, size_t, FILE *);
;  1.147   0  extern size_t fwrite(const void *, size_t, size_t, FILE *);
;  1.148   0  extern int fgetpos(FILE *, fpos_t *);
;  1.149   0  extern int fseek(FILE *, long int, int);
;  1.150   0  extern int fsetpos(FILE *, const fpos_t *);
;  1.151   0  extern long int ftell(FILE *);
;  1.152   0  extern void rewind(FILE *);
;  1.153   0  #define rewind(p) fseek(p, 0L, 0)
;  1.154
;  1.155   0  extern void clearerr(FILE *);
;  1.156   0  #define clearerr(p) ((p)->_flag &= ~(_IOERR | _IOEOF))
;  1.157   0  extern int feof(FILE *);
;  1.158   0  #define feof(p) (((p)->_flag & _IOEOF) != 0)
;  1.159   0  extern int ferror(FILE *);
;  1.160   0  #define ferror(p) (((p)->_flag & _IOERR) != 0)
;  1.161   0  extern void perror(const char *);
;  1.162

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 5


;Line#  Block                                  Source
;  1.163   0  #define printf __builtin_printf
;  1.164
;  1.165   0  #ifndef _STRICT_ANSI
;  1.166
;  1.167      /* defines for mode of access() */
;  1.168   0  #define R_OK 4
;  1.169   0  #define W_OK 2
;  1.170   0  #define X_OK 1
;  1.171   0  #define F_OK 0
;  1.172
;  1.173      /***
;  1.174      *
;  1.175      *     Prototypes for Non-ANSI functions.
;  1.176      *
;  1.177      ***/
;  1.178
;  1.179   0  extern int __io2errno(int);
;  1.180   0  extern int fcloseall(void);
;  1.181   0  extern FILE *fdopen(int, const char *);
;  1.182   0  extern int fhopen(long, int);
;  1.183   0  extern int fgetchar(void);
;  1.184   0  extern int fileno(FILE *);
;  1.185   0  extern int flushall(void);
;  1.186   0  extern void fmode(FILE *, int);
;  1.187   0  extern int _writes(const char *, ...);
;  1.188   0  extern int _tinyprintf(char *, ...);
;  1.189   0  extern int fputchar(int);
;  1.190   0  extern void setnbf(FILE *);
;  1.191   0  extern int __fillbuff(FILE *);
;  1.192   0  extern int __flushbuff(int, FILE *);
;  1.193   0  extern int __access(const char *, int);
;  1.194   0  extern int access(const char *, int);
;  1.195   0  extern int chdir(const char *);
;  1.196   0  extern int chmod(const char *, int);
;  1.197   0  extern char *getcwd(char *, int);
;  1.198   0  extern int unlink(const char *);
;  1.199   0  extern int poserr(const char *);
;  1.200
;  1.201   0  #define  clrerr  clearerr
;  1.202   0  #define  access  __access
;  1.203   0  #define  _filbf  __fillbuff
;  1.204   0  #define  fileno(p) ((p)->_file)
;  1.205   0  #define  _flsbf  __flushbuff
;  1.206
;  1.207
;  1.208      /***
;  1.209      *
;  1.210      *     The following routines allow for raw console I/O.
;  1.211      *
;  1.212      ***/

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 6


;Line#  Block                                  Source
;  1.213
;  1.214   0  int rawcon(int);
;  1.215   0  int getch(void);
;  1.216
;  1.217   0  #endif /* _STRICT_ANSI */
;  1.218
;  1.219   0  extern unsigned long __fmask;
;  1.220   0  extern int __fmode;
;  1.221
;  1.222   0  #endif
; 12       0  #include <string.h>
;===> Including file "sc:include/string.h"
;  5.001      /* Copyright (c) 1992-1993 SAS Institute, Inc., Cary, NC USA */
;  5.002      /* All Rights Reserved */
;  5.003
;  5.004   0  #ifndef _STRING_H
;  5.005   0  #define _STRING_H 1
;  5.006
;  5.007   0  #ifndef _COMMSIZE_H
;  5.008   0  #include <sys/commsize.h>
;  5.009   0  #endif
;  5.010
;  5.011   0  #ifndef _COMMNULL_H
;  5.012   0  #include <sys/commnull.h>
;  5.013   0  #endif
;  5.014
;  5.015      /***
;  5.016      *
;  5.017      *     ANSI copying functions
;  5.018      *
;  5.019      ***/
;  5.020
;  5.021   0  extern void *memcpy(void *, const void *, size_t);
;  5.022   0  extern void *memmove(void *, const void *, size_t);
;  5.023   0  extern char *strcpy(char *, const char *);
;  5.024   0  extern char *strncpy(char *, const char *, size_t);
;  5.025
;  5.026
;  5.027      /***
;  5.028      *
;  5.029      *     ANSI concatenation functions
;  5.030      *
;  5.031      ***/
;  5.032
;  5.033   0  extern char *strcat(char *, const char *);
;  5.034   0  extern char *strncat(char *, const char *, size_t);
;  5.035
;  5.036
;  5.037      /***
;  5.038      *

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 7


;Line#  Block                                  Source
;  5.039      *     ANSI comparison functions
;  5.040      *
;  5.041      ***/
;  5.042
;  5.043   0  extern int memcmp(const void *, const void *, size_t);
;  5.044   0  extern int strcmp(const char *, const char *);
;  5.045   0  extern int strcoll(const char *, const char *);
;  5.046   0  extern int strncmp(const char *, const char *, size_t);
;  5.047   0  extern size_t strxfrm(char *, const char *, size_t);
;  5.048
;  5.049
;  5.050      /***
;  5.051      *
;  5.052      *     ANSI search functions
;  5.053      *
;  5.054      ***/
;  5.055
;  5.056   0  extern void *memchr(const void *, int, size_t);
;  5.057   0  extern char *strchr(const char *, int);
;  5.058   0  extern size_t strcspn(const char *, const char *);
;  5.059   0  extern char *strpbrk(const char *, const char *);
;  5.060   0  extern char *strrchr(const char *, int);
;  5.061   0  extern size_t strspn(const char *, const char *);
;  5.062   0  extern char *strstr(const char *, const char *);
;  5.063   0  extern char *strtok(char *, const char *);
;  5.064
;  5.065
;  5.066      /***
;  5.067      *
;  5.068      *     ANSI miscellaneous functions
;  5.069      *
;  5.070      ***/
;  5.071
;  5.072   0  extern void *memset(void *, int, size_t);
;  5.073   0  extern char *strerror(int);
;  5.074   0  extern size_t strlen(const char *);
;  5.075
;  5.076   0  #ifndef _STRICT_ANSI
;  5.077
;  5.078      /***
;  5.079      *
;  5.080      *     SAS string and memory functions.
;  5.081      *
;  5.082      ***/
;  5.083
;  5.084   0  extern int stcarg(const char *, const char *);
;  5.085   0  extern int stccpy(char *, const char *, int);
;  5.086   0  extern int stcgfe(char *, const char *);
;  5.087   0  extern int stcgfn(char *, const char *);
;  5.088   0  extern int stcis(const char *, const char *);

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 8


;Line#  Block                                  Source
;  5.089   0  extern int stcisn(const char *, const char *);
;  5.090   0  extern int __stcd_i(const char *, int *);
;  5.091   0  extern int __stcd_l(const char *, long *);
;  5.092   0  extern int stch_i(const char *, int *);
;  5.093   0  extern int stch_l(const char *, long *);
;  5.094   0  extern int stci_d(char *, int);
;  5.095   0  extern int stci_h(char *, int);
;  5.096   0  extern int stci_o(char *, int);
;  5.097   0  extern int stcl_d(char *, long);
;  5.098   0  extern int __stcl_h(char *, long);
;  5.099   0  extern int __stcl_o(char *, long);
;  5.100   0  extern int stco_i(const char *, int *);
;  5.101   0  extern int stco_l(const char *, long *);
;  5.102   0  extern int stcpm(const char *, const char *, char **);
;  5.103   0  extern int stcpma(const char *, const char *);
;  5.104   0  extern int stcsma(const char *, const char *);
;  5.105   0  extern int astcsma(const char *, const char *);
;  5.106   0  extern int stcu_d(char *, unsigned);
;  5.107   0  extern int __stcul_d(char *, unsigned long);
;  5.108
;  5.109   0  #define stclen(a) strlen(a)
;  5.110
;  5.111   0  extern char *stpblk(const char *);
;  5.112   0  extern char *stpbrk(const char *, const char *);
;  5.113   0  extern char *stpchr(const char *, int);
;  5.114   0  extern char *stpcpy(char *, const char *);
;  5.115   0  extern char *__stpcpy(char *, const char *);
;  5.116   0  extern char *stpdate(char *, int, const char *);
;  5.117   0  extern char *stpsym(const char *, char *, int);
;  5.118   0  extern char *stptime(char *, int, const char *);
;  5.119   0  extern char *stptok(const char *, char *, int, const char *);
;  5.120
;  5.121   0  extern int strbpl(char **, int, const char *);
;  5.122   0  extern int stricmp(const char *, const char *);
;  5.123   0  extern char *strdup(const char *);
;  5.124   0  extern void strins(char *, const char *);
;  5.125   0  extern int strmid(const char *, char *, int, int);
;  5.126   0  extern char *__strlwr(char *);
;  5.127   0  extern void strmfe(char *, const char *, const char *);
;  5.128   0  extern void strmfn(char *, const char *, const char *, const char *,
;  5.129   0                     const char *);
;  5.130   0  extern void strmfp(char *, const char *, const char *);
;  5.131   0  extern int strnicmp(const char *, const char *, size_t);
;  5.132   0  extern char *strnset(char *, int, int);
;  5.133
;  5.134   0  extern char *stpchrn(const char *, int);
;  5.135   0  extern char *strrev(char *);
;  5.136   0  extern char *strset(char *, int);
;  5.137   0  extern void strsfn(const char *, char *, char *, char *, char *);
;  5.138   0  extern char *__strupr(char *);

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 9


;Line#  Block                                  Source
;  5.139   0  extern int stspfp(char *, int *);
;  5.140   0  extern void strsrt(char *[], int);
;  5.141
;  5.142   0  extern int stcgfp(char *, const char *);
;  5.143
;  5.144   0  #define strcmpi stricmp		/* For Microsoft compatibility */
;  5.145   0  #define strlwr  __strlwr
;  5.146   0  #define strupr  __strupr
;  5.147   0  #define stcd_i __stcd_i
;  5.148   0  #define stcd_l __stcd_l
;  5.149   0  #define stcl_h __stcl_h
;  5.150   0  #define stcl_o __stcl_o
;  5.151   0  #define stcul_d __stcul_d
;  5.152   0  #define stpcpy __stpcpy
;  5.153
;  5.154   0  extern void *memccpy(void *, const void *, int, unsigned);
;  5.155   0  extern void movmem(const void *, void *, unsigned);
;  5.156   0  extern void repmem(void *, const void *, size_t, size_t);
;  5.157   0  extern void setmem(void *, unsigned, int);
;  5.158   0  extern void __swmem(void *, void *, unsigned);
;  5.159   0  #define swmem  __swmem
;  5.160
;  5.161      /* for BSD compatibility */
;  5.162   0  #ifndef __cplusplus
;  5.163   0  #define index(a,b) strchr(a,b)
;  5.164   0  #endif
;  5.165   0  #define rindex(a,b) strrchr(a,b)
;  5.166   0  #define bcopy(a,b,c) memmove(b,a,c)
;  5.167   0  #define bcmp(a,b,c) memcmp(a,b,c)
;  5.168   0  #define bzero(a,b) memset(a,0,b)
;  5.169
;  5.170   0  #endif /* _STRICT_ANSI */
;  5.171
;  5.172      /**
;  5.173      *
;  5.174      * Builtin function definitions
;  5.175      *
;  5.176      **/
;  5.177
;  5.178   0  extern size_t  __builtin_strlen(const char *);
;  5.179   0  extern int     __builtin_strcmp(const char *, const char *);
;  5.180   0  extern char   *__builtin_strcpy(char *, const char *);
;  5.181
;  5.182   0  extern void   *__builtin_memset(void *, int, size_t);
;  5.183   0  extern int     __builtin_memcmp(const void *, const void *, size_t);
;  5.184   0  extern void   *__builtin_memcpy(void *, const void *, size_t);
;  5.185
;  5.186   0  extern int __builtin_max(int, int);
;  5.187   0  extern int __builtin_min(int, int);
;  5.188   0  extern int __builtin_abs(int);

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 10


;Line#  Block                                  Source
;  5.189
;  5.190   0  #ifdef USE_BUILTIN_MATH
;  5.191      /* if you want the builtin versions of abs(), max(), and min() */
;  5.192      /* define USE_BUITLIN_MATH, and #include this file BEFORE math.h */
;  5.193
;  5.194      #ifndef __cplusplus
;  5.195
;  5.196      #ifndef max
;  5.197      #define max(a,b) __builtin_max(a,b)
;  5.198      #endif
;  5.199
;  5.200      #ifndef min
;  5.201      #define min(a,b) __builtin_min(a,b)
;  5.202      #endif
;  5.203
;  5.204      #ifndef abs
;  5.205      #define abs(a) __builtin_abs(a)
;  5.206      #endif
;  5.207
;  5.208      #endif
;  5.209
;  5.210      #endif
;  5.211
;  5.212   0  #define strlen(a)   __builtin_strlen(a)
;  5.213   0  #define strcmp(a,b) __builtin_strcmp(a,b)
;  5.214   0  #define strcpy(a,b) __builtin_strcpy(a,b)
;  5.215
;  5.216   0  #define memset(a,b,c) __builtin_memset(a,b,c)
;  5.217   0  #define memcmp(a,b,c) __builtin_memcmp(a,b,c)
;  5.218   0  #define memcpy(a,b,c) __builtin_memcpy(a,b,c)
;  5.219
;  5.220
;  5.221   0  #endif
; 13       0  #include <stdlib.h>
;===> Including file "sc:include/stdlib.h"
;  6.001      /* Copyright (c) 1992-1993 SAS Institute, Inc., Cary, NC USA */
;  6.002      /* All Rights Reserved */
;  6.003
;  6.004
;  6.005   0  #ifndef _STDLIB_H
;  6.006   0  #define _STDLIB_H 1
;  6.007
;  6.008   0  #ifndef _COMMSIZE_H
;  6.009   0  #include <sys/commsize.h>
;  6.010   0  #endif
;  6.011
;  6.012   0  #ifndef _COMMCHAR_H
;  6.013   0  #include <sys/commchar.h>
;===> Including file "sc:include/sys/commchar.h"
;  7.001      /* Copyright (c) 1993 SAS Institute, Inc., Cary, NC USA */

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 11


;Line#  Block                                  Source
;  7.002      /* All Rights Reserved */
;  7.003
;  7.004      /* This header file contains common preprocessor symbol   */
;  7.005      /* definitions that were previously duplicated throughout */
;  7.006      /* the header files. Those definitions were moved here    */
;  7.007      /* and replaced with a #include of this header file.      */
;  7.008      /* This was done to purify the header files for GST       */
;  7.009      /* processing.                                            */
;  7.010
;  7.011   0  #ifndef _WCHAR_T
;  7.012   0  #define _WCHAR_T 1
;  7.013   0  typedef char wchar_t;
;  7.014   0  #endif
;  6.014   0  #endif
;  6.015
;  6.016   0  #ifndef _COMMNULL_H
;  6.017   0  #include <sys/commnull.h>
;  6.018   0  #endif
;  6.019
;  6.020   0  typedef struct {
;  6.021   0              int quot;
;  6.022   0              int rem;
;  6.023   0          } div_t;
;  6.024
;  6.025   0  typedef struct {
;  6.026   0              long int quot;
;  6.027   0              long int rem;
;  6.028   0          } ldiv_t;
;  6.029
;  6.030   0  #define EXIT_SUCCESS 0
;  6.031   0  #define EXIT_FAILURE 20
;  6.032
;  6.033   0  #ifdef _SHORTINT
;  6.034      #define RAND_MAX   32767
;  6.035      #else
;  6.036   0  #define RAND_MAX   2147483647
;  6.037   0  #endif
;  6.038
;  6.039   0  #define MB_CUR_MAX  __mb_cur_max
;  6.040   0  extern char __mb_cur_max;
;  6.041
;  6.042   0  extern double atof(const char *);
;  6.043   0  extern int atoi(const char *);
;  6.044   0  extern long int atol(const char *);
;  6.045
;  6.046   0  extern double strtod(const char *, char **);
;  6.047   0  extern long int strtol(const char *, char **, int);
;  6.048   0  extern unsigned long int strtoul(const char *, char **, int);
;  6.049
;  6.050

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 12


;Line#  Block                                  Source
;  6.051   0  extern int rand(void);
;  6.052   0  extern void srand(unsigned int);
;  6.053
;  6.054
;  6.055      /***
;  6.056      *
;  6.057      *     ANSI memory management functions
;  6.058      *
;  6.059      ***/
;  6.060
;  6.061   0  extern void *calloc(size_t, size_t);
;  6.062   0  extern void free(void *);
;  6.063   0  extern void *malloc(size_t);
;  6.064   0  extern void *realloc(void *, size_t);
;  6.065
;  6.066   0  #ifndef _STRICT_ANSI
;  6.067   0  extern void *halloc(unsigned long);              /*  Extension  */
;  6.068   0  extern void *__halloc(unsigned long);            /*  Extension  */
;  6.069   0  #endif /* _STRICT_ANSI */
;  6.070
;  6.071
;  6.072      /***
;  6.073      *
;  6.074      *     ANSI environment functions
;  6.075      *
;  6.076      ***/
;  6.077
;  6.078   0  extern void abort(void);
;  6.079   0  extern int atexit(void (*)(void));
;  6.080   0  extern void exit(int);
;  6.081   0  extern char *__getenv(const char *);
;  6.082   0  extern char *getenv(const char *);
;  6.083   0  #define getenv __getenv
;  6.084   0  extern int system(const char *);
;  6.085
;  6.086
;  6.087      /***
;  6.088      *
;  6.089      *     ANSI searching and sorting functions
;  6.090      *
;  6.091      ***/
;  6.092
;  6.093   0  extern void *bsearch(const void *, const void *, size_t, size_t,
;  6.094   0                       int (*)(const void *, const void *));
;  6.095   0  extern void qsort(void *, size_t, size_t, int (*)(const void *, const void *));
;  6.096
;  6.097
;  6.098      /***
;  6.099      *
;  6.100      *     ANSI integer arithmetic functions

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 13


;Line#  Block                                  Source
;  6.101      *
;  6.102      ***/
;  6.103   0  #ifndef __cplusplus
;  6.104   0  extern int abs(int);
;  6.105   0  #endif
;  6.106   0  extern div_t div(int, int);
;  6.107   0  extern long int labs(long int);
;  6.108   0  extern ldiv_t ldiv(long int, long int);
;  6.109
;  6.110
;  6.111      /***
;  6.112      *
;  6.113      *     ANSI multibyte character functions
;  6.114      *
;  6.115      ***/
;  6.116
;  6.117   0  extern int mblen(const char *, size_t);
;  6.118   0  extern int mbtowc(wchar_t *, const char *, size_t);
;  6.119   0  extern int wctomb(char *, wchar_t);
;  6.120   0  extern size_t mbstowcs(wchar_t *, const char *, size_t);
;  6.121   0  extern size_t wcstombs(char *, const wchar_t *, size_t);
;  6.122
;  6.123
;  6.124   0  #ifndef _STRICT_ANSI
;  6.125   0  #ifndef __cplusplus
;  6.126   0  #ifndef abs
;  6.127   0  #define abs(i)   ((i) < 0 ? -(i) : (i))
;  6.128   0  #endif
;  6.129   0  #endif
;  6.130
;  6.131   0  #ifndef labs
;  6.132   0  #define labs(i)  ((i) < 0 ? -(i) : (i))
;  6.133   0  #endif
;  6.134
;  6.135      /***
;  6.136      *
;  6.137      *     SAS Level 2 memory allocation functions
;  6.138      *
;  6.139      ***/
;  6.140
;  6.141   0  extern void *getmem(unsigned int);
;  6.142   0  extern void *getml(long);
;  6.143   0  extern void rlsmem(void *, unsigned int);
;  6.144   0  extern void rlsml(void *, long);
;  6.145   0  extern int bldmem(int);
;  6.146   0  extern long sizmem(void);
;  6.147   0  extern long chkml(void);
;  6.148   0  extern void rstmem(void);
;  6.149
;  6.150

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 14


;Line#  Block                                  Source
;  6.151      /***
;  6.152      *
;  6.153      *     SAS Level 1 memory allocation functions
;  6.154      *
;  6.155      ***/
;  6.156
;  6.157   0  extern void *sbrk(unsigned int);
;  6.158   0  extern void *lsbrk(long);
;  6.159   0  extern int rbrk(void);
;  6.160   0  extern void __stdargs _MemCleanup(void);
;  6.161
;  6.162   0  extern unsigned long _MemType;
;  6.163   0  extern void *_MemHeap;
;  6.164   0  extern unsigned long _MSTEP;
;  6.165
;  6.166
;  6.167      /**
;  6.168      *
;  6.169      * SAS Sort functions
;  6.170      *
;  6.171      */
;  6.172
;  6.173   0  extern void dqsort(double *, size_t);
;  6.174   0  extern void fqsort(float *, size_t);
;  6.175   0  extern void lqsort(long *, size_t);
;  6.176   0  extern void sqsort(short *, size_t);
;  6.177   0  extern void tqsort(char **, size_t);
;  6.178
;  6.179
;  6.180      /***
;  6.181      *
;  6.182      *     SAS startup, exit and environment functions.
;  6.183      *
;  6.184      ***/
;  6.185
;  6.186   0  extern void __exit(int);
;  6.187   0  extern void __stdargs __main(char *);
;  6.188   0  extern void __stdargs __tinymain(char *);
;  6.189   0  extern void __stdargs _XCEXIT(long);
;  6.190   0  extern char *argopt(int, char**, char *, int *, char *);
;  6.191   0  extern int iabs(int);
;  6.192   0  extern int onexit(void (*)(void));
;  6.193   0  extern int putenv(const char *);
;  6.194
;  6.195   0  #define XCEXIT _XCEXIT                   /* compatibility with v5.0 */
;  6.196   0  #define _main __main
;  6.197   0  #define _exit __exit
;  6.198
;  6.199   0  #ifndef _COMMWBEN_H
;  6.200   0  #include <sys/commwben.h>

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 15


;Line#  Block                                  Source
;===> Including file "sc:include/sys/commwben.h"
;  8.001      /* Copyright (c) 1993 SAS Institute, Inc., Cary, NC USA */
;  8.002      /* All Rights Reserved */
;  8.003
;  8.004      /* This header file contains common preprocessor symbol   */
;  8.005      /* definitions that were previously duplicated throughout */
;  8.006      /* the header files. Those definitions were moved here    */
;  8.007      /* and replaced with a #include of this header file.      */
;  8.008      /* This was done to purify the header files for GST       */
;  8.009      /* processing.                                            */
;  8.010
;  8.011   0  #ifndef WBenchMsg
;  8.013   0  extern struct WBStartup *_WBenchMsg;  /* WorkBench startup, if the */
;  8.014   0  #define WBenchMsg _WBenchMsg          /* program was started from  */
;  8.016   0  #endif
;  8.017
;  8.018      /* The following two externs give you the information in the   */
;  8.019      /* WBStartup structure parsed out to look like an (argc, argv) */
;  8.020      /* pair.  Don't define them in your code;  just include this   */
;  8.021      /* file and use them.  If the program was not run from         */
;  8.022      /* WorkBench, _WBArgc will be zero.                            */
;  8.023
;  8.024   0  extern int _WBArgc;    /* Count of the number of WorkBench arguments */
;  8.025   0  extern char **_WBArgv; /* The actual arguments                       */
;  6.201   0  #endif
;  6.202
;  6.203   0  #endif /* _STRICT_ANSI */
;  6.204
;  6.205   0  #endif
; 14       0  #include <proto/exec.h>
;===> Including file "sc:include/proto/exec.h"
;  9.001   0  #ifndef  PROTO_EXEC_H
;  9.002   0  #define  PROTO_EXEC_H
;  9.003
;  9.004   0  #include <exec/types.h>
;===> Including file "sc:include/exec/types.h"
; 10.001   0  #ifndef	EXEC_TYPES_H
; 10.002   0  #define	EXEC_TYPES_H
; 10.003      /*
; 10.004      **	$VER: types.h 40.1 (10.8.93)
; 10.005      **	Includes Release 40.13
; 10.006      **
; 10.007      **	Data typing.  Must be included before any other Amiga include.
; 10.008      **
; 10.009      **	(C) Copyright 1985-1993 Commodore-Amiga, Inc.
; 10.010      **	    All Rights Reserved
; 10.011      */
; 10.012
; 10.013
; 10.014   0  #define INCLUDE_VERSION	40 /* Version of the include files in use. (Do not

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 16


;Line#  Block                                  Source
; 10.015   0  			      use this label for OpenLibrary() calls!) */
; 10.016
; 10.017
; 10.018   0  #define GLOBAL	extern	    /* the declaratory use of an external */
; 10.019   0  #define IMPORT	extern	    /* reference to an external */
; 10.020   0  #define STATIC	static	    /* a local static variable */
; 10.021   0  #define REGISTER register   /* a (hopefully) register variable */
; 10.022
; 10.023
; 10.024   0  #ifndef VOID
; 10.025   0  #define VOID		void
; 10.026   0  #endif
; 10.027
; 10.028
; 10.029        /*  WARNING: APTR was redefined for the V36 Includes!  APTR is a   */
; 10.030       /*  32-Bit Absolute Memory Pointer.  C pointer math will not	    */
; 10.031      /*  operate on APTR --	use "ULONG *" instead.			   */
; 10.032   0  #ifndef APTR_TYPEDEF
; 10.033   0  #define APTR_TYPEDEF
; 10.034   0  typedef void	       *APTR;	    /* 32-bit untyped pointer */
; 10.035   0  #endif
; 10.036   0  typedef long		LONG;	    /* signed 32-bit quantity */
; 10.037   0  typedef unsigned long	ULONG;	    /* unsigned 32-bit quantity */
; 10.038   0  typedef unsigned long	LONGBITS;   /* 32 bits manipulated individually */
; 10.039   0  typedef short		WORD;	    /* signed 16-bit quantity */
; 10.040   0  typedef unsigned short	UWORD;	    /* unsigned 16-bit quantity */
; 10.041   0  typedef unsigned short	WORDBITS;   /* 16 bits manipulated individually */
; 10.042   0  #if __STDC__
; 10.043   0  typedef signed char	BYTE;	    /* signed 8-bit quantity */
; 10.044   0  #else
; 10.045      typedef char		BYTE;	    /* signed 8-bit quantity */
; 10.046      #endif
; 10.047   0  typedef unsigned char	UBYTE;	    /* unsigned 8-bit quantity */
; 10.048   0  typedef unsigned char	BYTEBITS;   /* 8 bits manipulated individually */
; 10.049   0  typedef unsigned short	RPTR;	    /* signed relative pointer */
; 10.050
; 10.051   0  #ifdef __cplusplus
; 10.052      typedef char	       *STRPTR;     /* string pointer (NULL terminated) */
; 10.053      #else
; 10.054   0  typedef unsigned char  *STRPTR;     /* string pointer (NULL terminated) */
; 10.055   0  #endif
; 10.056
; 10.057
; 10.058      /* For compatibility only: (don't use in new code) */
; 10.059   0  typedef short		SHORT;	    /* signed 16-bit quantity (use WORD) */
; 10.060   0  typedef unsigned short	USHORT;     /* unsigned 16-bit quantity (use UWORD) */
; 10.061   0  typedef short		COUNT;
; 10.062   0  typedef unsigned short	UCOUNT;
; 10.063   0  typedef ULONG		CPTR;
; 10.064

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 17


;Line#  Block                                  Source
; 10.065
; 10.066      /* Types with specific semantics */
; 10.067   0  typedef float		FLOAT;
; 10.068   0  typedef double		DOUBLE;
; 10.069   0  typedef short		BOOL;
; 10.070   0  typedef unsigned char	TEXT;
; 10.071
; 10.072   0  #ifndef TRUE
; 10.073   0  #define TRUE		1
; 10.074   0  #endif
; 10.075   0  #ifndef FALSE
; 10.076   0  #define FALSE		0
; 10.077   0  #endif
; 10.078
; 10.079   0  #include <sys/commnull.h>
; 10.080
; 10.081
; 10.082   0  #define BYTEMASK	0xFF
; 10.083
; 10.084
; 10.085       /* #define LIBRARY_VERSION is now obsolete.  Please use LIBRARY_MINIMUM */
; 10.086      /* or code the specific minimum library version you require.		*/
; 10.087   0  #define LIBRARY_MINIMUM	33 /* Lowest version supported by Commodore-Amiga */
; 10.088
; 10.089
; 10.090   0  #endif	/* EXEC_TYPES_H */
;  9.005   0  #include <clib/exec_protos.h>
;===> Including file "sc:include/clib/exec_protos.h"
; 11.001   0  #ifndef  CLIB_EXEC_PROTOS_H
; 11.002   0  #define  CLIB_EXEC_PROTOS_H
; 11.003
; 11.004      /*
; 11.005      **	$VER: exec_protos.h 39.14 (15.2.93)
; 11.006      **	Includes Release 40.13
; 11.007      **
; 11.008      **	C prototypes. For use with 32 bit integers only.
; 11.009      **
; 11.010      **	(C) Copyright 1990-1993 Commodore-Amiga, Inc.
; 11.011      **	    All Rights Reserved
; 11.012      */
; 11.013
; 11.014   0  #ifndef  EXEC_TYPES_H
; 11.015      #include <exec/types.h>
; 11.016      #endif
; 11.017   0  #ifndef  EXEC_TASKS_H
; 11.018   0  #include <exec/tasks.h>
;===> Including file "sc:include/exec/tasks.h"
; 12.001   0  #ifndef	EXEC_TASKS_H
; 12.002   0  #define	EXEC_TASKS_H
; 12.003      /*

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 18


;Line#  Block                                  Source
; 12.004      **	$VER: tasks.h 39.3 (18.9.92)
; 12.005      **	Includes Release 40.13
; 12.006      **
; 12.007      **	Task Control Block, Singals, and Task flags.
; 12.008      **
; 12.009      **	(C) Copyright 1985-1993 Commodore-Amiga, Inc.
; 12.010      **	    All Rights Reserved
; 12.011      */
; 12.012
; 12.013   0  #ifndef EXEC_NODES_H
; 12.014   0  #include "exec/nodes.h"
;===> Including file "sc:include/exec/nodes.h"
; 13.001   0  #ifndef	EXEC_NODES_H
; 13.002   0  #define	EXEC_NODES_H
; 13.003      /*
; 13.004      **	$VER: nodes.h 39.0 (15.10.91)
; 13.005      **	Includes Release 40.13
; 13.006      **
; 13.007      **	Nodes & Node type identifiers.
; 13.008      **
; 13.009      **	(C) Copyright 1985-1993 Commodore-Amiga, Inc.
; 13.010      **	    All Rights Reserved
; 13.011      */
; 13.012
; 13.013   0  #ifndef EXEC_TYPES_H
; 13.014      #include "exec/types.h"
; 13.015      #endif /* EXEC_TYPES_H */
; 13.016
; 13.017
; 13.018      /*
; 13.019       *  List Node Structure.  Each member in a list starts with a Node
; 13.020       */
; 13.021
; 13.022   0  struct Node {
; 13.023   0      struct  Node *ln_Succ;	/* Pointer to next (successor) */
; 13.024   0      struct  Node *ln_Pred;	/* Pointer to previous (predecessor) */
; 13.025   0      UBYTE   ln_Type;
; 13.026   0      BYTE    ln_Pri;		/* Priority, for sorting */
; 13.027   0      char    *ln_Name;		/* ID string, null terminated */
; 13.028   0  };	/* Note: word aligned */
; 13.029
; 13.030      /* minimal node -- no type checking possible */
; 13.031   0  struct MinNode {
; 13.032   0      struct MinNode *mln_Succ;
; 13.033   0      struct MinNode *mln_Pred;
; 13.034   0  };
; 13.035
; 13.036
; 13.037      /*
; 13.038      ** Note: Newly initialized IORequests, and software interrupt structures

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 19


;Line#  Block                                  Source
; 13.039      ** used with Cause(), should have type NT_UNKNOWN.  The OS will assign a type
; 13.040      ** when they are first used.
; 13.041      */
; 13.042      /*----- Node Types for LN_TYPE -----*/
; 13.043   0  #define NT_UNKNOWN	0
; 13.044   0  #define NT_TASK		1	/* Exec task */
; 13.045   0  #define NT_INTERRUPT	2
; 13.046   0  #define NT_DEVICE	3
; 13.047   0  #define NT_MSGPORT	4
; 13.048   0  #define NT_MESSAGE	5	/* Indicates message currently pending */
; 13.049   0  #define NT_FREEMSG	6
; 13.050   0  #define NT_REPLYMSG	7	/* Message has been replied */
; 13.051   0  #define NT_RESOURCE	8
; 13.052   0  #define NT_LIBRARY	9
; 13.053   0  #define NT_MEMORY	10
; 13.054   0  #define NT_SOFTINT	11	/* Internal flag used by SoftInits */
; 13.055   0  #define NT_FONT		12
; 13.056   0  #define NT_PROCESS	13	/* AmigaDOS Process */
; 13.057   0  #define NT_SEMAPHORE	14
; 13.058   0  #define NT_SIGNALSEM	15	/* signal semaphores */
; 13.059   0  #define NT_BOOTNODE	16
; 13.060   0  #define NT_KICKMEM	17
; 13.061   0  #define NT_GRAPHICS	18
; 13.062   0  #define NT_DEATHMESSAGE	19
; 13.063
; 13.064   0  #define NT_USER		254	/* User node types work down from here */
; 13.065   0  #define NT_EXTENDED	255
; 13.066
; 13.067   0  #endif	/* EXEC_NODES_H */
; 12.015   0  #endif /* EXEC_NODES_H */
; 12.016
; 12.017   0  #ifndef EXEC_LISTS_H
; 12.018   0  #include "exec/lists.h"
;===> Including file "sc:include/exec/lists.h"
; 14.001   0  #ifndef EXEC_LISTS_H
; 14.002   0  #define EXEC_LISTS_H
; 14.003      /*
; 14.004      **	$VER: lists.h 39.0 (15.10.91)
; 14.005      **	Includes Release 40.13
; 14.006      **
; 14.007      **	Definitions and macros for use with Exec lists
; 14.008      **
; 14.009      **	(C) Copyright 1985-1993 Commodore-Amiga, Inc.
; 14.010      **	    All Rights Reserved
; 14.011      */
; 14.012
; 14.013   0  #ifndef EXEC_NODES_H
; 14.014      #include "exec/nodes.h"
; 14.015      #endif /* EXEC_NODES_H */
; 14.016

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 20


;Line#  Block                                  Source
; 14.017      /*
; 14.018       *  Full featured list header.
; 14.019       */
; 14.020   0  struct List {
; 14.021   0     struct  Node *lh_Head;
; 14.022   0     struct  Node *lh_Tail;
; 14.023   0     struct  Node *lh_TailPred;
; 14.024   0     UBYTE   lh_Type;
; 14.025   0     UBYTE   l_pad;
; 14.026   0  };	/* word aligned */
; 14.027
; 14.028      /*
; 14.029       * Minimal List Header - no type checking
; 14.030       */
; 14.031   0  struct MinList {
; 14.032   0     struct  MinNode *mlh_Head;
; 14.033   0     struct  MinNode *mlh_Tail;
; 14.034   0     struct  MinNode *mlh_TailPred;
; 14.035   0  };	/* longword aligned */
; 14.036
; 14.037
; 14.038      /*
; 14.039       *	Check for the presence of any nodes on the given list.	These
; 14.040       *	macros are even safe to use on lists that are modified by other
; 14.041       *	tasks.	However; if something is simultaneously changing the
; 14.042       *	list, the result of the test is unpredictable.
; 14.043       *
; 14.044       *	Unless you first arbitrated for ownership of the list, you can't
; 14.045       *	_depend_ on the contents of the list.  Nodes might have been added
; 14.046       *	or removed during or after the macro executes.
; 14.047       *
; 14.048       *		if( IsListEmpty(list) )		printf("List is empty\n");
; 14.049       */
; 14.051   0  	( ((x)->lh_TailPred) == (struct Node *)(x) )
; 14.052
; 14.054   0  	( ((x)->mp_MsgList.lh_TailPred) == (struct Node *)(&(x)->mp_MsgList) )
; 14.055
; 14.056
; 14.057   0  #endif	/* EXEC_LISTS_H */
; 12.019   0  #endif /* EXEC_LISTS_H */
; 12.020
; 12.021
; 12.022      /* Please use Exec functions to modify task structure fields, where available.
; 12.023       */
; 12.024   0  struct Task {
; 12.025   0      struct  Node tc_Node;
; 12.026   0      UBYTE   tc_Flags;
; 12.027   0      UBYTE   tc_State;
; 12.028   0      BYTE    tc_IDNestCnt;	    /* intr disabled nesting*/
; 12.029   0      BYTE    tc_TDNestCnt;	    /* task disabled nesting*/

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 21


;Line#  Block                                  Source
; 12.030   0      ULONG   tc_SigAlloc;	    /* sigs allocated */
; 12.031   0      ULONG   tc_SigWait;	    /* sigs we are waiting for */
; 12.032   0      ULONG   tc_SigRecvd;	    /* sigs we have received */
; 12.033   0      ULONG   tc_SigExcept;	    /* sigs we will take excepts for */
; 12.034   0      UWORD   tc_TrapAlloc;	    /* traps allocated */
; 12.035   0      UWORD   tc_TrapAble;	    /* traps enabled */
; 12.036   0      APTR    tc_ExceptData;	    /* points to except data */
; 12.037   0      APTR    tc_ExceptCode;	    /* points to except code */
; 12.038   0      APTR    tc_TrapData;	    /* points to trap data */
; 12.039   0      APTR    tc_TrapCode;	    /* points to trap code */
; 12.040   0      APTR    tc_SPReg;		    /* stack pointer	    */
; 12.041   0      APTR    tc_SPLower;	    /* stack lower bound    */
; 12.042   0      APTR    tc_SPUpper;	    /* stack upper bound + 2*/
; 12.043   0      VOID    (*tc_Switch)();	    /* task losing CPU	  */
; 12.044   0      VOID    (*tc_Launch)();	    /* task getting CPU  */
; 12.045   0      struct  List tc_MemEntry;	    /* Allocated memory. Freed by RemTask() */
; 12.046   0      APTR    tc_UserData;	    /* For use by the task; no restrictions! */
; 12.047   0  };
; 12.048
; 12.049      /*
; 12.050       * Stack swap structure as passed to StackSwap()
; 12.051       */
; 12.052   0  struct	StackSwapStruct {
; 12.053   0  	APTR	stk_Lower;	/* Lowest byte of stack */
; 12.054   0  	ULONG	stk_Upper;	/* Upper end of stack (size + Lowest) */
; 12.055   0  	APTR	stk_Pointer;	/* Stack pointer at switch point */
; 12.056   0  };
; 12.057
; 12.058      /*----- Flag Bits ------------------------------------------*/
; 12.059   0  #define TB_PROCTIME	0
; 12.060   0  #define TB_ETASK	3
; 12.061   0  #define TB_STACKCHK	4
; 12.062   0  #define TB_EXCEPT	5
; 12.063   0  #define TB_SWITCH	6
; 12.064   0  #define TB_LAUNCH	7
; 12.065
; 12.066   0  #define TF_PROCTIME	(1L<<0)
; 12.067   0  #define TF_ETASK	(1L<<3)
; 12.068   0  #define TF_STACKCHK	(1L<<4)
; 12.069   0  #define TF_EXCEPT	(1L<<5)
; 12.070   0  #define TF_SWITCH	(1L<<6)
; 12.071   0  #define TF_LAUNCH	(1L<<7)
; 12.072
; 12.073      /*----- Task States ----------------------------------------*/
; 12.074   0  #define TS_INVALID	0
; 12.075   0  #define TS_ADDED	1
; 12.076   0  #define TS_RUN		2
; 12.077   0  #define TS_READY	3
; 12.078   0  #define TS_WAIT	4
; 12.079   0  #define TS_EXCEPT	5

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 22


;Line#  Block                                  Source
; 12.080   0  #define TS_REMOVED	6
; 12.081
; 12.082      /*----- Predefined Signals -------------------------------------*/
; 12.083   0  #define SIGB_ABORT	0
; 12.084   0  #define SIGB_CHILD	1
; 12.085   0  #define SIGB_BLIT	4	/* Note: same as SINGLE */
; 12.086   0  #define SIGB_SINGLE	4	/* Note: same as BLIT */
; 12.087   0  #define SIGB_INTUITION	5
; 12.088   0  #define	SIGB_NET	7
; 12.089   0  #define SIGB_DOS	8
; 12.090
; 12.091   0  #define SIGF_ABORT	(1L<<0)
; 12.092   0  #define SIGF_CHILD	(1L<<1)
; 12.093   0  #define SIGF_BLIT	(1L<<4)
; 12.094   0  #define SIGF_SINGLE	(1L<<4)
; 12.095   0  #define SIGF_INTUITION	(1L<<5)
; 12.096   0  #define	SIGF_NET	(1L<<7)
; 12.097   0  #define SIGF_DOS	(1L<<8)
; 12.098
; 12.099   0  #endif	/* EXEC_TASKS_H */
; 11.019   0  #endif
; 11.020      /*------ misc ---------------------------------------------------------*/
; 11.021   0  ULONG Supervisor( unsigned long (*userFunction)() );
; 11.022      /*------ special patchable hooks to internal exec activity ------------*/
; 11.023      /*------ module creation ----------------------------------------------*/
; 11.024   0  void InitCode( unsigned long startClass, unsigned long version );
; 11.025   0  void InitStruct( APTR initTable, APTR memory, unsigned long size );
; 11.026   0  struct Library *MakeLibrary( APTR funcInit, APTR structInit,
; 11.027   0  	unsigned long (*libInit)(), unsigned long dataSize,
; 11.028   0  	unsigned long segList );
; 11.029   0  void MakeFunctions( APTR target, APTR functionArray,
; 11.030   0  	unsigned long funcDispBase );
; 11.031   0  struct Resident *FindResident( UBYTE *name );
; 11.032   0  APTR InitResident( struct Resident *resident, unsigned long segList );
; 11.033      /*------ diagnostics --------------------------------------------------*/
; 11.034   0  void Alert( unsigned long alertNum );
; 11.035   0  void Debug( unsigned long flags );
; 11.036      /*------ interrupts ---------------------------------------------------*/
; 11.037   0  void Disable( void );
; 11.038   0  void Enable( void );
; 11.039   0  void Forbid( void );
; 11.040   0  void Permit( void );
; 11.041   0  ULONG SetSR( unsigned long newSR, unsigned long mask );
; 11.042   0  APTR SuperState( void );
; 11.043   0  void UserState( APTR sysStack );
; 11.044   0  struct Interrupt *SetIntVector( long intNumber, struct Interrupt *interrupt );
; 11.045   0  void AddIntServer( long intNumber, struct Interrupt *interrupt );
; 11.046   0  void RemIntServer( long intNumber, struct Interrupt *interrupt );
; 11.047   0  void Cause( struct Interrupt *interrupt );
; 11.048      /*------ memory allocation --------------------------------------------*/

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 23


;Line#  Block                                  Source
; 11.049   0  APTR Allocate( struct MemHeader *freeList, unsigned long byteSize );
; 11.050   0  void Deallocate( struct MemHeader *freeList, APTR memoryBlock,
; 11.051   0  	unsigned long byteSize );
; 11.052   0  APTR AllocMem( unsigned long byteSize, unsigned long requirements );
; 11.053   0  APTR AllocAbs( unsigned long byteSize, APTR location );
; 11.054   0  void FreeMem( APTR memoryBlock, unsigned long byteSize );
; 11.055   0  ULONG AvailMem( unsigned long requirements );
; 11.056   0  struct MemList *AllocEntry( struct MemList *entry );
; 11.057   0  void FreeEntry( struct MemList *entry );
; 11.058      /*------ lists --------------------------------------------------------*/
; 11.059   0  void Insert( struct List *list, struct Node *node, struct Node *pred );
; 11.060   0  void AddHead( struct List *list, struct Node *node );
; 11.061   0  void AddTail( struct List *list, struct Node *node );
; 11.062   0  void Remove( struct Node *node );
; 11.063   0  struct Node *RemHead( struct List *list );
; 11.064   0  struct Node *RemTail( struct List *list );
; 11.065   0  void Enqueue( struct List *list, struct Node *node );
; 11.066   0  struct Node *FindName( struct List *list, UBYTE *name );
; 11.067      /*------ tasks --------------------------------------------------------*/
; 11.068   0  APTR AddTask( struct Task *task, APTR initPC, APTR finalPC );
; 11.069   0  void RemTask( struct Task *task );
; 11.070   0  struct Task *FindTask( UBYTE *name );
; 11.071   0  BYTE SetTaskPri( struct Task *task, long priority );
; 11.072   0  ULONG SetSignal( unsigned long newSignals, unsigned long signalSet );
; 11.073   0  ULONG SetExcept( unsigned long newSignals, unsigned long signalSet );
; 11.074   0  ULONG Wait( unsigned long signalSet );
; 11.075   0  void Signal( struct Task *task, unsigned long signalSet );
; 11.076   0  BYTE AllocSignal( long signalNum );
; 11.077   0  void FreeSignal( long signalNum );
; 11.078   0  LONG AllocTrap( long trapNum );
; 11.079   0  void FreeTrap( long trapNum );
; 11.080      /*------ messages -----------------------------------------------------*/
; 11.081   0  void AddPort( struct MsgPort *port );
; 11.082   0  void RemPort( struct MsgPort *port );
; 11.083   0  void PutMsg( struct MsgPort *port, struct Message *message );
; 11.084   0  struct Message *GetMsg( struct MsgPort *port );
; 11.085   0  void ReplyMsg( struct Message *message );
; 11.086   0  struct Message *WaitPort( struct MsgPort *port );
; 11.087   0  struct MsgPort *FindPort( UBYTE *name );
; 11.088      /*------ libraries ----------------------------------------------------*/
; 11.089   0  void AddLibrary( struct Library *library );
; 11.090   0  void RemLibrary( struct Library *library );
; 11.091   0  struct Library *OldOpenLibrary( UBYTE *libName );
; 11.092   0  void CloseLibrary( struct Library *library );
; 11.093   0  APTR SetFunction( struct Library *library, long funcOffset,
; 11.094   0  	unsigned long (*newFunction)() );
; 11.095   0  void SumLibrary( struct Library *library );
; 11.096      /*------ devices ------------------------------------------------------*/
; 11.097   0  void AddDevice( struct Device *device );
; 11.098   0  void RemDevice( struct Device *device );

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 24


;Line#  Block                                  Source
; 11.099   0  BYTE OpenDevice( UBYTE *devName, unsigned long unit,
; 11.100   0  	struct IORequest *ioRequest, unsigned long flags );
; 11.101   0  void CloseDevice( struct IORequest *ioRequest );
; 11.102   0  BYTE DoIO( struct IORequest *ioRequest );
; 11.103   0  void SendIO( struct IORequest *ioRequest );
; 11.104   0  struct IORequest *CheckIO( struct IORequest *ioRequest );
; 11.105   0  BYTE WaitIO( struct IORequest *ioRequest );
; 11.106   0  void AbortIO( struct IORequest *ioRequest );
; 11.107      /*------ resources ----------------------------------------------------*/
; 11.108   0  void AddResource( APTR resource );
; 11.109   0  void RemResource( APTR resource );
; 11.110   0  APTR OpenResource( UBYTE *resName );
; 11.111      /*------ private diagnostic support -----------------------------------*/
; 11.112      /*------ misc ---------------------------------------------------------*/
; 11.113   0  APTR RawDoFmt( UBYTE *formatString, APTR dataStream, void (*putChProc)(),
; 11.114   0  	APTR putChData );
; 11.115   0  ULONG GetCC( void );
; 11.116   0  ULONG TypeOfMem( APTR address );
; 11.117   0  ULONG Procure( struct SignalSemaphore *sigSem,
; 11.118   0  	struct SemaphoreMessage *bidMsg );
; 11.119   0  void Vacate( struct SignalSemaphore *sigSem,
; 11.120   0  	struct SemaphoreMessage *bidMsg );
; 11.121   0  struct Library *OpenLibrary( UBYTE *libName, unsigned long version );
; 11.122      /*--- functions in V33 or higher (Release 1.2) ---*/
; 11.123      /*------ signal semaphores (note funny registers)----------------------*/
; 11.124   0  void InitSemaphore( struct SignalSemaphore *sigSem );
; 11.125   0  void ObtainSemaphore( struct SignalSemaphore *sigSem );
; 11.126   0  void ReleaseSemaphore( struct SignalSemaphore *sigSem );
; 11.127   0  ULONG AttemptSemaphore( struct SignalSemaphore *sigSem );
; 11.128   0  void ObtainSemaphoreList( struct List *sigSem );
; 11.129   0  void ReleaseSemaphoreList( struct List *sigSem );
; 11.130   0  struct SignalSemaphore *FindSemaphore( UBYTE *sigSem );
; 11.131   0  void AddSemaphore( struct SignalSemaphore *sigSem );
; 11.132   0  void RemSemaphore( struct SignalSemaphore *sigSem );
; 11.133      /*------ kickmem support ----------------------------------------------*/
; 11.134   0  ULONG SumKickData( void );
; 11.135      /*------ more memory support ------------------------------------------*/
; 11.136   0  void AddMemList( unsigned long size, unsigned long attributes, long pri,
; 11.137   0  	APTR base, UBYTE *name );
; 11.138   0  void CopyMem( APTR source, APTR dest, unsigned long size );
; 11.139   0  void CopyMemQuick( APTR source, APTR dest, unsigned long size );
; 11.140      /*------ cache --------------------------------------------------------*/
; 11.141      /*--- functions in V36 or higher (Release 2.0) ---*/
; 11.142   0  void CacheClearU( void );
; 11.143   0  void CacheClearE( APTR address, unsigned long length, unsigned long caches );
; 11.144   0  ULONG CacheControl( unsigned long cacheBits, unsigned long cacheMask );
; 11.145      /*------ misc ---------------------------------------------------------*/
; 11.146   0  APTR CreateIORequest( struct MsgPort *port, unsigned long size );
; 11.147   0  void DeleteIORequest( APTR iorequest );
; 11.148   0  struct MsgPort *CreateMsgPort( void );

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 25


;Line#  Block                                  Source
; 11.149   0  void DeleteMsgPort( struct MsgPort *port );
; 11.150   0  void ObtainSemaphoreShared( struct SignalSemaphore *sigSem );
; 11.151      /*------ even more memory support -------------------------------------*/
; 11.152   0  APTR AllocVec( unsigned long byteSize, unsigned long requirements );
; 11.153   0  void FreeVec( APTR memoryBlock );
; 11.154      /*------ V39 Pool LVOs...*/
; 11.155   0  APTR CreatePool( unsigned long requirements, unsigned long puddleSize,
; 11.156   0  	unsigned long threshSize );
; 11.157   0  void DeletePool( APTR poolHeader );
; 11.158   0  APTR AllocPooled( APTR poolHeader, unsigned long memSize );
; 11.159   0  void FreePooled( APTR poolHeader, APTR memory, unsigned long memSize );
; 11.160      /*------ misc ---------------------------------------------------------*/
; 11.161   0  ULONG AttemptSemaphoreShared( struct SignalSemaphore *sigSem );
; 11.162   0  void ColdReboot( void );
; 11.163   0  void StackSwap( struct StackSwapStruct *newStack );
; 11.164      /*------ task trees ---------------------------------------------------*/
; 11.165   0  void ChildFree( APTR tid );
; 11.166   0  void ChildOrphan( APTR tid );
; 11.167   0  void ChildStatus( APTR tid );
; 11.168   0  void ChildWait( APTR tid );
; 11.169      /*------ future expansion ---------------------------------------------*/
; 11.170   0  APTR CachePreDMA( APTR address, ULONG *length, unsigned long flags );
; 11.171   0  void CachePostDMA( APTR address, ULONG *length, unsigned long flags );
; 11.172      /*------ New, for V39*/
; 11.173      /*--- functions in V39 or higher (Release 3) ---*/
; 11.174      /*------ Low memory handler functions*/
; 11.175   0  void AddMemHandler( struct Interrupt *memhand );
; 11.176   0  void RemMemHandler( struct Interrupt *memhand );
; 11.177      /*------ Function to attempt to obtain a Quick Interrupt Vector...*/
; 11.178   0  ULONG ObtainQuickVector( APTR interruptCode );
; 11.179   0  #endif	 /* CLIB_EXEC_PROTOS_H */
;  9.006   0  #if defined(_USEOLDEXEC_) || !defined(__USE_SYSBASE)
;  9.007      #include <pragmas/exec_pragmas.h>
;  9.008      #else
;  9.009   0  extern struct ExecBase *SysBase;
;  9.010   0  #include <pragmas/exec_sysbase_pragmas.h>
;===> Including file "sc:include/pragmas/exec_sysbase_pragmas.h"
; 15.001      /*------ misc ---------------------------------------------------------*/
; 15.003      /*------ special patchable hooks to internal exec activity ------------*/
; 15.004      /*pragma libcall SysBase execPrivate1 24 0*/
; 15.005      /*pragma libcall SysBase execPrivate2 2a 0*/
; 15.006      /*pragma libcall SysBase execPrivate3 30 0*/
; 15.007      /*pragma libcall SysBase execPrivate4 36 0*/
; 15.008      /*pragma libcall SysBase execPrivate5 3c 0*/
; 15.009      /*pragma libcall SysBase execPrivate6 42 0*/
; 15.010      /*------ module creation ----------------------------------------------*/
; 15.017      /*------ diagnostics --------------------------------------------------*/
; 15.020      /*------ interrupts ---------------------------------------------------*/
; 15.032      /*------ memory allocation --------------------------------------------*/
; 15.041      /*------ lists --------------------------------------------------------*/

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 26


;Line#  Block                                  Source
; 15.050      /*------ tasks --------------------------------------------------------*/
; 15.063      /*------ messages -----------------------------------------------------*/
; 15.071      /*------ libraries ----------------------------------------------------*/
; 15.078      /*------ devices ------------------------------------------------------*/
; 15.088      /*------ resources ----------------------------------------------------*/
; 15.092      /*------ private diagnostic support -----------------------------------*/
; 15.093      /*pragma libcall SysBase execPrivate7 1f8 0*/
; 15.094      /*pragma libcall SysBase execPrivate8 1fe 0*/
; 15.095      /*pragma libcall SysBase execPrivate9 204 0*/
; 15.096      /*------ misc ---------------------------------------------------------*/
; 15.103      /*--- functions in V33 or higher (Release 1.2) ---*/
; 15.104      /*------ signal semaphores (note funny registers)----------------------*/
; 15.114      /*------ kickmem support ----------------------------------------------*/
; 15.116      /*------ more memory support ------------------------------------------*/
; 15.120      /*------ cache --------------------------------------------------------*/
; 15.121      /*--- functions in V36 or higher (Release 2.0) ---*/
; 15.125      /*------ misc ---------------------------------------------------------*/
; 15.131      /*------ even more memory support -------------------------------------*/
; 15.134      /*------ V39 Pool LVOs...*/
; 15.139      /*------ misc ---------------------------------------------------------*/
; 15.143      /*------ task trees ---------------------------------------------------*/
; 15.148      /*------ future expansion ---------------------------------------------*/
; 15.151      /*------ New, for V39*/
; 15.152      /*--- functions in V39 or higher (Release 3) ---*/
; 15.153      /*------ Low memory handler functions*/
; 15.156      /*------ Function to attempt to obtain a Quick Interrupt Vector...*/
; 15.158      /*pragma libcall SysBase execPrivate10 318 0*/
; 15.159      /*pragma libcall SysBase execPrivate11 31e 0*/
; 15.160      /*pragma libcall SysBase execPrivate12 324 0*/
; 15.161      /*pragma libcall SysBase execPrivate13 32a 0*/
; 15.162      /*pragma libcall SysBase execPrivate14 330 0*/
; 15.163      /*pragma libcall SysBase execPrivate15 336 0*/
;  9.011   0  #endif
;  9.012
;  9.013      /*------ Common support library functions ---------*/
;  9.014   0  #include <clib/alib_protos.h>
;===> Including file "sc:include/clib/alib_protos.h"
; 16.001   0  #ifndef  CLIB_ALIB_PROTOS_H
; 16.002   0  #define  CLIB_ALIB_PROTOS_H
; 16.003
; 16.004      /*
; 16.005      **	$VER: alib_protos.h 1.5 (25.8.92)
; 16.006      **	Includes Release 40.13
; 16.007      **
; 16.008      **	C prototypes. For use with 32 bit integers only.
; 16.009      **
; 16.010      **	(C) Copyright 1990-1993 Commodore-Amiga, Inc.
; 16.011      **	    All Rights Reserved
; 16.012      */
; 16.013

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 27


;Line#  Block                                  Source
; 16.014   0  #ifndef  EXEC_TYPES_H
; 16.015      #include <exec/types.h>
; 16.016      #endif
; 16.017   0  #ifndef  DEVICES_TIMER_H
; 16.018   0  #include <devices/timer.h>
;===> Including file "sc:include/devices/timer.h"
; 17.001   0  #ifndef DEVICES_TIMER_H
; 17.002   0  #define DEVICES_TIMER_H 1
; 17.003      /*
; 17.004      **	$VER: timer.h 36.16 (25.1.91)
; 17.005      **	Includes Release 40.13
; 17.006      **
; 17.007      **	Timer device name and useful definitions.
; 17.008      **
; 17.009      **	(C) Copyright 1985-1993 Commodore-Amiga Inc.
; 17.010      **		All Rights Reserved
; 17.011      */
; 17.012
; 17.013   0  #include <exec/types.h>
; 17.014   0  #include <exec/io.h>
;===> Including file "sc:include/exec/io.h"
; 18.001   0  #ifndef	EXEC_IO_H
; 18.002   0  #define	EXEC_IO_H
; 18.003      /*
; 18.004      **	$VER: io.h 39.0 (15.10.91)
; 18.005      **	Includes Release 40.13
; 18.006      **
; 18.007      **	Message structures used for device communication
; 18.008      **
; 18.009      **	(C) Copyright 1985-1993 Commodore-Amiga, Inc.
; 18.010      **	    All Rights Reserved
; 18.011      */
; 18.012
; 18.013   0  #ifndef EXEC_PORTS_H
; 18.014   0  #include "exec/ports.h"
;===> Including file "sc:include/exec/ports.h"
; 19.001   0  #ifndef	EXEC_PORTS_H
; 19.002   0  #define	EXEC_PORTS_H
; 19.003      /*
; 19.004      **	$VER: ports.h 39.0 (15.10.91)
; 19.005      **	Includes Release 40.13
; 19.006      **
; 19.007      **	Message ports and Messages.
; 19.008      **
; 19.009      **	(C) Copyright 1985-1993 Commodore-Amiga, Inc.
; 19.010      **	    All Rights Reserved
; 19.011      */
; 19.012
; 19.013   0  #ifndef EXEC_NODES_H
; 19.014      #include "exec/nodes.h"

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 28


;Line#  Block                                  Source
; 19.015      #endif /* EXEC_NODES_H */
; 19.016
; 19.017   0  #ifndef EXEC_LISTS_H
; 19.018      #include "exec/lists.h"
; 19.019      #endif /* EXEC_LISTS_H */
; 19.020
; 19.021   0  #ifndef EXEC_TASKS_H
; 19.022      #include "exec/tasks.h"
; 19.023      #endif /* EXEC_TASKS_H */
; 19.024
; 19.025
; 19.026      /****** MsgPort *****************************************************/
; 19.027
; 19.028   0  struct MsgPort {
; 19.029   0      struct  Node mp_Node;
; 19.030   0      UBYTE   mp_Flags;
; 19.031   0      UBYTE   mp_SigBit;		/* signal bit number	*/
; 19.032   0      void   *mp_SigTask;		/* object to be signalled */
; 19.033   0      struct  List mp_MsgList;	/* message linked list	*/
; 19.034   0  };
; 19.035
; 19.036   0  #define mp_SoftInt mp_SigTask	/* Alias */
; 19.037
; 19.038      /* mp_Flags: Port arrival actions (PutMsg) */
; 19.039   0  #define PF_ACTION	3	/* Mask */
; 19.040   0  #define PA_SIGNAL	0	/* Signal task in mp_SigTask */
; 19.041   0  #define PA_SOFTINT	1	/* Signal SoftInt in mp_SoftInt/mp_SigTask */
; 19.042   0  #define PA_IGNORE	2	/* Ignore arrival */
; 19.043
; 19.044
; 19.045      /****** Message *****************************************************/
; 19.046
; 19.047   0  struct Message {
; 19.048   0      struct  Node mn_Node;
; 19.049   0      struct  MsgPort *mn_ReplyPort;  /* message reply port */
; 19.050   0      UWORD   mn_Length;		    /* total message length, in bytes */
; 19.051      				    /* (include the size of the Message */
; 19.052      				    /* structure in the length) */
; 19.053   0  };
; 19.054
; 19.055   0  #endif	/* EXEC_PORTS_H */
; 18.015   0  #endif /* EXEC_PORTS_H */
; 18.016
; 18.017
; 18.018   0  struct IORequest {
; 18.019   0      struct  Message io_Message;
; 18.020   0      struct  Device  *io_Device;     /* device node pointer  */
; 18.021   0      struct  Unit    *io_Unit;	    /* unit (driver private)*/
; 18.022   0      UWORD   io_Command;	    /* device command */
; 18.023   0      UBYTE   io_Flags;

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 29


;Line#  Block                                  Source
; 18.024   0      BYTE    io_Error;		    /* error or warning num */
; 18.025   0  };
; 18.026
; 18.027   0  struct IOStdReq {
; 18.028   0      struct  Message io_Message;
; 18.029   0      struct  Device  *io_Device;     /* device node pointer  */
; 18.030   0      struct  Unit    *io_Unit;	    /* unit (driver private)*/
; 18.031   0      UWORD   io_Command;	    /* device command */
; 18.032   0      UBYTE   io_Flags;
; 18.033   0      BYTE    io_Error;		    /* error or warning num */
; 18.034   0      ULONG   io_Actual;		    /* actual number of bytes transferred */
; 18.035   0      ULONG   io_Length;		    /* requested number bytes transferred*/
; 18.036   0      APTR    io_Data;		    /* points to data area */
; 18.037   0      ULONG   io_Offset;		    /* offset for block structured devices */
; 18.038   0  };
; 18.039
; 18.040      /* library vector offsets for device reserved vectors */
; 18.041   0  #define DEV_BEGINIO	(-30)
; 18.042   0  #define DEV_ABORTIO	(-36)
; 18.043
; 18.044      /* io_Flags defined bits */
; 18.045   0  #define IOB_QUICK	0
; 18.046   0  #define IOF_QUICK	(1<<0)
; 18.047
; 18.048
; 18.049   0  #define CMD_INVALID	0
; 18.050   0  #define CMD_RESET	1
; 18.051   0  #define CMD_READ	2
; 18.052   0  #define CMD_WRITE	3
; 18.053   0  #define CMD_UPDATE	4
; 18.054   0  #define CMD_CLEAR	5
; 18.055   0  #define CMD_STOP	6
; 18.056   0  #define CMD_START	7
; 18.057   0  #define CMD_FLUSH	8
; 18.058
; 18.059   0  #define CMD_NONSTD	9
; 18.060
; 18.061   0  #endif	/* EXEC_IO_H */
; 17.015
; 17.016      /* unit defintions */
; 17.017   0  #define UNIT_MICROHZ	0
; 17.018   0  #define UNIT_VBLANK	1
; 17.019   0  #define UNIT_ECLOCK	2
; 17.020   0  #define UNIT_WAITUNTIL	3
; 17.021   0  #define	UNIT_WAITECLOCK	4
; 17.022
; 17.023   0  #define TIMERNAME	"timer.device"
; 17.024
; 17.025   0  struct timeval {
; 17.026   0      ULONG tv_secs;

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 30


;Line#  Block                                  Source
; 17.027   0      ULONG tv_micro;
; 17.028   0  };
; 17.029
; 17.030   0  struct EClockVal {
; 17.031   0      ULONG ev_hi;
; 17.032   0      ULONG ev_lo;
; 17.033   0  };
; 17.034
; 17.035   0  struct timerequest {
; 17.036   0      struct IORequest tr_node;
; 17.037   0      struct timeval tr_time;
; 17.038   0  };
; 17.039
; 17.040      /* IO_COMMAND to use for adding a timer */
; 17.041   0  #define TR_ADDREQUEST	CMD_NONSTD
; 17.042   0  #define TR_GETSYSTIME	(CMD_NONSTD+1)
; 17.043   0  #define TR_SETSYSTIME	(CMD_NONSTD+2)
; 17.044
; 17.045   0  #endif /* DEVICES_TIMER_H */
; 16.019   0  #endif
; 16.020   0  #ifndef  DEVICES_KEYMAP_H
; 16.021   0  #include <devices/keymap.h>
;===> Including file "sc:include/devices/keymap.h"
; 20.001   0  #ifndef	DEVICES_KEYMAP_H
; 20.002   0  #define	DEVICES_KEYMAP_H
; 20.003      /*
; 20.004      **	$VER: keymap.h 36.3 (13.4.90)
; 20.005      **	Includes Release 40.13
; 20.006      **
; 20.007      **	key map definitions for keymap.resource, keymap.library, and
; 20.008      **	console.device
; 20.009      **
; 20.010      **	(C) Copyright 1985-1993 Commodore-Amiga, Inc.
; 20.011      **	    All Rights Reserved
; 20.012      */
; 20.013
; 20.014   0  #ifndef EXEC_NODES_H
; 20.015      #include	"exec/nodes.h"
; 20.016      #endif
; 20.017   0  #ifndef EXEC_LISTS_H
; 20.018      #include	"exec/lists.h"
; 20.019      #endif
; 20.020
; 20.021   0  struct	 KeyMap {
; 20.022   0      UBYTE   *km_LoKeyMapTypes;
; 20.023   0      ULONG   *km_LoKeyMap;
; 20.024   0      UBYTE   *km_LoCapsable;
; 20.025   0      UBYTE   *km_LoRepeatable;
; 20.026   0      UBYTE   *km_HiKeyMapTypes;
; 20.027   0      ULONG   *km_HiKeyMap;

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 31


;Line#  Block                                  Source
; 20.028   0      UBYTE   *km_HiCapsable;
; 20.029   0      UBYTE   *km_HiRepeatable;
; 20.030   0  };
; 20.031
; 20.032   0  struct	KeyMapNode {
; 20.033   0      struct Node kn_Node;	/* including name of keymap */
; 20.034   0      struct KeyMap kn_KeyMap;
; 20.035   0  };
; 20.036
; 20.037      /* the structure of keymap.resource */
; 20.038   0  struct	KeyMapResource {
; 20.039   0      struct Node kr_Node;
; 20.040   0      struct List kr_List;	/* a list of KeyMapNodes */
; 20.041   0  };
; 20.042
; 20.043      /* Key Map Types */
; 20.044   0  #define  KC_NOQUAL   0
; 20.045   0  #define  KC_VANILLA  7		/* note that SHIFT+ALT+CTRL is VANILLA */
; 20.046   0  #define  KCB_SHIFT   0
; 20.047   0  #define  KCF_SHIFT   0x01
; 20.048   0  #define  KCB_ALT     1
; 20.049   0  #define  KCF_ALT     0x02
; 20.050   0  #define  KCB_CONTROL 2
; 20.051   0  #define  KCF_CONTROL 0x04
; 20.052   0  #define  KCB_DOWNUP  3
; 20.053   0  #define  KCF_DOWNUP  0x08
; 20.054
; 20.055   0  #define  KCB_DEAD    5		/* may be dead or modified by dead key: */
; 20.056   0  #define  KCF_DEAD    0x20	/*   use dead prefix bytes		*/
; 20.057
; 20.058   0  #define  KCB_STRING  6
; 20.059   0  #define  KCF_STRING  0x40
; 20.060
; 20.061   0  #define  KCB_NOP     7
; 20.062   0  #define  KCF_NOP     0x80
; 20.063
; 20.064
; 20.065      /* Dead Prefix Bytes */
; 20.066   0  #define DPB_MOD	0
; 20.067   0  #define DPF_MOD	0x01
; 20.068   0  #define DPB_DEAD	3
; 20.069   0  #define DPF_DEAD	0x08
; 20.070
; 20.071   0  #define DP_2DINDEXMASK	0x0f	/* mask for index for 1st of two dead keys */
; 20.072   0  #define DP_2DFACSHIFT	4	/* shift for factor for 1st of two dead keys */
; 20.073
; 20.074   0  #endif	/* DEVICES_KEYMAP_H */
; 16.022   0  #endif
; 16.023   0  #ifndef  LIBRARIES_COMMODITIES_H
; 16.024   0  #include <libraries/commodities.h>

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 32


;Line#  Block                                  Source
;===> Including file "sc:include/libraries/commodities.h"
; 21.001   0  #ifndef LIBRARIES_COMMODITIES_H
; 21.002   0  #define LIBRARIES_COMMODITIES_H
; 21.003      /*
; 21.004      **	$VER: commodities.h 38.4 (24.2.93)
; 21.005      **	Includes Release 40.13
; 21.006      **
; 21.007      **	Commodities definitions
; 21.008      **
; 21.009      **	(C) Copyright 1990-1993 Commodore-Amiga Inc.
; 21.010      **	All Rights Reserved
; 21.011      */
; 21.012
; 21.013      /*****************************************************************************/
; 21.014
; 21.015
; 21.016   0  #ifndef EXEC_TYPES_H
; 21.017      #include <exec/types.h>
; 21.018      #endif
; 21.019
; 21.020   0  #ifndef EXEC_PORTS_H
; 21.021      #include <exec/ports.h>
; 21.022      #endif
; 21.023
; 21.024
; 21.025      /*****************************************************************************/
; 21.026
; 21.027
; 21.028      /* object creation macros */
; 21.029   0  #define CxFilter(d)	    CreateCxObj((LONG) CX_FILTER,     (LONG) d,     0)
; 21.030   0  #define CxSender(port,id)   CreateCxObj((LONG) CX_SEND,       (LONG) port,  (LON
;       ..... G) id)
; 21.031   0  #define CxSignal(task,sig)  CreateCxObj((LONG) CX_SIGNAL,     (LONG) task,  (LON
;       ..... G) sig)
; 21.032   0  #define CxTranslate(ie)     CreateCxObj((LONG) CX_TRANSLATE,  (LONG) ie,    0)
; 21.033   0  #define CxDebug(id)	    CreateCxObj((LONG) CX_DEBUG,      (LONG) id,    0)
; 21.034   0  #define CxCustom(action,id) CreateCxObj((LONG) CX_CUSTOM,     (LONG)action, (LON
;       ..... G)id)
; 21.035
; 21.036
; 21.037      /*****************************************************************************/
; 21.038
; 21.039
; 21.040   0  struct NewBroker
; 21.041   0  {
; 21.042   0      BYTE	    nb_Version;   /* Must be set to NB_VERSION */
; 21.043   0      STRPTR	    nb_Name;
; 21.044   0      STRPTR	    nb_Title;
; 21.045   0      STRPTR	    nb_Descr;
; 21.046   0      WORD	    nb_Unique;

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 33


;Line#  Block                                  Source
; 21.047   0      WORD	    nb_Flags;
; 21.048   0      BYTE	    nb_Pri;
; 21.049   0      struct MsgPort *nb_Port;
; 21.050   0      WORD	    nb_ReservedChannel;
; 21.051   0  };
; 21.052
; 21.053      /* constant for NewBroker.nb_Version */
; 21.054   0  #define NB_VERSION 5	    /* Version of NewBroker structure */
; 21.055
; 21.056      /* Sizes for various buffers */
; 21.057   0  #define CBD_NAMELEN  24
; 21.058   0  #define CBD_TITLELEN 40
; 21.059   0  #define CBD_DESCRLEN 40
; 21.060
; 21.061      /* Flags for NewBroker.nb_Unique */
; 21.062   0  #define NBU_DUPLICATE 0
; 21.063   0  #define NBU_UNIQUE    1        /* will not allow duplicates	      */
; 21.064   0  #define NBU_NOTIFY    2        /* sends CXM_UNIQUE to existing broker */
; 21.065
; 21.066      /* Flags for NewBroker.nb_Flags */
; 21.067   0  #define COF_SHOW_HIDE 4
; 21.068
; 21.069
; 21.070      /*****************************************************************************/
; 21.071
; 21.072
; 21.073      /* Fake data types for system private objects */
; 21.074   0  #ifndef COMMODITIES_BASE_H
; 21.075   0  typedef LONG CxObj;
; 21.076   0  typedef LONG CxMsg;
; 21.077   0  #endif
; 21.078
; 21.079      /* Pointer to a function returning a LONG */
; 21.080   0  typedef LONG (*PFL)();
; 21.081
; 21.082
; 21.083      /*****************************************************************************/
; 21.084
; 21.085
; 21.086      /* Commodities object types */
; 21.087   0  #define CX_INVALID	0     /* not a valid object (probably null) */
; 21.088   0  #define CX_FILTER	1     /* input event messages only	    */
; 21.089   0  #define CX_TYPEFILTER	2     /* obsolete, do not use		    */
; 21.090   0  #define CX_SEND	3     /* sends a message		    */
; 21.091   0  #define CX_SIGNAL	4     /* sends a signal		    */
; 21.092   0  #define CX_TRANSLATE	5     /* translates input event into chain  */
; 21.093   0  #define CX_BROKER	6     /* application representative	    */
; 21.094   0  #define CX_DEBUG	7     /* dumps info to serial port	    */
; 21.095   0  #define CX_CUSTOM	8     /* application provides function	    */
; 21.096   0  #define CX_ZERO	9     /* system terminator node	    */

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 34


;Line#  Block                                  Source
; 21.097
; 21.098
; 21.099      /*****************************************************************************/
; 21.100
; 21.101
; 21.102      /* Commodities message types */
; 21.103   0  #define CXM_IEVENT  (1 << 5)
; 21.104   0  #define CXM_COMMAND (1 << 6)
; 21.105
; 21.106      /* Only CXM_IEVENT messages are passed through the input network. Other types
; 21.107       * of messages are sent to an optional port in your broker. This means that
; 21.108       * you must test the message type in your message handling, if input messages
; 21.109       * and command messages come to the same port.
; 21.110       *
; 21.111       * CXM_IEVENT: Messages of this type rattle around the Commodities input
; 21.112       *	       network. They are sent to you by a Sender object, and passed
; 21.113       *	       to you as a synchronous function call by a Custom object.
; 21.114       *
; 21.115       *	       The message port or function entry point is stored in the
; 21.116       *	       object, and the ID field of the message will be set to what
; 21.117       *	       you arrange issuing object.
; 21.118       *
; 21.119       *	       The data section of the message will point to the input event
; 21.120       *	       triggering the message.
; 21.121       *
; 21.122       * CXM_COMMAND: These messages are sent to a port attached to your Broker.
; 21.123       *		They are sent to you when the controller program wants your
; 21.124       *		program to do something. The ID value identifies the command.
; 21.125       */
; 21.126
; 21.127      /* ID values associated with a message of type CXM_COMMAND */
; 21.128   0  #define CXCMD_DISABLE	(15)  /* please disable yourself	 */
; 21.129   0  #define CXCMD_ENABLE	(17)  /* please enable yourself	 */
; 21.130   0  #define CXCMD_APPEAR	(19)  /* open your window, if you can	 */
; 21.131   0  #define CXCMD_DISAPPEAR (21)  /* go dormant			 */
; 21.132   0  #define CXCMD_KILL	(23)  /* go away for good		 */
; 21.133   0  #define CXCMD_LIST_CHG	(27)  /* Someone changed the broker list */
; 21.134   0  #define CXCMD_UNIQUE	(25)  /* someone tried to create a broker
; 21.135   0  			       * with your name. Suggest you appear.
; 21.136   0  			       */
; 21.137
; 21.138
; 21.139      /*****************************************************************************/
; 21.140
; 21.141
; 21.142   0  struct InputXpression
; 21.143   0  {
; 21.144   0      UBYTE ix_Version;	  /* must be set to IX_VERSION */
; 21.145   0      UBYTE ix_Class;	  /* class must match exactly  */
; 21.146

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 35


;Line#  Block                                  Source
; 21.147   0      UWORD ix_Code;	  /* Bits that we want */
; 21.148   0      UWORD ix_CodeMask;	  /* Set bits here to indicate which bits in ix_Code
; 21.149   0  			   * are don't care bits.
; 21.150   0  			   */
; 21.151   0      UWORD ix_Qualifier;   /* Bits that we want */
; 21.152   0      UWORD ix_QualMask;	  /* Set bits here to indicate which bits in
; 21.153   0  			   * ix_Qualifier are don't care bits
; 21.154   0  			   */
; 21.155   0      UWORD ix_QualSame;	  /* synonyms in qualifier */
; 21.156   0  };
; 21.157   0  typedef struct InputXpression IX;
; 21.158
; 21.159      /* constant for InputXpression.ix_Version */
; 21.160   0  #define IX_VERSION 2
; 21.161
; 21.162      /* constants for InputXpression.ix_QualSame */
; 21.163   0  #define IXSYM_SHIFT 1	/* left- and right- shift are equivalent     */
; 21.164   0  #define IXSYM_CAPS  2	/* either shift or caps lock are equivalent  */
; 21.165   0  #define IXSYM_ALT   4	/* left- and right- alt are equivalent	     */
; 21.166
; 21.167   0  #define IXSYM_SHIFTMASK (IEQUALIFIER_LSHIFT | IEQUALIFIER_RSHIFT)
; 21.168   0  #define IXSYM_CAPSMASK	(IXSYM_SHIFTMASK | IEQUALIFIER_CAPSLOCK)
; 21.169   0  #define IXSYM_ALTMASK	(IEQUALIFIER_LALT | IEQUALIFIER_RALT)
; 21.170
; 21.171      /* constant for InputXpression.ix_QualMask */
; 21.172   0  #define IX_NORMALQUALS	0x7FFF	 /* avoid RELATIVEMOUSE */
; 21.173
; 21.174      /* matches nothing */
; 21.175   0  #define NULL_IX(ix)   ((ix)->ix_Class == IECLASS_NULL)
; 21.176
; 21.177
; 21.178      /*****************************************************************************/
; 21.179
; 21.180
; 21.181      /* Error returns from CxBroker() */
; 21.182   0  #define CBERR_OK      0  /* No error				   */
; 21.183   0  #define CBERR_SYSERR  1  /* System error, no memory, etc	   */
; 21.184   0  #define CBERR_DUP     2  /* uniqueness violation		   */
; 21.185   0  #define CBERR_VERSION 3  /* didn't understand NewBroker.nb_Version */
; 21.186
; 21.187
; 21.188      /*****************************************************************************/
; 21.189
; 21.190
; 21.191      /* Return values from CxObjError() */
; 21.192   0  #define COERR_ISNULL	 1   /* you called CxObjError(NULL)	   */
; 21.193   0  #define COERR_NULLATTACH 2   /* someone attached NULL to my list   */
; 21.194   0  #define COERR_BADFILTER  4   /* a bad filter description was given */
; 21.195   0  #define COERR_BADTYPE	 8   /* unmatched type-specific operation  */
; 21.196

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 36


;Line#  Block                                  Source
; 21.197
; 21.198      /*****************************************************************************/
; 21.199
; 21.200
; 21.201   0  #endif /* LIBRARIES_COMMODITIES_H */
; 16.025   0  #endif
; 16.026   0  #ifndef  UTILITY_HOOKS_H
; 16.027   0  #include <utility/hooks.h>
;===> Including file "sc:include/utility/hooks.h"
; 22.001   0  #ifndef UTILITY_HOOKS_H
; 22.002   0  #define UTILITY_HOOKS_H
; 22.003      /*
; 22.004      **	$VER: hooks.h 39.2 (16.6.93)
; 22.005      **	Includes Release 40.13
; 22.006      **
; 22.007      **	Callback hooks
; 22.008      **
; 22.009      **	(C) Copyright 1989-1993 Commodore-Amiga Inc.
; 22.010      **	All Rights Reserved
; 22.011      */
; 22.012
; 22.013      /*****************************************************************************/
; 22.014
; 22.015
; 22.016   0  #ifndef EXEC_TYPES_H
; 22.017      #include <exec/types.h>
; 22.018      #endif
; 22.019
; 22.020   0  #ifndef EXEC_NODES_H
; 22.021      #include <exec/nodes.h>
; 22.022      #endif
; 22.023
; 22.024
; 22.025      /*****************************************************************************/
; 22.026
; 22.027
; 22.028   0  struct Hook
; 22.029   0  {
; 22.030   0      struct MinNode h_MinNode;
; 22.031   0      ULONG	   (*h_Entry)();	/* assembler entry point */
; 22.032   0      ULONG	   (*h_SubEntry)();	/* often HLL entry point */
; 22.033   0      APTR	   h_Data;		/* owner specific	 */
; 22.034   0  };
; 22.035
; 22.036      /* Useful definition for casting function pointers:
; 22.037       * hook.h_SubEntry = (HOOKFUNC)AFunction
; 22.038       */
; 22.039   0  typedef unsigned long (*HOOKFUNC)();
; 22.040
; 22.041      /* Hook calling conventions.

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 37


;Line#  Block                                  Source
; 22.042       *
; 22.043       * The function pointed to by Hook.h_Entry is called with the following
; 22.044       * parameters:
; 22.045       *
; 22.046       *	A0 - pointer to hook data structure itself
; 22.047       *	A1 - pointer to parameter structure ("message")
; 22.048       *	A2 - Hook specific address data ("object")
; 22.049       *
; 22.050       * Control will be passed to the routine h_Entry.  For many
; 22.051       * High-Level Languages (HLL), this will be an assembly language
; 22.052       * stub which pushes registers on the stack, does other setup,
; 22.053       * and then calls the function at h_SubEntry.
; 22.054       *
; 22.055       * The standard C receiving code is:
; 22.056       *
; 22.057       *    HookFunc(struct Hook *hook, APTR object, APTR message)
; 22.058       *
; 22.059       * Note that register natural order differs from this convention for C
; 22.060       * parameter order, which is A0,A2,A1.
; 22.061       *
; 22.062       * The assembly language stub for "vanilla" C parameter conventions
; 22.063       * could be:
; 22.064       *
; 22.065       * _hookEntry:
; 22.066       *	move.l	a1,-(sp)		; push message packet pointer
; 22.067       *	move.l	a2,-(sp)		; push object pointer
; 22.068       *	move.l	a0,-(sp)		; push hook pointer
; 22.069       *	move.l	h_SubEntry(a0),a0	; fetch C entry point ...
; 22.070       *	jsr	(a0)			; ... and call it
; 22.071       *	lea	12(sp),sp		; fix stack
; 22.072       *	rts
; 22.073       *
; 22.074       * With this function as your interface stub, you can write a Hook setup
; 22.075       * function as:
; 22.076       *
; 22.077       * InitHook(struct Hook *hook, ULONG (*c_function)(), APTR userdata)
; 22.078       * {
; 22.079       * ULONG (*hookEntry)();
; 22.080       *
; 22.081       *     hook->h_Entry	= hookEntry;
; 22.082       *     hook->h_SubEntry = c_function;
; 22.083       *     hook->h_Data	= userdata;
; 22.084       * }
; 22.085       *
; 22.086       * With a compiler capable of registerized parameters, such as SAS C, you
; 22.087       * can put the C function in the h_Entry field directly. For example, for
; 22.088       * SAS C:
; 22.089       *
; 22.090       *   ULONG __saveds __asm HookFunc(register __a0 struct Hook *hook,
; 22.091       *				   register __a2 APTR	      object,

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 38


;Line#  Block                                  Source
; 22.092       *				   register __a1 APTR	      message);
; 22.093       *
; 22.094       */
; 22.095
; 22.096
; 22.097      /*****************************************************************************/
; 22.098
; 22.099
; 22.100   0  #endif /* UTILITY_HOOKS_H */
; 16.028   0  #endif
; 16.029   0  #ifndef  INTUITION_CLASSES_H
; 16.030   0  #include <intuition/classes.h>
;===> Including file "sc:include/intuition/classes.h"
; 23.001   0  #ifndef	INTUITION_CLASSES_H
; 23.002   0  #define INTUITION_CLASSES_H	1
; 23.003      /*
; 23.004      **  $VER: classes.h 38.1 (11.11.91)
; 23.005      **  Includes Release 40.13
; 23.006      **
; 23.007      **  Used only by class implementors
; 23.008      **
; 23.009      **  (C) Copyright 1989-1993 Commodore-Amiga, Inc.
; 23.010      **	    All Rights Reserved
; 23.011      */
; 23.012
; 23.013   0  #ifndef UTILITY_HOOKS_H
; 23.014      #include <utility/hooks.h>
; 23.015      #endif
; 23.016
; 23.017   0  #ifndef	INTUITION_CLASSUSR_H
; 23.018   0  #include <intuition/classusr.h>
;===> Including file "sc:include/intuition/classusr.h"
; 24.001   0  #ifndef	INTUITION_CLASSUSR_H
; 24.002   0  #define INTUITION_CLASSUSR_H	1
; 24.003      /*
; 24.004      **  $VER: classusr.h 38.2 (14.4.92)
; 24.005      **  Includes Release 40.13
; 24.006      **
; 24.007      **  For application users of Intuition object classes
; 24.008      **
; 24.009      **  (C) Copyright 1989-1993 Commodore-Amiga, Inc.
; 24.010      **	    All Rights Reserved
; 24.011      */
; 24.012
; 24.013
; 24.014   0  #ifndef UTILITY_HOOKS_H
; 24.015      #include <utility/hooks.h>
; 24.016      #endif
; 24.017
; 24.018      /*** User visible handles on objects, classes, messages ***/

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 39


;Line#  Block                                  Source
; 24.019   0  typedef ULONG	Object;		/* abstract handle */
; 24.020
; 24.021   0  typedef	UBYTE	*ClassID;
; 24.022
; 24.023      /* you can use this type to point to a "generic" message,
; 24.024       * in the object-oriented programming parlance.  Based on
; 24.025       * the value of 'MethodID', you dispatch to processing
; 24.026       * for the various message types.  The meaningful parameter
; 24.027       * packet structure definitions are defined below.
; 24.028       */
; 24.029   0  typedef struct {
; 24.030   0      ULONG MethodID;
; 24.031          /* method-specific data follows, some examples below */
; 24.032   0  }		*Msg;
; 24.033
; 24.034      /*
; 24.035       * Class id strings for Intuition classes.
; 24.036       * There's no real reason to use the uppercase constants
; 24.037       * over the lowercase strings, but this makes a good place
; 24.038       * to list the names of the built-in classes.
; 24.039       */
; 24.040   0  #define ROOTCLASS	"rootclass"		/* classusr.h	  */
; 24.041   0  #define IMAGECLASS	"imageclass"		/* imageclass.h   */
; 24.042   0  #define FRAMEICLASS	"frameiclass"
; 24.043   0  #define SYSICLASS	"sysiclass"
; 24.044   0  #define FILLRECTCLASS	"fillrectclass"
; 24.045   0  #define GADGETCLASS	"gadgetclass"		/* gadgetclass.h  */
; 24.046   0  #define PROPGCLASS	"propgclass"
; 24.047   0  #define STRGCLASS	"strgclass"
; 24.048   0  #define BUTTONGCLASS	"buttongclass"
; 24.049   0  #define FRBUTTONCLASS	"frbuttonclass"
; 24.050   0  #define GROUPGCLASS	"groupgclass"
; 24.051   0  #define ICCLASS		"icclass"		/* icclass.h	  */
; 24.052   0  #define MODELCLASS	"modelclass"
; 24.053   0  #define ITEXTICLASS	"itexticlass"
; 24.054   0  #define POINTERCLASS	"pointerclass"		/* pointerclass.h */
; 24.055
; 24.056      /* Dispatched method ID's
; 24.057       * NOTE: Applications should use Intuition entry points, not direct
; 24.058       * DoMethod() calls, for NewObject, DisposeObject, SetAttrs,
; 24.059       * SetGadgetAttrs, and GetAttr.
; 24.060       */
; 24.061
; 24.062   0  #define OM_Dummy	(0x100)
; 24.063   0  #define OM_NEW		(0x101)	/* 'object' parameter is "true class"	*/
; 24.064   0  #define OM_DISPOSE	(0x102)	/* delete self (no parameters)		*/
; 24.065   0  #define OM_SET		(0x103)	/* set attributes (in tag list)		*/
; 24.066   0  #define OM_GET		(0x104)	/* return single attribute value	*/
; 24.067   0  #define OM_ADDTAIL	(0x105)	/* add self to a List (let root do it)	*/
; 24.068   0  #define OM_REMOVE	(0x106)	/* remove self from list		*/

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 40


;Line#  Block                                  Source
; 24.069   0  #define OM_NOTIFY	(0x107)	/* send to self: notify dependents	*/
; 24.070   0  #define OM_UPDATE	(0x108)	/* notification message from somebody	*/
; 24.071   0  #define OM_ADDMEMBER	(0x109)	/* used by various classes with lists	*/
; 24.072   0  #define OM_REMMEMBER	(0x10A)	/* used by various classes with lists	*/
; 24.073
; 24.074      /* Parameter "Messages" passed to methods	*/
; 24.075
; 24.076      /* OM_NEW and OM_SET	*/
; 24.077   0  struct opSet {
; 24.078   0      ULONG		MethodID;
; 24.079   0      struct TagItem	*ops_AttrList;	/* new attributes	*/
; 24.080   0      struct GadgetInfo	*ops_GInfo;	/* always there for gadgets,
; 24.081   0  					 * when SetGadgetAttrs() is used,
; 24.082   0  					 * but will be NULL for OM_NEW
; 24.083   0  					 */
; 24.084   0  };
; 24.085
; 24.086      /* OM_NOTIFY, and OM_UPDATE	*/
; 24.087   0  struct opUpdate {
; 24.088   0      ULONG		MethodID;
; 24.089   0      struct TagItem	*opu_AttrList;	/* new attributes	*/
; 24.090   0      struct GadgetInfo	*opu_GInfo;	/* non-NULL when SetGadgetAttrs or
; 24.091   0  					 * notification resulting from gadget
; 24.092   0  					 * input occurs.
; 24.093   0  					 */
; 24.094   0      ULONG		opu_Flags;	/* defined below	*/
; 24.095   0  };
; 24.096
; 24.097      /* this flag means that the update message is being issued from
; 24.098       * something like an active gadget, a la GACT_FOLLOWMOUSE.  When
; 24.099       * the gadget goes inactive, it will issue a final update
; 24.100       * message with this bit cleared.  Examples of use are for
; 24.101       * GACT_FOLLOWMOUSE equivalents for propgadclass, and repeat strobes
; 24.102       * for buttons.
; 24.103       */
; 24.104   0  #define OPUF_INTERIM	(1<<0)
; 24.105
; 24.106      /* OM_GET	*/
; 24.107   0  struct opGet {
; 24.108   0      ULONG		MethodID;
; 24.109   0      ULONG		opg_AttrID;
; 24.110   0      ULONG		*opg_Storage;	/* may be other types, but "int"
; 24.111   0  					 * types are all ULONG
; 24.112   0  					 */
; 24.113   0  };
; 24.114
; 24.115      /* OM_ADDTAIL	*/
; 24.116   0  struct opAddTail {
; 24.117   0      ULONG		MethodID;
; 24.118   0      struct List		*opat_List;

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 41


;Line#  Block                                  Source
; 24.119   0  };
; 24.120
; 24.121      /* OM_ADDMEMBER, OM_REMMEMBER	*/
; 24.122   0  #define  opAddMember opMember
; 24.123   0  struct opMember {
; 24.124   0      ULONG		MethodID;
; 24.125   0      Object		*opam_Object;
; 24.126   0  };
; 24.127
; 24.128
; 24.129   0  #endif
; 23.019   0  #endif
; 23.020
; 23.021      /*******************************************/
; 23.022      /*** "White box" access to struct IClass ***/
; 23.023      /*******************************************/
; 23.024
; 23.025      /* This structure is READ-ONLY, and allocated only by Intuition */
; 23.026   0  typedef struct IClass {
; 23.027   0      struct Hook		cl_Dispatcher;
; 23.028   0      ULONG		cl_Reserved;	/* must be 0  */
; 23.029   0      struct IClass	*cl_Super;
; 23.030   0      ClassID		cl_ID;
; 23.031
; 23.032          /* where within an object is the instance data for this class? */
; 23.033   0      UWORD		cl_InstOffset;
; 23.034   0      UWORD		cl_InstSize;
; 23.035
; 23.036   0      ULONG		cl_UserData;	/* per-class data of your choice */
; 23.037   0      ULONG		cl_SubclassCount;
; 23.038      					/* how many direct subclasses?	*/
; 23.039   0      ULONG		cl_ObjectCount;
; 23.040      				/* how many objects created of this class? */
; 23.041   0      ULONG		cl_Flags;
; 23.042   0  #define	CLF_INLIST	0x00000001	/* class is in public class list */
; 23.043   0  } Class;
; 23.044
; 23.045      /* add offset for instance data to an object handle */
; 23.046   0  #define INST_DATA( cl, o )	((VOID *) (((UBYTE *)o)+cl->cl_InstOffset))
; 23.047
; 23.048      /* sizeof the instance data for a given class */
; 23.050   0  			+ sizeof (struct _Object ))
; 23.051
; 23.052      /**************************************************/
; 23.053      /*** "White box" access to struct _Object	***/
; 23.054      /**************************************************/
; 23.055
; 23.056      /*
; 23.057       * We have this, the instance data of the root class, PRECEDING
; 23.058       * the "object".  This is so that Gadget objects are Gadget pointers,

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 42


;Line#  Block                                  Source
; 23.059       * and so on.  If this structure grows, it will always have o_Class
; 23.060       * at the end, so the macro OCLASS(o) will always have the same
; 23.061       * offset back from the pointer returned from NewObject().
; 23.062       *
; 23.063       * This data structure is subject to change.  Do not use the o_Node
; 23.064       * embedded structure.
; 23.065       */
; 23.066   0  struct _Object {
; 23.067   0      struct MinNode	o_Node;
; 23.068   0      struct IClass	*o_Class;
; 23.069   0  };
; 23.070
; 23.071      /* convenient typecast	*/
; 23.072   0  #define _OBJ( o )	((struct _Object *)(o))
; 23.073
; 23.074      /* get "public" handle on baseclass instance from real beginning of obj data */
; 23.075   0  #define BASEOBJECT( _obj )	( (Object *) (_OBJ(_obj)+1) )
; 23.076
; 23.077      /* get back to object data struct from public handle */
; 23.078   0  #define _OBJECT( o )		(_OBJ(o) - 1)
; 23.079
; 23.080      /* get class pointer from an object handle	*/
; 23.081   0  #define OCLASS( o )	( (_OBJECT(o))->o_Class )
; 23.082
; 23.083   0  #endif
; 16.031   0  #endif
; 16.032   0  #ifndef  INTUITION_CLASSUSR_H
; 16.033      #include <intuition/classusr.h>
; 16.034      #endif
; 16.035   0  #ifndef  GRAPHICS_GRAPHINT_H
; 16.036   0  #include <graphics/graphint.h>
;===> Including file "sc:include/graphics/graphint.h"
; 25.001   0  #ifndef	GRAPHICS_GRAPHINT_H
; 25.002   0  #define	GRAPHICS_GRAPHINT_H
; 25.003      /*
; 25.004      **	$VER: graphint.h 39.0 (23.9.91)
; 25.005      **	Includes Release 40.13
; 25.006      **
; 25.007      **
; 25.008      **
; 25.009      **	(C) Copyright 1985-1993 Commodore-Amiga, Inc.
; 25.010      **	    All Rights Reserved
; 25.011      */
; 25.012
; 25.013   0  #ifndef EXEC_NODES_H
; 25.014      #include <exec/nodes.h>
; 25.015      #endif
; 25.016
; 25.017      /* structure used by AddTOFTask */
; 25.018   0  struct Isrvstr

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 43


;Line#  Block                                  Source
; 25.019   0  {
; 25.020   0      struct Node is_Node;
; 25.021   0      struct Isrvstr *Iptr;   /* passed to srvr by os */
; 25.022   0      int (*code)();
; 25.023   0      int (*ccode)();
; 25.024   0      int Carg;
; 25.025   0  };
; 25.026
; 25.027   0  #endif	/* GRAPHICS_GRAPHINT_H */
; 16.037   0  #endif
; 16.038
; 16.039      /*  Exec support functions */
; 16.040
; 16.041   0  void BeginIO( struct IORequest *ioReq );
; 16.042   0  struct IORequest *CreateExtIO( struct MsgPort *port, long ioSize );
; 16.043   0  struct MsgPort *CreatePort( STRPTR name, long pri );
; 16.044   0  struct IOStdReq *CreateStdIO( struct MsgPort *port );
; 16.045   0  struct Task *CreateTask( STRPTR name, long pri, APTR initPC,
; 16.046   0  	unsigned long stackSize );
; 16.047   0  void DeleteExtIO( struct IORequest *ioReq );
; 16.048   0  void DeletePort( struct MsgPort *ioReq );
; 16.049   0  void DeleteStdIO( struct IOStdReq *ioReq );
; 16.050   0  void DeleteTask( struct Task *task );
; 16.051   0  void NewList( struct List *list );
; 16.052   0  APTR LibAllocPooled( APTR poolHeader, unsigned long memSize );
; 16.053   0  APTR LibCreatePool( unsigned long memFlags, unsigned long puddleSize,
; 16.054   0  	unsigned long threshSize );
; 16.055   0  void LibDeletePool( APTR poolHeader );
; 16.056   0  void LibFreePooled( APTR poolHeader, APTR memory, unsigned long memSize );
; 16.057
; 16.058      /* Assorted functions in amiga.lib */
; 16.059
; 16.060   0  ULONG FastRand( unsigned long seed );
; 16.061   0  UWORD RangeRand( unsigned long maxValue );
; 16.062
; 16.063      /* Graphics support functions in amiga.lib */
; 16.064
; 16.065   0  void AddTOF( struct Isrvstr *i, long (*p)(), long a );
; 16.066   0  void RemTOF( struct Isrvstr *i );
; 16.067   0  void waitbeam( long b );
; 16.068
; 16.069      /* math support functions in amiga.lib */
; 16.070
; 16.071   0  FLOAT afp( BYTE *string );
; 16.072   0  void arnd( long place, long exp, BYTE *string );
; 16.073   0  FLOAT dbf( unsigned long exp, unsigned long mant );
; 16.074   0  LONG fpa( FLOAT fnum, BYTE *string );
; 16.075   0  void fpbcd( FLOAT fnum, BYTE *string );
; 16.076
; 16.077      /* Timer support functions in amiga.lib (V36 and higher only) */

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 44


;Line#  Block                                  Source
; 16.078
; 16.079   0  LONG TimeDelay( long unit, unsigned long secs, unsigned long microsecs );
; 16.080   0  LONG DoTimer( struct timeval *, long unit, long command );
; 16.081
; 16.082      /*  Commodities functions in amiga.lib (V36 and higher only) */
; 16.083
; 16.084   0  void ArgArrayDone( void );
; 16.085   0  UBYTE **ArgArrayInit( long argc, UBYTE **argv );
; 16.086   0  LONG ArgInt( UBYTE **tt, STRPTR entry, long defaultval );
; 16.087   0  STRPTR ArgString( UBYTE **tt, STRPTR entry, STRPTR defaulstring );
; 16.088   0  CxObj *HotKey( STRPTR description, struct MsgPort *port, long id );
; 16.089   0  struct InputEvent *InvertString( STRPTR str, struct KeyMap *km );
; 16.090   0  void FreeIEvents( struct InputEvent *events );
; 16.091
; 16.092      /* Commodities Macros */
; 16.093
; 16.094      /* CxObj *CxCustom(LONG(*)(),LONG id)(A0,D0) */
; 16.095      /* CxObj *CxDebug(LONG id)(D0) */
; 16.096      /* CxObj *CxFilter(STRPTR description)(A0) */
; 16.097      /* CxObj *CxSender(struct MsgPort *port,LONG id)(A0,D0) */
; 16.098      /* CxObj *CxSignal(struct Task *task,LONG signal)(A0,D0) */
; 16.099      /* CxObj *CxTranslate(struct InputEvent *ie)(A0) */
; 16.100
; 16.101      /*  ARexx support functions in amiga.lib */
; 16.102
; 16.103   0  BOOL CheckRexxMsg( struct Message *rexxmsg );
; 16.104   0  LONG GetRexxVar( struct Message *rexxmsg, UBYTE *name, UBYTE **result );
; 16.105   0  LONG SetRexxVar( struct Message *rexxmsg, UBYTE *name, UBYTE *value,
; 16.106   0  	long length );
; 16.107
; 16.108      /*  Intuition hook and boopsi support functions in amiga.lib. */
; 16.109      /*  These functions do not require any particular ROM revision */
; 16.110      /*  to operate correctly, though they deal with concepts first introduced */
; 16.111      /*  in V36.  These functions would work with compatibly-implemented */
; 16.112      /*  hooks or objects under V34. */
; 16.113
; 16.114   0  ULONG CallHookA( struct Hook *hookPtr, Object *obj, APTR message );
; 16.115   0  ULONG CallHook( struct Hook *hookPtr, Object *obj, ... );
; 16.116   0  ULONG DoMethodA( Object *obj, Msg message );
; 16.117   0  ULONG DoMethod( Object *obj, unsigned long MethodID, ... );
; 16.118   0  ULONG DoSuperMethodA( struct IClass *cl, Object *obj, Msg message );
; 16.119   0  ULONG DoSuperMethod( struct IClass *cl, Object *obj, unsigned long MethodID,
; 16.120   0  	... );
; 16.121   0  ULONG CoerceMethodA( struct IClass *cl, Object *obj, Msg message );
; 16.122   0  ULONG CoerceMethod( struct IClass *cl, Object *obj, unsigned long MethodID,
; 16.123   0  	... );
; 16.124   0  ULONG SetSuperAttrs( struct IClass *cl, Object *obj, unsigned long Tag1,
; 16.125   0  	... );
; 16.126
; 16.127      /*  Network-support functions in amiga.lib. */

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 45


;Line#  Block                                  Source
; 16.128      /*  ACrypt() first appeared in later V39 versions of amiga.lib, but */
; 16.129      /*  operates correctly under V37 and up. */
; 16.130
; 16.131   0  STRPTR ACrypt( STRPTR buffer, STRPTR password, STRPTR username );
; 16.132   0  #endif	 /* CLIB_ALIB_PROTOS_H */
;  9.015   0  #endif
; 15       0  #include <proto/dos.h>
;===> Including file "sc:include/proto/dos.h"
; 26.001   0  #ifndef PROTO_DOS_H
; 26.002   0  #define PROTO_DOS_H
; 26.003   0  #include <exec/types.h>
; 26.004   0  extern struct DosLibrary *DOSBase ;
; 26.005   0  #include <clib/dos_protos.h>
;===> Including file "sc:include/clib/dos_protos.h"
; 27.001   0  #ifndef  CLIB_DOS_PROTOS_H
; 27.002   0  #define  CLIB_DOS_PROTOS_H
; 27.003
; 27.004      /*
; 27.005      **	$VER: dos_protos.h 36.31 (17.12.92)
; 27.006      **	Includes Release 40.13
; 27.007      **
; 27.008      **	C prototypes. For use with 32 bit integers only.
; 27.009      **
; 27.010      **	(C) Copyright 1990-1993 Commodore-Amiga, Inc.
; 27.011      **	    All Rights Reserved
; 27.012      */
; 27.013
; 27.014   0  #ifndef  DOS_DOS_H
; 27.015   0  #include <dos/dos.h>
;===> Including file "sc:include/dos/dos.h"
; 28.001   0  #ifndef DOS_DOS_H
; 28.002   0  #define DOS_DOS_H
; 28.003      /*
; 28.004      **	$VER: dos.h 36.27 (5.4.92)
; 28.005      **	Includes Release 40.13
; 28.006      **
; 28.007      **	Standard C header for AmigaDOS
; 28.008      **
; 28.009      **	(C) Copyright 1985-1993 Commodore-Amiga, Inc.
; 28.010      **	    All Rights Reserved
; 28.011      */
; 28.012
; 28.013   0  #ifndef EXEC_TYPES_H
; 28.014      #include "exec/types.h"
; 28.015      #endif
; 28.016
; 28.017
; 28.018   0  #define	 DOSNAME  "dos.library"
; 28.019
; 28.020      /* Predefined Amiga DOS global constants */

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 46


;Line#  Block                                  Source
; 28.021
; 28.022   0  #define DOSTRUE (-1L)
; 28.023   0  #define DOSFALSE (0L)
; 28.024
; 28.025      /* Mode parameter to Open() */
; 28.026   0  #define MODE_OLDFILE	     1005   /* Open existing file read/write
; 28.027   0  				     * positioned at beginning of file. */
; 28.028   0  #define MODE_NEWFILE	     1006   /* Open freshly created file (delete
; 28.029   0  				     * old file) read/write, exclusive lock. */
; 28.030   0  #define MODE_READWRITE	     1004   /* Open old file w/shared lock,
; 28.031   0  				     * creates file if doesn't exist. */
; 28.032
; 28.033      /* Relative position to Seek() */
; 28.034   0  #define OFFSET_BEGINNING    -1	    /* relative to Begining Of File */
; 28.035   0  #define OFFSET_CURRENT	     0	    /* relative to Current file position */
; 28.036   0  #define OFFSET_END	     1	    /* relative to End Of File	  */
; 28.037
; 28.038   0  #define OFFSET_BEGINING	    OFFSET_BEGINNING  /* ancient compatibility */
; 28.039
; 28.040   0  #define BITSPERBYTE	     8
; 28.041   0  #define BYTESPERLONG	     4
; 28.042   0  #define BITSPERLONG	     32
; 28.043   0  #define MAXINT		     0x7FFFFFFF
; 28.044   0  #define MININT		     0x80000000
; 28.045
; 28.046      /* Passed as type to Lock() */
; 28.047   0  #define SHARED_LOCK	     -2	    /* File is readable by others */
; 28.048   0  #define ACCESS_READ	     -2	    /* Synonym */
; 28.049   0  #define EXCLUSIVE_LOCK	     -1	    /* No other access allowed	  */
; 28.050   0  #define ACCESS_WRITE	     -1	    /* Synonym */
; 28.051
; 28.052   0  struct DateStamp {
; 28.053   0     LONG	 ds_Days;	      /* Number of days since Jan. 1, 1978 */
; 28.054   0     LONG	 ds_Minute;	      /* Number of minutes past midnight */
; 28.055   0     LONG	 ds_Tick;	      /* Number of ticks past minute */
; 28.056   0  }; /* DateStamp */
; 28.057
; 28.058   0  #define TICKS_PER_SECOND      50   /* Number of ticks in one second */
; 28.059
; 28.060      /* Returned by Examine() and ExNext(), must be on a 4 byte boundary */
; 28.061   0  struct FileInfoBlock {
; 28.062   0     LONG	  fib_DiskKey;
; 28.063   0     LONG	  fib_DirEntryType;  /* Type of Directory. If < 0, then a plain file.
; 28.064   0  			      * If > 0 a directory */
; 28.065   0     char	  fib_FileName[108]; /* Null terminated. Max 30 chars used for now */
; 28.066   0     LONG	  fib_Protection;    /* bit mask of protection, rwxd are 3-0.	   */
; 28.067   0     LONG	  fib_EntryType;
; 28.068   0     LONG	  fib_Size;	     /* Number of bytes in file */
; 28.069   0     LONG	  fib_NumBlocks;     /* Number of blocks in file */
; 28.070   0     struct DateStamp fib_Date;/* Date file last changed */

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 47


;Line#  Block                                  Source
; 28.071   0     char	  fib_Comment[80];  /* Null terminated comment associated with file */
; 28.072
; 28.073         /* Note: the following fields are not supported by all filesystems.	*/
; 28.074         /* They should be initialized to 0 sending an ACTION_EXAMINE packet.	*/
; 28.075         /* When Examine() is called, these are set to 0 for you.		*/
; 28.076         /* AllocDosObject() also initializes them to 0.			*/
; 28.077   0     UWORD  fib_OwnerUID;		/* owner's UID */
; 28.078   0     UWORD  fib_OwnerGID;		/* owner's GID */
; 28.079
; 28.080   0     char	  fib_Reserved[32];
; 28.081   0  }; /* FileInfoBlock */
; 28.082
; 28.083      /* FIB stands for FileInfoBlock */
; 28.084
; 28.085      /* FIBB are bit definitions, FIBF are field definitions */
; 28.086      /* Regular RWED bits are 0 == allowed. */
; 28.087      /* NOTE: GRP and OTR RWED permissions are 0 == not allowed! */
; 28.088      /* Group and Other permissions are not directly handled by the filesystem */
; 28.089   0  #define FIBB_OTR_READ	   15	/* Other: file is readable */
; 28.090   0  #define FIBB_OTR_WRITE	   14	/* Other: file is writable */
; 28.091   0  #define FIBB_OTR_EXECUTE   13	/* Other: file is executable */
; 28.092   0  #define FIBB_OTR_DELETE    12	/* Other: prevent file from being deleted */
; 28.093   0  #define FIBB_GRP_READ	   11	/* Group: file is readable */
; 28.094   0  #define FIBB_GRP_WRITE	   10	/* Group: file is writable */
; 28.095   0  #define FIBB_GRP_EXECUTE   9	/* Group: file is executable */
; 28.096   0  #define FIBB_GRP_DELETE    8	/* Group: prevent file from being deleted */
; 28.097
; 28.098   0  #define FIBB_SCRIPT    6	/* program is a script (execute) file */
; 28.099   0  #define FIBB_PURE      5	/* program is reentrant and rexecutable */
; 28.100   0  #define FIBB_ARCHIVE   4	/* cleared whenever file is changed */
; 28.101   0  #define FIBB_READ      3	/* ignored by old filesystem */
; 28.102   0  #define FIBB_WRITE     2	/* ignored by old filesystem */
; 28.103   0  #define FIBB_EXECUTE   1	/* ignored by system, used by Shell */
; 28.104   0  #define FIBB_DELETE    0	/* prevent file from being deleted */
; 28.105
; 28.106   0  #define FIBF_OTR_READ	   (1<<FIBB_OTR_READ)
; 28.107   0  #define FIBF_OTR_WRITE	   (1<<FIBB_OTR_WRITE)
; 28.108   0  #define FIBF_OTR_EXECUTE   (1<<FIBB_OTR_EXECUTE)
; 28.109   0  #define FIBF_OTR_DELETE    (1<<FIBB_OTR_DELETE)
; 28.110   0  #define FIBF_GRP_READ	   (1<<FIBB_GRP_READ)
; 28.111   0  #define FIBF_GRP_WRITE	   (1<<FIBB_GRP_WRITE)
; 28.112   0  #define FIBF_GRP_EXECUTE   (1<<FIBB_GRP_EXECUTE)
; 28.113   0  #define FIBF_GRP_DELETE    (1<<FIBB_GRP_DELETE)
; 28.114
; 28.115   0  #define FIBF_SCRIPT    (1<<FIBB_SCRIPT)
; 28.116   0  #define FIBF_PURE      (1<<FIBB_PURE)
; 28.117   0  #define FIBF_ARCHIVE   (1<<FIBB_ARCHIVE)
; 28.118   0  #define FIBF_READ      (1<<FIBB_READ)
; 28.119   0  #define FIBF_WRITE     (1<<FIBB_WRITE)
; 28.120   0  #define FIBF_EXECUTE   (1<<FIBB_EXECUTE)

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 48


;Line#  Block                                  Source
; 28.121   0  #define FIBF_DELETE    (1<<FIBB_DELETE)
; 28.122
; 28.123      /* Standard maximum length for an error string from fault.  However, most */
; 28.124      /* error strings should be kept under 60 characters if possible.  Don't   */
; 28.125      /* forget space for the header you pass in. */
; 28.126   0  #define FAULT_MAX	82
; 28.127
; 28.128      /* All BCPL data must be long word aligned.  BCPL pointers are the long word
; 28.129       *  address (i.e byte address divided by 4 (>>2)) */
; 28.130   0  typedef long  BPTR;		    /* Long word pointer */
; 28.131   0  typedef long  BSTR;		    /* Long word pointer to BCPL string	 */
; 28.132
; 28.133      /* Convert BPTR to typical C pointer */
; 28.134   0  #ifdef OBSOLETE_LIBRARIES_DOS_H
; 28.135      #define BADDR( bptr )	(((ULONG)bptr) << 2)
; 28.136      #else
; 28.137      /* This one has no problems with CASTing */
; 28.138   0  #define BADDR(x)	((APTR)((ULONG)(x) << 2))
; 28.139   0  #endif
; 28.140      /* Convert address into a BPTR */
; 28.141   0  #define MKBADDR(x)	(((LONG)(x)) >> 2)
; 28.142
; 28.143      /* BCPL strings have a length in the first byte and then the characters.
; 28.144       * For example:	 s[0]=3 s[1]=S s[2]=Y s[3]=S				 */
; 28.145
; 28.146      /* returned by Info(), must be on a 4 byte boundary */
; 28.147   0  struct InfoData {
; 28.148   0     LONG	  id_NumSoftErrors;	/* number of soft errors on disk */
; 28.149   0     LONG	  id_UnitNumber;	/* Which unit disk is (was) mounted on */
; 28.150   0     LONG	  id_DiskState;		/* See defines below */
; 28.151   0     LONG	  id_NumBlocks;		/* Number of blocks on disk */
; 28.152   0     LONG	  id_NumBlocksUsed;	/* Number of block in use */
; 28.153   0     LONG	  id_BytesPerBlock;
; 28.154   0     LONG	  id_DiskType;		/* Disk Type code */
; 28.155   0     BPTR	  id_VolumeNode;	/* BCPL pointer to volume node */
; 28.156   0     LONG	  id_InUse;		/* Flag, zero if not in use */
; 28.157   0  }; /* InfoData */
; 28.158
; 28.159      /* ID stands for InfoData */
; 28.160      	/* Disk states */
; 28.161   0  #define ID_WRITE_PROTECTED 80	 /* Disk is write protected */
; 28.162   0  #define ID_VALIDATING	   81	 /* Disk is currently being validated */
; 28.163   0  #define ID_VALIDATED	   82	 /* Disk is consistent and writeable */
; 28.164
; 28.165      	/* Disk types */
; 28.166      /* ID_INTER_* use international case comparison routines for hashing */
; 28.167      /* Any other new filesystems should also, if possible. */
; 28.168   0  #define ID_NO_DISK_PRESENT	(-1)
; 28.169   0  #define ID_UNREADABLE_DISK	(0x42414400L)	/* 'BAD\0' */
; 28.170   0  #define ID_DOS_DISK		(0x444F5300L)	/* 'DOS\0' */

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 49


;Line#  Block                                  Source
; 28.171   0  #define ID_FFS_DISK		(0x444F5301L)	/* 'DOS\1' */
; 28.172   0  #define ID_INTER_DOS_DISK	(0x444F5302L)	/* 'DOS\2' */
; 28.173   0  #define ID_INTER_FFS_DISK	(0x444F5303L)	/* 'DOS\3' */
; 28.174   0  #define ID_FASTDIR_DOS_DISK	(0x444F5304L)	/* 'DOS\4' */
; 28.175   0  #define ID_FASTDIR_FFS_DISK	(0x444F5305L)	/* 'DOS\5' */
; 28.176   0  #define ID_NOT_REALLY_DOS	(0x4E444F53L)	/* 'NDOS'  */
; 28.177   0  #define ID_KICKSTART_DISK	(0x4B49434BL)	/* 'KICK'  */
; 28.178   0  #define ID_MSDOS_DISK		(0x4d534400L)	/* 'MSD\0' */
; 28.179
; 28.180      /* Errors from IoErr(), etc. */
; 28.181   0  #define ERROR_NO_FREE_STORE		  103
; 28.182   0  #define ERROR_TASK_TABLE_FULL		  105
; 28.183   0  #define ERROR_BAD_TEMPLATE		  114
; 28.184   0  #define ERROR_BAD_NUMBER		  115
; 28.185   0  #define ERROR_REQUIRED_ARG_MISSING	  116
; 28.186   0  #define ERROR_KEY_NEEDS_ARG		  117
; 28.187   0  #define ERROR_TOO_MANY_ARGS		  118
; 28.188   0  #define ERROR_UNMATCHED_QUOTES		  119
; 28.189   0  #define ERROR_LINE_TOO_LONG		  120
; 28.190   0  #define ERROR_FILE_NOT_OBJECT		  121
; 28.191   0  #define ERROR_INVALID_RESIDENT_LIBRARY	  122
; 28.192   0  #define ERROR_NO_DEFAULT_DIR		  201
; 28.193   0  #define ERROR_OBJECT_IN_USE		  202
; 28.194   0  #define ERROR_OBJECT_EXISTS		  203
; 28.195   0  #define ERROR_DIR_NOT_FOUND		  204
; 28.196   0  #define ERROR_OBJECT_NOT_FOUND		  205
; 28.197   0  #define ERROR_BAD_STREAM_NAME		  206
; 28.198   0  #define ERROR_OBJECT_TOO_LARGE		  207
; 28.199   0  #define ERROR_ACTION_NOT_KNOWN		  209
; 28.200   0  #define ERROR_INVALID_COMPONENT_NAME	  210
; 28.201   0  #define ERROR_INVALID_LOCK		  211
; 28.202   0  #define ERROR_OBJECT_WRONG_TYPE		  212
; 28.203   0  #define ERROR_DISK_NOT_VALIDATED	  213
; 28.204   0  #define ERROR_DISK_WRITE_PROTECTED	  214
; 28.205   0  #define ERROR_RENAME_ACROSS_DEVICES	  215
; 28.206   0  #define ERROR_DIRECTORY_NOT_EMPTY	  216
; 28.207   0  #define ERROR_TOO_MANY_LEVELS		  217
; 28.208   0  #define ERROR_DEVICE_NOT_MOUNTED	  218
; 28.209   0  #define ERROR_SEEK_ERROR		  219
; 28.210   0  #define ERROR_COMMENT_TOO_BIG		  220
; 28.211   0  #define ERROR_DISK_FULL			  221
; 28.212   0  #define ERROR_DELETE_PROTECTED		  222
; 28.213   0  #define ERROR_WRITE_PROTECTED		  223
; 28.214   0  #define ERROR_READ_PROTECTED		  224
; 28.215   0  #define ERROR_NOT_A_DOS_DISK		  225
; 28.216   0  #define ERROR_NO_DISK			  226
; 28.217   0  #define ERROR_NO_MORE_ENTRIES		  232
; 28.218      /* added for 1.4 */
; 28.219   0  #define ERROR_IS_SOFT_LINK		  233
; 28.220   0  #define ERROR_OBJECT_LINKED		  234

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 50


;Line#  Block                                  Source
; 28.221   0  #define ERROR_BAD_HUNK			  235
; 28.222   0  #define ERROR_NOT_IMPLEMENTED		  236
; 28.223   0  #define ERROR_RECORD_NOT_LOCKED		  240
; 28.224   0  #define ERROR_LOCK_COLLISION		  241
; 28.225   0  #define ERROR_LOCK_TIMEOUT		  242
; 28.226   0  #define ERROR_UNLOCK_ERROR		  243
; 28.227
; 28.228      /* error codes 303-305 are defined in dosasl.h */
; 28.229
; 28.230      /* These are the return codes used by convention by AmigaDOS commands */
; 28.231      /* See FAILAT and IF for relvance to EXECUTE files		      */
; 28.232   0  #define RETURN_OK			    0  /* No problems, success */
; 28.233   0  #define RETURN_WARN			    5  /* A warning only */
; 28.234   0  #define RETURN_ERROR			   10  /* Something wrong */
; 28.235   0  #define RETURN_FAIL			   20  /* Complete or severe failure*/
; 28.236
; 28.237      /* Bit numbers that signal you that a user has issued a break */
; 28.238   0  #define SIGBREAKB_CTRL_C   12
; 28.239   0  #define SIGBREAKB_CTRL_D   13
; 28.240   0  #define SIGBREAKB_CTRL_E   14
; 28.241   0  #define SIGBREAKB_CTRL_F   15
; 28.242
; 28.243      /* Bit fields that signal you that a user has issued a break */
; 28.244      /* for example:	 if (SetSignal(0,0) & SIGBREAKF_CTRL_C) cleanup_and_exit(); */
; 28.245   0  #define SIGBREAKF_CTRL_C   (1<<SIGBREAKB_CTRL_C)
; 28.246   0  #define SIGBREAKF_CTRL_D   (1<<SIGBREAKB_CTRL_D)
; 28.247   0  #define SIGBREAKF_CTRL_E   (1<<SIGBREAKB_CTRL_E)
; 28.248   0  #define SIGBREAKF_CTRL_F   ((long)1<<SIGBREAKB_CTRL_F)
; 28.249
; 28.250      /* Values returned by SameLock() */
; 28.251   0  #define LOCK_DIFFERENT		-1
; 28.252   0  #define LOCK_SAME		0
; 28.253   0  #define LOCK_SAME_VOLUME	1	/* locks are on same volume */
; 28.254   0  #define LOCK_SAME_HANDLER	LOCK_SAME_VOLUME
; 28.255      /* LOCK_SAME_HANDLER was a misleading name, def kept for src compatibility */
; 28.256
; 28.257      /* types for ChangeMode() */
; 28.258   0  #define CHANGE_LOCK	0
; 28.259   0  #define CHANGE_FH	1
; 28.260
; 28.261      /* Values for MakeLink() */
; 28.262   0  #define LINK_HARD	0
; 28.263   0  #define LINK_SOFT	1	/* softlinks are not fully supported yet */
; 28.264
; 28.265      /* values returned by ReadItem */
; 28.266   0  #define	ITEM_EQUAL	-2		/* "=" Symbol */
; 28.267   0  #define ITEM_ERROR	-1		/* error */
; 28.268   0  #define ITEM_NOTHING	0		/* *N, ;, endstreamch */
; 28.269   0  #define ITEM_UNQUOTED	1		/* unquoted item */
; 28.270   0  #define ITEM_QUOTED	2		/* quoted item */

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 51


;Line#  Block                                  Source
; 28.271
; 28.272      /* types for AllocDosObject/FreeDosObject */
; 28.273   0  #define DOS_FILEHANDLE		0	/* few people should use this */
; 28.274   0  #define DOS_EXALLCONTROL	1	/* Must be used to allocate this! */
; 28.275   0  #define	DOS_FIB			2	/* useful */
; 28.276   0  #define DOS_STDPKT		3	/* for doing packet-level I/O */
; 28.277   0  #define DOS_CLI			4	/* for shell-writers, etc */
; 28.278   0  #define DOS_RDARGS		5	/* for ReadArgs if you pass it in */
; 28.279
; 28.280   0  #endif	/* DOS_DOS_H */
; 28.281
; 27.016   0  #endif
; 27.017   0  #ifndef  DOS_DOSEXTENS_H
; 27.018   0  #include <dos/dosextens.h>
;===> Including file "sc:include/dos/dosextens.h"
; 29.001   0  #ifndef DOS_DOSEXTENS_H
; 29.002   0  #define DOS_DOSEXTENS_H
; 29.003      /*
; 29.004      **	$VER: dosextens.h 36.41 (14.5.92)
; 29.005      **	Includes Release 40.13
; 29.006      **
; 29.007      **	DOS structures not needed for the casual AmigaDOS user
; 29.008      **
; 29.009      **	(C) Copyright 1985-1993 Commodore-Amiga, Inc.
; 29.010      **	    All Rights Reserved
; 29.011      */
; 29.012
; 29.013   0  #ifndef EXEC_TASKS_H
; 29.014      #include "exec/tasks.h"
; 29.015      #endif
; 29.016   0  #ifndef EXEC_PORTS_H
; 29.017      #include "exec/ports.h"
; 29.018      #endif
; 29.019   0  #ifndef EXEC_LIBRARIES_H
; 29.020   0  #include "exec/libraries.h"
;===> Including file "sc:include/exec/libraries.h"
; 30.001   0  #ifndef	EXEC_LIBRARIES_H
; 30.002   0  #define	EXEC_LIBRARIES_H
; 30.003      /*
; 30.004      **	$VER: libraries.h 39.2 (10.4.92)
; 30.005      **	Includes Release 40.13
; 30.006      **
; 30.007      **	Definitions for use when creating or using Exec libraries
; 30.008      **
; 30.009      **	(C) Copyright 1985-1993 Commodore-Amiga, Inc.
; 30.010      **	    All Rights Reserved
; 30.011      */
; 30.012
; 30.013   0  #ifndef EXEC_NODES_H
; 30.014      #include "exec/nodes.h"

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 52


;Line#  Block                                  Source
; 30.015      #endif /* EXEC_NODES_H */
; 30.016
; 30.017
; 30.018      /*------ Special Constants ---------------------------------------*/
; 30.019   0  #define LIB_VECTSIZE	6	/* Each library entry takes 6 bytes */
; 30.020   0  #define LIB_RESERVED	4	/* Exec reserves the first 4 vectors */
; 30.021   0  #define LIB_BASE	(-LIB_VECTSIZE)
; 30.022   0  #define LIB_USERDEF	(LIB_BASE-(LIB_RESERVED*LIB_VECTSIZE))
; 30.023   0  #define LIB_NONSTD	(LIB_USERDEF)
; 30.024
; 30.025      /*------ Standard Functions --------------------------------------*/
; 30.026   0  #define LIB_OPEN	(-6)
; 30.027   0  #define LIB_CLOSE	(-12)
; 30.028   0  #define LIB_EXPUNGE	(-18)
; 30.029   0  #define LIB_EXTFUNC	(-24)	/* for future expansion */
; 30.030
; 30.031
; 30.032      /*------ Library Base Structure ----------------------------------*/
; 30.033      /* Also used for Devices and some Resources */
; 30.034   0  struct Library {
; 30.035   0      struct  Node lib_Node;
; 30.036   0      UBYTE   lib_Flags;
; 30.037   0      UBYTE   lib_pad;
; 30.038   0      UWORD   lib_NegSize;	    /* number of bytes before library */
; 30.039   0      UWORD   lib_PosSize;	    /* number of bytes after library */
; 30.040   0      UWORD   lib_Version;	    /* major */
; 30.041   0      UWORD   lib_Revision;	    /* minor */
; 30.042   0      APTR    lib_IdString;	    /* ASCII identification */
; 30.043   0      ULONG   lib_Sum;		    /* the checksum itself */
; 30.044   0      UWORD   lib_OpenCnt;	    /* number of current opens */
; 30.045   0  };	/* Warning: size is not a longword multiple! */
; 30.046
; 30.047      /* lib_Flags bit definitions (all others are system reserved) */
; 30.048   0  #define LIBF_SUMMING	(1<<0)	    /* we are currently checksumming */
; 30.049   0  #define LIBF_CHANGED	(1<<1)	    /* we have just changed the lib */
; 30.050   0  #define LIBF_SUMUSED	(1<<2)	    /* set if we should bother to sum */
; 30.051   0  #define LIBF_DELEXP	(1<<3)	    /* delayed expunge */
; 30.052
; 30.053
; 30.054      /* Temporary Compatibility */
; 30.055   0  #define lh_Node	lib_Node
; 30.056   0  #define lh_Flags	lib_Flags
; 30.057   0  #define lh_pad		lib_pad
; 30.058   0  #define lh_NegSize	lib_NegSize
; 30.059   0  #define lh_PosSize	lib_PosSize
; 30.060   0  #define lh_Version	lib_Version
; 30.061   0  #define lh_Revision	lib_Revision
; 30.062   0  #define lh_IdString	lib_IdString
; 30.063   0  #define lh_Sum		lib_Sum
; 30.064   0  #define lh_OpenCnt	lib_OpenCnt

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 53


;Line#  Block                                  Source
; 30.065
; 30.066   0  #endif	/* EXEC_LIBRARIES_H */
; 29.021   0  #endif
; 29.022   0  #ifndef EXEC_SEMAPHORES_H
; 29.023   0  #include "exec/semaphores.h"
;===> Including file "sc:include/exec/semaphores.h"
; 31.001   0  #ifndef	EXEC_SEMAPHORES_H
; 31.002   0  #define	EXEC_SEMAPHORES_H
; 31.003      /*
; 31.004      **	$VER: semaphores.h 39.1 (7.2.92)
; 31.005      **	Includes Release 40.13
; 31.006      **
; 31.007      **	Definitions for locking functions.
; 31.008      **
; 31.009      **	(C) Copyright 1986-1993 Commodore-Amiga, Inc.
; 31.010      **	    All Rights Reserved
; 31.011      */
; 31.012
; 31.013   0  #ifndef EXEC_NODES_H
; 31.014      #include "exec/nodes.h"
; 31.015      #endif /* EXEC_NODES_H */
; 31.016
; 31.017   0  #ifndef EXEC_LISTS_H
; 31.018      #include "exec/lists.h"
; 31.019      #endif /* EXEC_LISTS_H */
; 31.020
; 31.021   0  #ifndef EXEC_PORTS_H
; 31.022      #include "exec/ports.h"
; 31.023      #endif /* EXEC_PORTS_H */
; 31.024
; 31.025   0  #ifndef EXEC_TASKS_H
; 31.026      #include "exec/tasks.h"
; 31.027      #endif /* EXEC_TASKS_H */
; 31.028
; 31.029
; 31.030      /****** SignalSemaphore *********************************************/
; 31.031
; 31.032      /* Private structure used by ObtainSemaphore() */
; 31.033   0  struct SemaphoreRequest
; 31.034   0  {
; 31.035   0  struct	MinNode	sr_Link;
; 31.036   0  struct	Task	*sr_Waiter;
; 31.037   0  };
; 31.038
; 31.039      /* Signal Semaphore data structure */
; 31.040   0  struct SignalSemaphore
; 31.041   0  {
; 31.042   0  struct	Node			ss_Link;
; 31.043   0  	WORD			ss_NestCount;
; 31.044   0  struct	MinList			ss_WaitQueue;

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 54


;Line#  Block                                  Source
; 31.045   0  struct	SemaphoreRequest	ss_MultipleLink;
; 31.046   0  struct	Task			*ss_Owner;
; 31.047   0  	WORD			ss_QueueCount;
; 31.048   0  };
; 31.049
; 31.050      /****** Semaphore procure message (for use in V39 Procure/Vacate ****/
; 31.051   0  struct SemaphoreMessage
; 31.052   0  {
; 31.053   0  struct	Message		ssm_Message;
; 31.054   0  struct	SignalSemaphore	*ssm_Semaphore;
; 31.055   0  };
; 31.056
; 31.057   0  #define	SM_SHARED	(1L)
; 31.058   0  #define	SM_EXCLUSIVE	(0L)
; 31.059
; 31.060      /****** Semaphore (Old Procure/Vacate type, not reliable) ***********/
; 31.061
; 31.062   0  struct Semaphore	/* Do not use these semaphores! */
; 31.063   0  {
; 31.064   0  struct	MsgPort	sm_MsgPort;
; 31.065   0  	WORD	sm_Bids;
; 31.066   0  };
; 31.067
; 31.068   0  #define sm_LockMsg	mp_SigTask
; 31.069
; 31.070
; 31.071   0  #endif	/* EXEC_SEMAPHORES_H */
; 29.024   0  #endif
; 29.025   0  #ifndef DEVICES_TIMER_H
; 29.026      #include "devices/timer.h"
; 29.027      #endif
; 29.028
; 29.029   0  #ifndef DOS_DOS_H
; 29.030      #include "dos/dos.h"
; 29.031      #endif
; 29.032
; 29.033      /* All DOS processes have this structure */
; 29.034      /* Create and Device Proc returns pointer to the MsgPort in this structure */
; 29.035      /* dev_proc = (struct Process *) (DeviceProc(..) - sizeof(struct Task)); */
; 29.036
; 29.037   0  struct Process {
; 29.038   0      struct  Task    pr_Task;
; 29.039   0      struct  MsgPort pr_MsgPort; /* This is BPTR address from DOS functions  */
; 29.040   0      WORD    pr_Pad;		/* Remaining variables on 4 byte boundaries */
; 29.041   0      BPTR    pr_SegList;		/* Array of seg lists used by this process  */
; 29.042   0      LONG    pr_StackSize;	/* Size of process stack in bytes	    */
; 29.043   0      APTR    pr_GlobVec;		/* Global vector for this process (BCPL)    */
; 29.044   0      LONG    pr_TaskNum;		/* CLI task number of zero if not a CLI	    */
; 29.045   0      BPTR    pr_StackBase;	/* Ptr to high memory end of process stack  */
; 29.046   0      LONG    pr_Result2;		/* Value of secondary result from last call */

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 55


;Line#  Block                                  Source
; 29.047   0      BPTR    pr_CurrentDir;	/* Lock associated with current directory   */
; 29.048   0      BPTR    pr_CIS;		/* Current CLI Input Stream		    */
; 29.049   0      BPTR    pr_COS;		/* Current CLI Output Stream		    */
; 29.050   0      APTR    pr_ConsoleTask;	/* Console handler process for current window*/
; 29.051   0      APTR    pr_FileSystemTask;	/* File handler process for current drive   */
; 29.052   0      BPTR    pr_CLI;		/* pointer to CommandLineInterface	    */
; 29.053   0      APTR    pr_ReturnAddr;	/* pointer to previous stack frame	    */
; 29.054   0      APTR    pr_PktWait;		/* Function to be called when awaiting msg  */
; 29.055   0      APTR    pr_WindowPtr;	/* Window for error printing		    */
; 29.056
; 29.057          /* following definitions are new with 2.0 */
; 29.058   0      BPTR    pr_HomeDir;		/* Home directory of executing program	    */
; 29.059   0      LONG    pr_Flags;		/* flags telling dos about process	    */
; 29.060   0      void    (*pr_ExitCode)();	/* code to call on exit of program or NULL  */
; 29.061   0      LONG    pr_ExitData;	/* Passed as an argument to pr_ExitCode.    */
; 29.062   0      UBYTE   *pr_Arguments;	/* Arguments passed to the process at start */
; 29.063   0      struct MinList pr_LocalVars; /* Local environment variables		    */
; 29.064   0      ULONG   pr_ShellPrivate;	/* for the use of the current shell	    */
; 29.065   0      BPTR    pr_CES;		/* Error stream - if NULL, use pr_COS	    */
; 29.066   0  };  /* Process */
; 29.067
; 29.068      /*
; 29.069       * Flags for pr_Flags
; 29.070       */
; 29.071   0  #define	PRB_FREESEGLIST		0
; 29.072   0  #define	PRF_FREESEGLIST		1
; 29.073   0  #define	PRB_FREECURRDIR		1
; 29.074   0  #define	PRF_FREECURRDIR		2
; 29.075   0  #define	PRB_FREECLI		2
; 29.076   0  #define	PRF_FREECLI		4
; 29.077   0  #define	PRB_CLOSEINPUT		3
; 29.078   0  #define	PRF_CLOSEINPUT		8
; 29.079   0  #define	PRB_CLOSEOUTPUT		4
; 29.080   0  #define	PRF_CLOSEOUTPUT		16
; 29.081   0  #define	PRB_FREEARGS		5
; 29.082   0  #define	PRF_FREEARGS		32
; 29.083
; 29.084      /* The long word address (BPTR) of this structure is returned by
; 29.085       * Open() and other routines that return a file.  You need only worry
; 29.086       * about this struct to do async io's via PutMsg() instead of
; 29.087       * standard file system calls */
; 29.088
; 29.089   0  struct FileHandle {
; 29.090   0     struct Message *fh_Link;	 /* EXEC message	      */
; 29.091   0     struct MsgPort *fh_Port;	 /* Reply port for the packet */
; 29.092   0     struct MsgPort *fh_Type;	 /* Port to do PutMsg() to
; 29.093   0  				  * Address is negative if a plain file */
; 29.094   0     LONG fh_Buf;
; 29.095   0     LONG fh_Pos;
; 29.096   0     LONG fh_End;

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 56


;Line#  Block                                  Source
; 29.097   0     LONG fh_Funcs;
; 29.098   0  #define fh_Func1 fh_Funcs
; 29.099   0     LONG fh_Func2;
; 29.100   0     LONG fh_Func3;
; 29.101   0     LONG fh_Args;
; 29.102   0  #define fh_Arg1 fh_Args
; 29.103   0     LONG fh_Arg2;
; 29.104   0  }; /* FileHandle */
; 29.105
; 29.106      /* This is the extension to EXEC Messages used by DOS */
; 29.107
; 29.108   0  struct DosPacket {
; 29.109   0     struct Message *dp_Link;	 /* EXEC message	      */
; 29.110   0     struct MsgPort *dp_Port;	 /* Reply port for the packet */
; 29.111      				 /* Must be filled in each send. */
; 29.112   0     LONG dp_Type;		 /* See ACTION_... below and
; 29.113   0  				  * 'R' means Read, 'W' means Write to the
; 29.114   0  				  * file system */
; 29.115   0     LONG dp_Res1;		 /* For file system calls this is the result
; 29.116   0  				  * that would have been returned by the
; 29.117   0  				  * function, e.g. Write ('W') returns actual
; 29.118   0  				  * length written */
; 29.119   0     LONG dp_Res2;		 /* For file system calls this is what would
; 29.120   0  				  * have been returned by IoErr() */
; 29.121      /*  Device packets common equivalents */
; 29.122   0  #define dp_Action  dp_Type
; 29.123   0  #define dp_Status  dp_Res1
; 29.124   0  #define dp_Status2 dp_Res2
; 29.125   0  #define dp_BufAddr dp_Arg1
; 29.126   0     LONG dp_Arg1;
; 29.127   0     LONG dp_Arg2;
; 29.128   0     LONG dp_Arg3;
; 29.129   0     LONG dp_Arg4;
; 29.130   0     LONG dp_Arg5;
; 29.131   0     LONG dp_Arg6;
; 29.132   0     LONG dp_Arg7;
; 29.133   0  }; /* DosPacket */
; 29.134
; 29.135      /* A Packet does not require the Message to be before it in memory, but
; 29.136       * for convenience it is useful to associate the two.
; 29.137       * Also see the function init_std_pkt for initializing this structure */
; 29.138
; 29.139   0  struct StandardPacket {
; 29.140   0     struct Message   sp_Msg;
; 29.141   0     struct DosPacket sp_Pkt;
; 29.142   0  }; /* StandardPacket */
; 29.143
; 29.144      /* Packet types */
; 29.145   0  #define ACTION_NIL		0
; 29.146   0  #define ACTION_STARTUP		0

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 57


;Line#  Block                                  Source
; 29.147   0  #define ACTION_GET_BLOCK	2	/* OBSOLETE */
; 29.148   0  #define ACTION_SET_MAP		4
; 29.149   0  #define ACTION_DIE		5
; 29.150   0  #define ACTION_EVENT		6
; 29.151   0  #define ACTION_CURRENT_VOLUME	7
; 29.152   0  #define ACTION_LOCATE_OBJECT	8
; 29.153   0  #define ACTION_RENAME_DISK	9
; 29.154   0  #define ACTION_WRITE		'W'
; 29.155   0  #define ACTION_READ		'R'
; 29.156   0  #define ACTION_FREE_LOCK	15
; 29.157   0  #define ACTION_DELETE_OBJECT	16
; 29.158   0  #define ACTION_RENAME_OBJECT	17
; 29.159   0  #define ACTION_MORE_CACHE	18
; 29.160   0  #define ACTION_COPY_DIR		19
; 29.161   0  #define ACTION_WAIT_CHAR	20
; 29.162   0  #define ACTION_SET_PROTECT	21
; 29.163   0  #define ACTION_CREATE_DIR	22
; 29.164   0  #define ACTION_EXAMINE_OBJECT	23
; 29.165   0  #define ACTION_EXAMINE_NEXT	24
; 29.166   0  #define ACTION_DISK_INFO	25
; 29.167   0  #define ACTION_INFO		26
; 29.168   0  #define ACTION_FLUSH		27
; 29.169   0  #define ACTION_SET_COMMENT	28
; 29.170   0  #define ACTION_PARENT		29
; 29.171   0  #define ACTION_TIMER		30
; 29.172   0  #define ACTION_INHIBIT		31
; 29.173   0  #define ACTION_DISK_TYPE	32
; 29.174   0  #define ACTION_DISK_CHANGE	33
; 29.175   0  #define ACTION_SET_DATE		34
; 29.176
; 29.177   0  #define ACTION_SCREEN_MODE	994
; 29.178
; 29.179   0  #define ACTION_READ_RETURN	1001
; 29.180   0  #define ACTION_WRITE_RETURN	1002
; 29.181   0  #define ACTION_SEEK		1008
; 29.182   0  #define ACTION_FINDUPDATE	1004
; 29.183   0  #define ACTION_FINDINPUT	1005
; 29.184   0  #define ACTION_FINDOUTPUT	1006
; 29.185   0  #define ACTION_END		1007
; 29.186   0  #define ACTION_SET_FILE_SIZE	1022	/* fast file system only in 1.3 */
; 29.187   0  #define ACTION_WRITE_PROTECT	1023	/* fast file system only in 1.3 */
; 29.188
; 29.189      /* new 2.0 packets */
; 29.190   0  #define ACTION_SAME_LOCK	40
; 29.191   0  #define ACTION_CHANGE_SIGNAL	995
; 29.192   0  #define ACTION_FORMAT		1020
; 29.193   0  #define ACTION_MAKE_LINK	1021
; 29.194      /**/
; 29.195      /**/
; 29.196   0  #define ACTION_READ_LINK	1024

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 58


;Line#  Block                                  Source
; 29.197   0  #define ACTION_FH_FROM_LOCK	1026
; 29.198   0  #define ACTION_IS_FILESYSTEM	1027
; 29.199   0  #define ACTION_CHANGE_MODE	1028
; 29.200      /**/
; 29.201   0  #define ACTION_COPY_DIR_FH	1030
; 29.202   0  #define ACTION_PARENT_FH	1031
; 29.203   0  #define ACTION_EXAMINE_ALL	1033
; 29.204   0  #define ACTION_EXAMINE_FH	1034
; 29.205
; 29.206   0  #define ACTION_LOCK_RECORD	2008
; 29.207   0  #define ACTION_FREE_RECORD	2009
; 29.208
; 29.209   0  #define ACTION_ADD_NOTIFY	4097
; 29.210   0  #define ACTION_REMOVE_NOTIFY	4098
; 29.211
; 29.212      /* Added in V39: */
; 29.213   0  #define ACTION_EXAMINE_ALL_END	1035
; 29.214   0  #define ACTION_SET_OWNER	1036
; 29.215
; 29.216      /* Tell a file system to serialize the current volume. This is typically
; 29.217       * done by changing the creation date of the disk. This packet does not take
; 29.218       * any arguments.  NOTE: be prepared to handle failure of this packet for
; 29.219       * V37 ROM filesystems.
; 29.220       */
; 29.221   0  #define	ACTION_SERIALIZE_DISK	4200
; 29.222
; 29.223      /*
; 29.224       * A structure for holding error messages - stored as array with error == 0
; 29.225       * for the last entry.
; 29.226       */
; 29.227   0  struct ErrorString {
; 29.228   0  	LONG  *estr_Nums;
; 29.229   0  	UBYTE *estr_Strings;
; 29.230   0  };
; 29.231
; 29.232      /* DOS library node structure.
; 29.233       * This is the data at positive offsets from the library node.
; 29.234       * Negative offsets from the node is the jump table to DOS functions
; 29.235       * node = (struct DosLibrary *) OpenLibrary( "dos.library" .. )	     */
; 29.236
; 29.237   0  struct DosLibrary {
; 29.238   0      struct Library dl_lib;
; 29.239   0      struct RootNode *dl_Root; /* Pointer to RootNode, described below */
; 29.240   0      APTR    dl_GV;	      /* Pointer to BCPL global vector	      */
; 29.241   0      LONG    dl_A2;	      /* BCPL standard register values	      */
; 29.242   0      LONG    dl_A5;
; 29.243   0      LONG    dl_A6;
; 29.244   0      struct ErrorString *dl_Errors;	  /* PRIVATE pointer to array of error msgs *
;       ..... /
; 29.245   0      struct timerequest *dl_TimeReq;	  /* PRIVATE pointer to timer request */

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 59


;Line#  Block                                  Source
; 29.246   0      struct Library     *dl_UtilityBase;   /* PRIVATE ptr to utility library */
; 29.247   0      struct Library     *dl_IntuitionBase; /* PRIVATE ptr to intuition library */
; 29.248   0  };  /*	DosLibrary */
; 29.249
; 29.250      /*			       */
; 29.251
; 29.252   0  struct RootNode {
; 29.253   0      BPTR    rn_TaskArray;	     /* [0] is max number of CLI's
; 29.254   0  				      * [1] is APTR to process id of CLI 1
; 29.255   0  				      * [n] is APTR to process id of CLI n */
; 29.256   0      BPTR    rn_ConsoleSegment; /* SegList for the CLI			   */
; 29.257   0      struct  DateStamp rn_Time; /* Current time				   */
; 29.258   0      LONG    rn_RestartSeg;     /* SegList for the disk validator process   */
; 29.259   0      BPTR    rn_Info;	       /* Pointer to the Info structure		   */
; 29.260   0      BPTR    rn_FileHandlerSegment; /* segment for a file handler	   */
; 29.261   0      struct MinList rn_CliList; /* new list of all CLI processes */
; 29.262      			       /* the first cpl_Array is also rn_TaskArray */
; 29.263   0      struct MsgPort *rn_BootProc; /* private ptr to msgport of boot fs	   */
; 29.264   0      BPTR    rn_ShellSegment;   /* seglist for Shell (for NewShell)	   */
; 29.265   0      LONG    rn_Flags;	       /* dos flags */
; 29.266   0  };  /* RootNode */
; 29.267
; 29.268   0  #define RNB_WILDSTAR	24
; 29.269   0  #define RNF_WILDSTAR	(1L<<24)
; 29.270   0  #define RNB_PRIVATE1	1	/* private for dos */
; 29.271   0  #define RNF_PRIVATE1	2
; 29.272
; 29.273      /* ONLY to be allocated by DOS! */
; 29.274   0  struct CliProcList {
; 29.275   0  	struct MinNode cpl_Node;
; 29.276   0  	LONG cpl_First;	     /* number of first entry in array */
; 29.277   0  	struct MsgPort **cpl_Array;
; 29.278      			     /* [0] is max number of CLI's in this entry (n)
; 29.279      			      * [1] is CPTR to process id of CLI cpl_First
; 29.280      			      * [n] is CPTR to process id of CLI cpl_First+n-1
; 29.281      			      */
; 29.282   0  };
; 29.283
; 29.284   0  struct DosInfo {
; 29.285   0      BPTR    di_McName;	       /* PRIVATE: system resident module list	    */
; 29.286   0  #define di_ResList di_McName
; 29.287   0      BPTR    di_DevInfo;	       /* Device List				    */
; 29.288   0      BPTR    di_Devices;	       /* Currently zero			    */
; 29.289   0      BPTR    di_Handlers;       /* Currently zero			    */
; 29.290   0      APTR    di_NetHand;	       /* Network handler processid; currently zero */
; 29.291   0      struct  SignalSemaphore di_DevLock;	   /* do NOT access directly! */
; 29.292   0      struct  SignalSemaphore di_EntryLock;  /* do NOT access directly! */
; 29.293   0      struct  SignalSemaphore di_DeleteLock; /* do NOT access directly! */
; 29.294   0  };  /* DosInfo */
; 29.295

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 60


;Line#  Block                                  Source
; 29.296      /* structure for the Dos resident list.  Do NOT allocate these, use	  */
; 29.297      /* AddSegment(), and heed the warnings in the autodocs!			  */
; 29.298
; 29.299   0  struct Segment {
; 29.300   0  	BPTR seg_Next;
; 29.301   0  	LONG seg_UC;
; 29.302   0  	BPTR seg_Seg;
; 29.303   0  	UBYTE seg_Name[4];	/* actually the first 4 chars of BSTR name */
; 29.304   0  };
; 29.305
; 29.306   0  #define CMD_SYSTEM	-1
; 29.307   0  #define CMD_INTERNAL	-2
; 29.308   0  #define CMD_DISABLED	-999
; 29.309
; 29.310
; 29.311      /* DOS Processes started from the CLI via RUN or NEWCLI have this additional
; 29.312       * set to data associated with them */
; 29.313
; 29.314   0  struct CommandLineInterface {
; 29.315   0      LONG   cli_Result2;	       /* Value of IoErr from last command	  */
; 29.316   0      BSTR   cli_SetName;	       /* Name of current directory		  */
; 29.317   0      BPTR   cli_CommandDir;     /* Head of the path locklist		  */
; 29.318   0      LONG   cli_ReturnCode;     /* Return code from last command		  */
; 29.319   0      BSTR   cli_CommandName;    /* Name of current command		  */
; 29.320   0      LONG   cli_FailLevel;      /* Fail level (set by FAILAT)		  */
; 29.321   0      BSTR   cli_Prompt;	       /* Current prompt (set by PROMPT)	  */
; 29.322   0      BPTR   cli_StandardInput;  /* Default (terminal) CLI input		  */
; 29.323   0      BPTR   cli_CurrentInput;   /* Current CLI input			  */
; 29.324   0      BSTR   cli_CommandFile;    /* Name of EXECUTE command file		  */
; 29.325   0      LONG   cli_Interactive;    /* Boolean; True if prompts required	  */
; 29.326   0      LONG   cli_Background;     /* Boolean; True if CLI created by RUN	  */
; 29.327   0      BPTR   cli_CurrentOutput;  /* Current CLI output			  */
; 29.328   0      LONG   cli_DefaultStack;   /* Stack size to be obtained in long words */
; 29.329   0      BPTR   cli_StandardOutput; /* Default (terminal) CLI output		  */
; 29.330   0      BPTR   cli_Module;	       /* SegList of currently loaded command	  */
; 29.331   0  };  /* CommandLineInterface */
; 29.332
; 29.333      /* This structure can take on different values depending on whether it is
; 29.334       * a device, an assigned directory, or a volume.  Below is the structure
; 29.335       * reflecting volumes only.  Following that is the structure representing
; 29.336       * only devices. Following that is the unioned structure representing all
; 29.337       * the values
; 29.338       */
; 29.339
; 29.340      /* structure representing a volume */
; 29.341
; 29.342   0  struct DeviceList {
; 29.343   0      BPTR		dl_Next;	/* bptr to next device list */
; 29.344   0      LONG		dl_Type;	/* see DLT below */
; 29.345   0      struct MsgPort *	dl_Task;	/* ptr to handler task */

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 61


;Line#  Block                                  Source
; 29.346   0      BPTR		dl_Lock;	/* not for volumes */
; 29.347   0      struct DateStamp	dl_VolumeDate;	/* creation date */
; 29.348   0      BPTR		dl_LockList;	/* outstanding locks */
; 29.349   0      LONG		dl_DiskType;	/* 'DOS', etc */
; 29.350   0      LONG		dl_unused;
; 29.351   0      BSTR		dl_Name;	/* bptr to bcpl name */
; 29.352   0  };
; 29.353
; 29.354      /* device structure (same as the DeviceNode structure in filehandler.h) */
; 29.355
; 29.356   0  struct	      DevInfo {
; 29.357   0      BPTR  dvi_Next;
; 29.358   0      LONG  dvi_Type;
; 29.359   0      APTR  dvi_Task;
; 29.360   0      BPTR  dvi_Lock;
; 29.361   0      BSTR  dvi_Handler;
; 29.362   0      LONG  dvi_StackSize;
; 29.363   0      LONG  dvi_Priority;
; 29.364   0      LONG  dvi_Startup;
; 29.365   0      BPTR  dvi_SegList;
; 29.366   0      BPTR  dvi_GlobVec;
; 29.367   0      BSTR  dvi_Name;
; 29.368   0  };
; 29.369
; 29.370      /* combined structure for devices, assigned directories, volumes */
; 29.371
; 29.372   0  struct DosList {
; 29.373   0      BPTR		dol_Next;	 /* bptr to next device on list */
; 29.374   0      LONG		dol_Type;	 /* see DLT below */
; 29.375   0      struct MsgPort     *dol_Task;	 /* ptr to handler task */
; 29.376   0      BPTR		dol_Lock;
; 29.377   0      union {
; 29.378   0  	struct {
; 29.379   0  	BSTR	dol_Handler;	/* file name to load if seglist is null */
; 29.380   0  	LONG	dol_StackSize;	/* stacksize to use when starting process */
; 29.381   0  	LONG	dol_Priority;	/* task priority when starting process */
; 29.382   0  	ULONG	dol_Startup;	/* startup msg: FileSysStartupMsg for disks */
; 29.383   0  	BPTR	dol_SegList;	/* already loaded code for new task */
; 29.384   0  	BPTR	dol_GlobVec;	/* BCPL global vector to use when starting
; 29.385   0  				 * a process. -1 indicates a C/Assembler
; 29.386   0  				 * program. */
; 29.387   0  	} dol_handler;
; 29.388
; 29.389   0  	struct {
; 29.390   0  	struct DateStamp	dol_VolumeDate;	 /* creation date */
; 29.391   0  	BPTR			dol_LockList;	 /* outstanding locks */
; 29.392   0  	LONG			dol_DiskType;	 /* 'DOS', etc */
; 29.393   0  	} dol_volume;
; 29.394
; 29.395   0  	struct {

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 62


;Line#  Block                                  Source
; 29.396   0  	UBYTE	*dol_AssignName;     /* name for non-or-late-binding assign */
; 29.397   0  	struct AssignList *dol_List; /* for multi-directory assigns (regular) */
; 29.398   0  	} dol_assign;
; 29.399
; 29.400   0      } dol_misc;
; 29.401
; 29.402   0      BSTR		dol_Name;	 /* bptr to bcpl name */
; 29.403   0      };
; 29.404
; 29.405      /* structure used for multi-directory assigns. AllocVec()ed. */
; 29.406
; 29.407   0  struct AssignList {
; 29.408   0  	struct AssignList *al_Next;
; 29.409   0  	BPTR		   al_Lock;
; 29.410   0  };
; 29.411
; 29.412      /* definitions for dl_Type */
; 29.413   0  #define DLT_DEVICE	0
; 29.414   0  #define DLT_DIRECTORY	1	/* assign */
; 29.415   0  #define DLT_VOLUME	2
; 29.416   0  #define DLT_LATE	3	/* late-binding assign */
; 29.417   0  #define DLT_NONBINDING	4	/* non-binding assign */
; 29.418   0  #define DLT_PRIVATE	-1	/* for internal use only */
; 29.419
; 29.420      /* structure return by GetDeviceProc() */
; 29.421   0  struct DevProc {
; 29.422   0  	struct MsgPort *dvp_Port;
; 29.423   0  	BPTR		dvp_Lock;
; 29.424   0  	ULONG		dvp_Flags;
; 29.425   0  	struct DosList *dvp_DevNode;	/* DON'T TOUCH OR USE! */
; 29.426   0  };
; 29.427
; 29.428      /* definitions for dvp_Flags */
; 29.429   0  #define DVPB_UNLOCK	0
; 29.430   0  #define DVPF_UNLOCK	(1L << DVPB_UNLOCK)
; 29.431   0  #define DVPB_ASSIGN	1
; 29.432   0  #define DVPF_ASSIGN	(1L << DVPB_ASSIGN)
; 29.433
; 29.434      /* Flags to be passed to LockDosList(), etc */
; 29.435   0  #define LDB_DEVICES	2
; 29.436   0  #define LDF_DEVICES	(1L << LDB_DEVICES)
; 29.437   0  #define LDB_VOLUMES	3
; 29.438   0  #define LDF_VOLUMES	(1L << LDB_VOLUMES)
; 29.439   0  #define LDB_ASSIGNS	4
; 29.440   0  #define LDF_ASSIGNS	(1L << LDB_ASSIGNS)
; 29.441   0  #define LDB_ENTRY	5
; 29.442   0  #define LDF_ENTRY	(1L << LDB_ENTRY)
; 29.443   0  #define LDB_DELETE	6
; 29.444   0  #define LDF_DELETE	(1L << LDB_DELETE)
; 29.445

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 63


;Line#  Block                                  Source
; 29.446      /* you MUST specify one of LDF_READ or LDF_WRITE */
; 29.447   0  #define LDB_READ	0
; 29.448   0  #define LDF_READ	(1L << LDB_READ)
; 29.449   0  #define LDB_WRITE	1
; 29.450   0  #define LDF_WRITE	(1L << LDB_WRITE)
; 29.451
; 29.452      /* actually all but LDF_ENTRY (which is used for internal locking) */
; 29.453   0  #define LDF_ALL		(LDF_DEVICES|LDF_VOLUMES|LDF_ASSIGNS)
; 29.454
; 29.455      /* a lock structure, as returned by Lock() or DupLock() */
; 29.456   0  struct FileLock {
; 29.457   0      BPTR		fl_Link;	/* bcpl pointer to next lock */
; 29.458   0      LONG		fl_Key;		/* disk block number */
; 29.459   0      LONG		fl_Access;	/* exclusive or shared */
; 29.460   0      struct MsgPort *	fl_Task;	/* handler task's port */
; 29.461   0      BPTR		fl_Volume;	/* bptr to DLT_VOLUME DosList entry */
; 29.462   0  };
; 29.463
; 29.464      /* error report types for ErrorReport() */
; 29.465   0  #define REPORT_STREAM		0	/* a stream */
; 29.466   0  #define REPORT_TASK		1	/* a process - unused */
; 29.467   0  #define REPORT_LOCK		2	/* a lock */
; 29.468   0  #define REPORT_VOLUME		3	/* a volume node */
; 29.469   0  #define REPORT_INSERT		4	/* please insert volume */
; 29.470
; 29.471      /* Special error codes for ErrorReport() */
; 29.472   0  #define ABORT_DISK_ERROR	296	/* Read/write error */
; 29.473   0  #define ABORT_BUSY		288	/* You MUST replace... */
; 29.474
; 29.475      /* types for initial packets to shells from run/newcli/execute/system. */
; 29.476      /* For shell-writers only */
; 29.477   0  #define RUN_EXECUTE		-1
; 29.478   0  #define RUN_SYSTEM		-2
; 29.479   0  #define RUN_SYSTEM_ASYNCH	-3
; 29.480
; 29.481      /* Types for fib_DirEntryType.	NOTE that both USERDIR and ROOT are	 */
; 29.482      /* directories, and that directory/file checks should use <0 and >=0.	 */
; 29.483      /* This is not necessarily exhaustive!	Some handlers may use other	 */
; 29.484      /* values as needed, though <0 and >=0 should remain as supported as	 */
; 29.485      /* possible.								 */
; 29.486   0  #define ST_ROOT		1
; 29.487   0  #define ST_USERDIR	2
; 29.488   0  #define ST_SOFTLINK	3	/* looks like dir, but may point to a file! */
; 29.489   0  #define ST_LINKDIR	4	/* hard link to dir */
; 29.490   0  #define ST_FILE		-3	/* must be negative for FIB! */
; 29.491   0  #define ST_LINKFILE	-4	/* hard link to file */
; 29.492   0  #define ST_PIPEFILE	-5	/* for pipes that support ExamineFH */
; 29.493
; 29.494   0  #endif	/* DOS_DOSEXTENS_H */
; 27.019   0  #endif

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 64


;Line#  Block                                  Source
; 27.020   0  #ifndef  DOS_RECORD_H
; 27.021   0  #include <dos/record.h>
;===> Including file "sc:include/dos/record.h"
; 32.001   0  #ifndef DOS_RECORD_H
; 32.002   0  #define DOS_RECORD_H
; 32.003      /*
; 32.004      **
; 32.005      **	$VER: record.h 36.5 (12.7.90)
; 32.006      **	Includes Release 40.13
; 32.007      **
; 32.008      **	include file for record locking
; 32.009      **
; 32.010      **	(C) Copyright 1989-1993 Commodore-Amiga, Inc.
; 32.011      **	    All Rights Reserved
; 32.012      **
; 32.013      */
; 32.014
; 32.015   0  #ifndef DOS_DOS_H
; 32.016      #include "dos/dos.h"
; 32.017      #endif
; 32.018
; 32.019      /* Modes for LockRecord/LockRecords() */
; 32.020   0  #define REC_EXCLUSIVE		0
; 32.021   0  #define REC_EXCLUSIVE_IMMED	1
; 32.022   0  #define REC_SHARED		2
; 32.023   0  #define REC_SHARED_IMMED	3
; 32.024
; 32.025      /* struct to be passed to LockRecords()/UnLockRecords() */
; 32.026
; 32.027   0  struct RecordLock {
; 32.028   0  	BPTR	rec_FH;		/* filehandle */
; 32.029   0  	ULONG	rec_Offset;	/* offset in file */
; 32.030   0  	ULONG	rec_Length;	/* length of file to be locked */
; 32.031   0  	ULONG	rec_Mode;	/* Type of lock */
; 32.032   0  };
; 32.033
; 32.034   0  #endif /* DOS_RECORD_H */
; 27.022   0  #endif
; 27.023   0  #ifndef  DOS_RDARGS_H
; 27.024   0  #include <dos/rdargs.h>
;===> Including file "sc:include/dos/rdargs.h"
; 33.001   0  #ifndef DOS_RDARGS_H
; 33.002   0  #define DOS_RDARGS_H
; 33.003      /*
; 33.004      **
; 33.005      **	$VER: rdargs.h 36.6 (12.7.90)
; 33.006      **	Includes Release 40.13
; 33.007      **
; 33.008      **	ReadArgs() structure definitions
; 33.009      **

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 65


;Line#  Block                                  Source
; 33.010      **	(C) Copyright 1989-1993 Commodore-Amiga, Inc.
; 33.011      **	    All Rights Reserved
; 33.012      **
; 33.013      */
; 33.014
; 33.015   0  #ifndef EXEC_TYPES_H
; 33.016      #include "exec/types.h"
; 33.017      #endif
; 33.018
; 33.019   0  #ifndef EXEC_NODES_H
; 33.020      #include "exec/nodes.h"
; 33.021      #endif
; 33.022
; 33.023      /**********************************************************************
; 33.024       *
; 33.025       * The CSource data structure defines the input source for "ReadItem()"
; 33.026       * as well as the ReadArgs call.  It is a publicly defined structure
; 33.027       * which may be used by applications which use code that follows the
; 33.028       * conventions defined for access.
; 33.029       *
; 33.030       * When passed to the dos.library functions, the value passed as
; 33.031       * struct *CSource is defined as follows:
; 33.032       *	if ( CSource == 0)	Use buffered IO "ReadChar()" as data source
; 33.033       *	else			Use CSource for input character stream
; 33.034       *
; 33.035       * The following two pseudo-code routines define how the CSource structure
; 33.036       * is used:
; 33.037       *
; 33.038       * long CS_ReadChar( struct CSource *CSource )
; 33.039       * {
; 33.040       *	if ( CSource == 0 )	return ReadChar();
; 33.041       *	if ( CSource->CurChr >= CSource->Length )	return ENDSTREAMCHAR;
; 33.042       *	return CSource->Buffer[ CSource->CurChr++ ];
; 33.043       * }
; 33.044       *
; 33.045       * BOOL CS_UnReadChar( struct CSource *CSource )
; 33.046       * {
; 33.047       *	if ( CSource == 0 )	return UnReadChar();
; 33.048       *	if ( CSource->CurChr <= 0 )	return FALSE;
; 33.049       *	CSource->CurChr--;
; 33.050       *	return TRUE;
; 33.051       * }
; 33.052       *
; 33.053       * To initialize a struct CSource, you set CSource->CS_Buffer to
; 33.054       * a string which is used as the data source, and set CS_Length to
; 33.055       * the number of characters in the string.  Normally CS_CurChr should
; 33.056       * be initialized to ZERO, or left as it was from prior use as
; 33.057       * a CSource.
; 33.058       *
; 33.059       **********************************************************************/

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 66


;Line#  Block                                  Source
; 33.060
; 33.061   0  struct CSource {
; 33.062   0  	UBYTE	*CS_Buffer;
; 33.063   0  	LONG	CS_Length;
; 33.064   0  	LONG	CS_CurChr;
; 33.065   0  };
; 33.066
; 33.067      /**********************************************************************
; 33.068       *
; 33.069       * The RDArgs data structure is the input parameter passed to the DOS
; 33.070       * ReadArgs() function call.
; 33.071       *
; 33.072       * The RDA_Source structure is a CSource as defined above;
; 33.073       * if RDA_Source.CS_Buffer is non-null, RDA_Source is used as the input
; 33.074       * character stream to parse, else the input comes from the buffered STDIN
; 33.075       * calls ReadChar/UnReadChar.
; 33.076       *
; 33.077       * RDA_DAList is a private address which is used internally to track
; 33.078       * allocations which are freed by FreeArgs().  This MUST be initialized
; 33.079       * to NULL prior to the first call to ReadArgs().
; 33.080       *
; 33.081       * The RDA_Buffer and RDA_BufSiz fields allow the application to supply
; 33.082       * a fixed-size buffer in which to store the parsed data.  This allows
; 33.083       * the application to pre-allocate a buffer rather than requiring buffer
; 33.084       * space to be allocated.  If either RDA_Buffer or RDA_BufSiz is NULL,
; 33.085       * the application has not supplied a buffer.
; 33.086       *
; 33.087       * RDA_ExtHelp is a text string which will be displayed instead of the
; 33.088       * template string, if the user is prompted for input.
; 33.089       *
; 33.090       * RDA_Flags bits control how ReadArgs() works.  The flag bits are
; 33.091       * defined below.  Defaults are initialized to ZERO.
; 33.092       *
; 33.093       **********************************************************************/
; 33.094
; 33.095   0  struct RDArgs {
; 33.096   0  	struct	CSource RDA_Source;	/* Select input source */
; 33.097   0  	LONG	RDA_DAList;		/* PRIVATE. */
; 33.098   0  	UBYTE	*RDA_Buffer;		/* Optional string parsing space. */
; 33.099   0  	LONG	RDA_BufSiz;		/* Size of RDA_Buffer (0..n) */
; 33.100   0  	UBYTE	*RDA_ExtHelp;		/* Optional extended help */
; 33.101   0  	LONG	RDA_Flags;		/* Flags for any required control */
; 33.102   0  };
; 33.103
; 33.104   0  #define RDAB_STDIN	0	/* Use "STDIN" rather than "COMMAND LINE" */
; 33.105   0  #define RDAF_STDIN	1
; 33.106   0  #define RDAB_NOALLOC	1	/* If set, do not allocate extra string space.*/
; 33.107   0  #define RDAF_NOALLOC	2
; 33.108   0  #define RDAB_NOPROMPT	2	/* Disable reprompting for string input. */
; 33.109   0  #define RDAF_NOPROMPT	4

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 67


;Line#  Block                                  Source
; 33.110
; 33.111      /**********************************************************************
; 33.112       * Maximum number of template keywords which can be in a template passed
; 33.113       * to ReadArgs(). IMPLEMENTOR NOTE - must be a multiple of 4.
; 33.114       **********************************************************************/
; 33.115   0  #define MAX_TEMPLATE_ITEMS	100
; 33.116
; 33.117      /**********************************************************************
; 33.118       * Maximum number of MULTIARG items returned by ReadArgs(), before
; 33.119       * an ERROR_LINE_TOO_LONG.  These two limitations are due to stack
; 33.120       * usage.  Applications should allow "a lot" of stack to use ReadArgs().
; 33.121       **********************************************************************/
; 33.122   0  #define MAX_MULTIARGS		128
; 33.123
; 33.124   0  #endif /* DOS_RDARGS_H */
; 27.025   0  #endif
; 27.026   0  #ifndef  DOS_DOSASL_H
; 27.027   0  #include <dos/dosasl.h>
;===> Including file "sc:include/dos/dosasl.h"
; 34.001   0  #ifndef DOS_DOSASL_H
; 34.002   0  #define DOS_DOSASL_H
; 34.003      /*
; 34.004      **
; 34.005      **	$VER: dosasl.h 36.16 (2.5.91)
; 34.006      **	Includes Release 40.13
; 34.007      **
; 34.008      **	Pattern-matching structure definitions
; 34.009      **
; 34.010      **	(C) Copyright 1989-1993 Commodore-Amiga, Inc.
; 34.011      **	    All Rights Reserved
; 34.012      **
; 34.013      */
; 34.014
; 34.015   0  #ifndef EXEC_LIBRARIES_H
; 34.016      #include <exec/libraries.h>
; 34.017      #endif
; 34.018
; 34.019   0  #ifndef EXEC_LISTS_H
; 34.020      #include <exec/lists.h>
; 34.021      #endif
; 34.022
; 34.023   0  #ifndef DOS_DOS_H
; 34.024      #include <dos/dos.h>
; 34.025      #endif
; 34.026
; 34.027
; 34.028      /***********************************************************************
; 34.029      ************************ PATTERN MATCHING ******************************
; 34.030      ************************************************************************
; 34.031

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 68


;Line#  Block                                  Source
; 34.032      * structure expected by MatchFirst, MatchNext.
; 34.033      * Allocate this structure and initialize it as follows:
; 34.034      *
; 34.035      * Set ap_BreakBits to the signal bits (CDEF) that you want to take a
; 34.036      * break on, or NULL, if you don't want to convenience the user.
; 34.037      *
; 34.038      * If you want to have the FULL PATH NAME of the files you found,
; 34.039      * allocate a buffer at the END of this structure, and put the size of
; 34.040      * it into ap_Strlen.  If you don't want the full path name, make sure
; 34.041      * you set ap_Strlen to zero.  In this case, the name of the file, and stats
; 34.042      * are available in the ap_Info, as per usual.
; 34.043      *
; 34.044      * Then call MatchFirst() and then afterwards, MatchNext() with this structure.
; 34.045      * You should check the return value each time (see below) and take the
; 34.046      * appropriate action, ultimately calling MatchEnd() when there are
; 34.047      * no more files and you are done.  You can tell when you are done by
; 34.048      * checking for the normal AmigaDOS return code ERROR_NO_MORE_ENTRIES.
; 34.049      *
; 34.050      */
; 34.051
; 34.052   0  struct AnchorPath {
; 34.053   0  	struct AChain	*ap_Base;	/* pointer to first anchor */
; 34.054   0  #define	ap_First ap_Base
; 34.055   0  	struct AChain	*ap_Last;	/* pointer to last anchor */
; 34.056   0  #define ap_Current ap_Last
; 34.057   0  	LONG	ap_BreakBits;	/* Bits we want to break on */
; 34.058   0  	LONG	ap_FoundBreak;	/* Bits we broke on. Also returns ERROR_BREAK */
; 34.059   0  	BYTE	ap_Flags;	/* New use for extra word. */
; 34.060   0  	BYTE	ap_Reserved;
; 34.061   0  	WORD	ap_Strlen;	/* This is what ap_Length used to be */
; 34.062   0  #define	ap_Length ap_Flags	/* Old compatability for LONGWORD ap_Length */
; 34.063   0  	struct	FileInfoBlock ap_Info;
; 34.064   0  	UBYTE	ap_Buf[1];	/* Buffer for path name, allocated by user */
; 34.065      	/* FIX! */
; 34.066   0  };
; 34.067
; 34.068
; 34.069   0  #define	APB_DOWILD	0	/* User option ALL */
; 34.070   0  #define APF_DOWILD	1
; 34.071
; 34.072   0  #define	APB_ITSWILD	1	/* Set by MatchFirst, used by MatchNext	 */
; 34.073   0  #define APF_ITSWILD	2	/* Application can test APB_ITSWILD, too */
; 34.074      				/* (means that there's a wildcard	 */
; 34.075      				/* in the pattern after calling		 */
; 34.076      				/* MatchFirst).				 */
; 34.077
; 34.078   0  #define	APB_DODIR	2	/* Bit is SET if a DIR node should be */
; 34.079   0  #define APF_DODIR	4	/* entered. Application can RESET this */
; 34.080      				/* bit after MatchFirst/MatchNext to AVOID */
; 34.081      				/* entering a dir. */

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 69


;Line#  Block                                  Source
; 34.082
; 34.083   0  #define	APB_DIDDIR	3	/* Bit is SET for an "expired" dir node. */
; 34.084   0  #define APF_DIDDIR	8
; 34.085
; 34.086   0  #define	APB_NOMEMERR	4	/* Set on memory error */
; 34.087   0  #define APF_NOMEMERR	16
; 34.088
; 34.089   0  #define	APB_DODOT	5	/* If set, allow conversion of '.' to */
; 34.090   0  #define APF_DODOT	32	/* CurrentDir */
; 34.091
; 34.092   0  #define APB_DirChanged	6	/* ap_Current->an_Lock changed */
; 34.093   0  #define APF_DirChanged	64	/* since last MatchNext call */
; 34.094
; 34.095   0  #define APB_FollowHLinks 7	/* follow hardlinks on DODIR - defaults   */
; 34.096   0  #define APF_FollowHLinks 128	/* to not following hardlinks on a DODIR. */
; 34.097
; 34.098
; 34.099   0  struct AChain {
; 34.100   0  	struct AChain *an_Child;
; 34.101   0  	struct AChain *an_Parent;
; 34.102   0  	BPTR	an_Lock;
; 34.103   0  	struct FileInfoBlock an_Info;
; 34.104   0  	BYTE	an_Flags;
; 34.105   0  	UBYTE	an_String[1];	/* FIX!! */
; 34.106   0  };
; 34.107
; 34.108   0  #define	DDB_PatternBit	0
; 34.109   0  #define	DDF_PatternBit	1
; 34.110   0  #define	DDB_ExaminedBit	1
; 34.111   0  #define	DDF_ExaminedBit	2
; 34.112   0  #define	DDB_Completed	2
; 34.113   0  #define	DDF_Completed	4
; 34.114   0  #define	DDB_AllBit	3
; 34.115   0  #define	DDF_AllBit	8
; 34.116   0  #define	DDB_Single	4
; 34.117   0  #define	DDF_Single	16
; 34.118
; 34.119      /*
; 34.120       * Constants used by wildcard routines, these are the pre-parsed tokens
; 34.121       * referred to by pattern match.  It is not necessary for you to do
; 34.122       * anything about these, MatchFirst() MatchNext() handle all these for you.
; 34.123       */
; 34.124
; 34.125   0  #define P_ANY		0x80	/* Token for '*' or '#?  */
; 34.126   0  #define P_SINGLE	0x81	/* Token for '?' */
; 34.127   0  #define P_ORSTART	0x82	/* Token for '(' */
; 34.128   0  #define P_ORNEXT	0x83	/* Token for '|' */
; 34.129   0  #define P_OREND	0x84	/* Token for ')' */
; 34.130   0  #define P_NOT		0x85	/* Token for '~' */
; 34.131   0  #define P_NOTEND	0x86	/* Token for */

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 70


;Line#  Block                                  Source
; 34.132   0  #define P_NOTCLASS	0x87	/* Token for '^' */
; 34.133   0  #define P_CLASS	0x88	/* Token for '[]' */
; 34.134   0  #define P_REPBEG	0x89	/* Token for '[' */
; 34.135   0  #define P_REPEND	0x8A	/* Token for ']' */
; 34.136   0  #define P_STOP		0x8B	/* token to force end of evaluation */
; 34.137
; 34.138      /* Values for an_Status, NOTE: These are the actual bit numbers */
; 34.139
; 34.140   0  #define COMPLEX_BIT	1	/* Parsing complex pattern */
; 34.141   0  #define EXAMINE_BIT	2	/* Searching directory */
; 34.142
; 34.143      /*
; 34.144       * Returns from MatchFirst(), MatchNext()
; 34.145       * You can also get dos error returns, such as ERROR_NO_MORE_ENTRIES,
; 34.146       * these are in the dos.h file.
; 34.147       */
; 34.148
; 34.149   0  #define ERROR_BUFFER_OVERFLOW	303	/* User or internal buffer overflow */
; 34.150   0  #define ERROR_BREAK		304	/* A break character was received */
; 34.151   0  #define ERROR_NOT_EXECUTABLE	305	/* A file has E bit cleared */
; 34.152
; 34.153   0  #endif /* DOS_DOSASL_H */
; 27.028   0  #endif
; 27.029   0  #ifndef  DOS_VAR_H
; 27.030   0  #include <dos/var.h>
;===> Including file "sc:include/dos/var.h"
; 35.001   0  #ifndef DOS_VAR_H
; 35.002   0  #define DOS_VAR_H
; 35.003      /*
; 35.004      **
; 35.005      **	$VER: var.h 36.11 (2.6.92)
; 35.006      **	Includes Release 40.13
; 35.007      **
; 35.008      **	include file for dos local and environment variables
; 35.009      **
; 35.010      **	(C) Copyright 1989-1993 Commodore-Amiga, Inc.
; 35.011      **	    All Rights Reserved
; 35.012      **
; 35.013      */
; 35.014
; 35.015
; 35.016   0  #ifndef EXEC_NODES_H
; 35.017      #include "exec/nodes.h"
; 35.018      #endif
; 35.019
; 35.020      /* the structure in the pr_LocalVars list */
; 35.021      /* Do NOT allocate yourself, use SetVar()!!! This structure may grow in */
; 35.022      /* future releases!  The list should be left in alphabetical order, and */
; 35.023      /* may have multiple entries with the same name but different types.	*/
; 35.024

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 71


;Line#  Block                                  Source
; 35.025   0  struct LocalVar {
; 35.026   0  	struct Node lv_Node;
; 35.027   0  	UWORD	lv_Flags;
; 35.028   0  	UBYTE	*lv_Value;
; 35.029   0  	ULONG	lv_Len;
; 35.030   0  };
; 35.031
; 35.032      /*
; 35.033       * The lv_Flags bits are available to the application.	The unused
; 35.034       * lv_Node.ln_Pri bits are reserved for system use.
; 35.035       */
; 35.036
; 35.037      /* bit definitions for lv_Node.ln_Type: */
; 35.038   0  #define LV_VAR			0	/* an variable */
; 35.039   0  #define LV_ALIAS		1	/* an alias */
; 35.040      /* to be or'ed into type: */
; 35.041   0  #define LVB_IGNORE		7	/* ignore this entry on GetVar, etc */
; 35.042   0  #define LVF_IGNORE		0x80
; 35.043
; 35.044      /* definitions of flags passed to GetVar()/SetVar()/DeleteVar() */
; 35.045      /* bit defs to be OR'ed with the type: */
; 35.046      /* item will be treated as a single line of text unless BINARY_VAR is used */
; 35.047   0  #define GVB_GLOBAL_ONLY		8
; 35.048   0  #define GVF_GLOBAL_ONLY		0x100
; 35.049   0  #define GVB_LOCAL_ONLY		9
; 35.050   0  #define GVF_LOCAL_ONLY		0x200
; 35.051   0  #define GVB_BINARY_VAR		10		/* treat variable as binary */
; 35.052   0  #define GVF_BINARY_VAR		0x400
; 35.053   0  #define GVB_DONT_NULL_TERM	11	/* only with GVF_BINARY_VAR */
; 35.054   0  #define GVF_DONT_NULL_TERM	0x800
; 35.055
; 35.056      /* this is only supported in >= V39 dos.  V37 dos ignores this. */
; 35.057      /* this causes SetVar to affect ENVARC: as well as ENV:.	*/
; 35.058   0  #define GVB_SAVE_VAR		12	/* only with GVF_GLOBAL_VAR */
; 35.059   0  #define GVF_SAVE_VAR		0x1000
; 35.060
; 35.061   0  #endif /* DOS_VAR_H */
; 27.031   0  #endif
; 27.032   0  #ifndef  DOS_NOTIFY_H
; 27.033   0  #include <dos/notify.h>
;===> Including file "sc:include/dos/notify.h"
; 36.001   0  #ifndef DOS_NOTIFY_H
; 36.002   0  #define DOS_NOTIFY_H
; 36.003      /*
; 36.004      **
; 36.005      **	$VER: notify.h 36.8 (29.8.90)
; 36.006      **	Includes Release 40.13
; 36.007      **
; 36.008      **	dos notification definitions
; 36.009      **

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 72


;Line#  Block                                  Source
; 36.010      **	(C) Copyright 1989-1993 Commodore-Amiga, Inc.
; 36.011      **	    All Rights Reserved
; 36.012      **
; 36.013      */
; 36.014
; 36.015   0  #ifndef EXEC_TYPES_H
; 36.016      #include "exec/types.h"
; 36.017      #endif
; 36.018
; 36.019   0  #ifndef EXEC_PORTS_H
; 36.020      #include "exec/ports.h"
; 36.021      #endif
; 36.022
; 36.023   0  #ifndef EXEC_TASKS_H
; 36.024      #include "exec/tasks.h"
; 36.025      #endif
; 36.026
; 36.027
; 36.028      /* use of Class and code is discouraged for the time being - we might want to
; 36.029         change things */
; 36.030      /* --- NotifyMessage Class ------------------------------------------------ */
; 36.031   0  #define NOTIFY_CLASS	0x40000000
; 36.032
; 36.033      /* --- NotifyMessage Codes ------------------------------------------------ */
; 36.034   0  #define NOTIFY_CODE	0x1234
; 36.035
; 36.036
; 36.037      /* Sent to the application if SEND_MESSAGE is specified.		    */
; 36.038
; 36.039   0  struct NotifyMessage {
; 36.040   0      struct Message nm_ExecMessage;
; 36.041   0      ULONG  nm_Class;
; 36.042   0      UWORD  nm_Code;
; 36.043   0      struct NotifyRequest *nm_NReq;	/* don't modify the request! */
; 36.044   0      ULONG  nm_DoNotTouch;		/* like it says!  For use by handlers */
; 36.045   0      ULONG  nm_DoNotTouch2;		/* ditto */
; 36.046   0  };
; 36.047
; 36.048      /* Do not modify or reuse the notifyrequest while active.		    */
; 36.049      /* note: the first LONG of nr_Data has the length transfered		    */
; 36.050
; 36.051   0  struct NotifyRequest {
; 36.052   0  	UBYTE *nr_Name;
; 36.053   0  	UBYTE *nr_FullName;		/* set by dos - don't touch */
; 36.054   0  	ULONG nr_UserData;		/* for applications use */
; 36.055   0  	ULONG nr_Flags;
; 36.056
; 36.057   0  	union {
; 36.058
; 36.059   0  	    struct {

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 73


;Line#  Block                                  Source
; 36.060   0  		struct MsgPort *nr_Port;	/* for SEND_MESSAGE */
; 36.061   0  	    } nr_Msg;
; 36.062
; 36.063   0  	    struct {
; 36.064   0  		struct Task *nr_Task;		/* for SEND_SIGNAL */
; 36.065   0  		UBYTE nr_SignalNum;		/* for SEND_SIGNAL */
; 36.066   0  		UBYTE nr_pad[3];
; 36.067   0  	    } nr_Signal;
; 36.068   0  	} nr_stuff;
; 36.069
; 36.070   0  	ULONG nr_Reserved[4];		/* leave 0 for now */
; 36.071
; 36.072      	/* internal use by handlers */
; 36.073   0  	ULONG nr_MsgCount;		/* # of outstanding msgs */
; 36.074   0  	struct MsgPort *nr_Handler;	/* handler sent to (for EndNotify) */
; 36.075   0  };
; 36.076
; 36.077      /* --- NotifyRequest Flags ------------------------------------------------ */
; 36.078   0  #define NRF_SEND_MESSAGE	1
; 36.079   0  #define NRF_SEND_SIGNAL		2
; 36.080   0  #define NRF_WAIT_REPLY		8
; 36.081   0  #define NRF_NOTIFY_INITIAL	16
; 36.082
; 36.083      /* do NOT set or remove NRF_MAGIC!  Only for use by handlers! */
; 36.084   0  #define NRF_MAGIC	0x80000000
; 36.085
; 36.086      /* bit numbers */
; 36.087   0  #define NRB_SEND_MESSAGE	0
; 36.088   0  #define NRB_SEND_SIGNAL		1
; 36.089   0  #define NRB_WAIT_REPLY		3
; 36.090   0  #define NRB_NOTIFY_INITIAL	4
; 36.091
; 36.092   0  #define NRB_MAGIC		31
; 36.093
; 36.094      /* Flags reserved for private use by the handler: */
; 36.095   0  #define NR_HANDLER_FLAGS	0xffff0000
; 36.096
; 36.097   0  #endif /* DOS_NOTIFY_H */
; 27.034   0  #endif
; 27.035   0  #ifndef  DOS_DATETIME_H
; 27.036   0  #include <dos/datetime.h>
;===> Including file "sc:include/dos/datetime.h"
; 37.001   0  #ifndef DOS_DATETIME_H
; 37.002   0  #define DOS_DATETIME_H
; 37.003
; 37.004      /*
; 37.005      **	$VER: datetime.h 36.7 (12.7.90)
; 37.006      **	Includes Release 40.13
; 37.007      **
; 37.008      **	Date and time C header for AmigaDOS

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 74


;Line#  Block                                  Source
; 37.009      **
; 37.010      **	(C) Copyright 1989-1993 Commodore-Amiga, Inc.
; 37.011      **	    All Rights Reserved
; 37.012      **
; 37.013      */
; 37.014
; 37.015   0  #ifndef DOS_DOS_H
; 37.016      #include "dos/dos.h"
; 37.017      #endif
; 37.018
; 37.019      /*
; 37.020       *	Data structures and equates used by the V1.4 DOS functions
; 37.021       * StrtoDate() and DatetoStr()
; 37.022       */
; 37.023
; 37.024      /*--------- String/Date structures etc */
; 37.025   0  struct DateTime {
; 37.026   0  	struct DateStamp dat_Stamp;	/* DOS DateStamp */
; 37.027   0  	UBYTE	dat_Format;		/* controls appearance of dat_StrDate */
; 37.028   0  	UBYTE	dat_Flags;		/* see BITDEF's below */
; 37.029   0  	UBYTE	*dat_StrDay;		/* day of the week string */
; 37.030   0  	UBYTE	*dat_StrDate;		/* date string */
; 37.031   0  	UBYTE	*dat_StrTime;		/* time string */
; 37.032   0  };
; 37.033
; 37.034      /* You need this much room for each of the DateTime strings: */
; 37.035   0  #define	LEN_DATSTRING	16
; 37.036
; 37.037      /*	flags for dat_Flags */
; 37.038
; 37.039   0  #define DTB_SUBST	0		/* substitute Today, Tomorrow, etc. */
; 37.040   0  #define DTF_SUBST	1
; 37.041   0  #define DTB_FUTURE	1		/* day of the week is in future */
; 37.042   0  #define DTF_FUTURE	2
; 37.043
; 37.044      /*
; 37.045       *	date format values
; 37.046       */
; 37.047
; 37.048   0  #define FORMAT_DOS	0		/* dd-mmm-yy */
; 37.049   0  #define FORMAT_INT	1		/* yy-mm-dd  */
; 37.050   0  #define FORMAT_USA	2		/* mm-dd-yy  */
; 37.051   0  #define FORMAT_CDN	3		/* dd-mm-yy  */
; 37.052   0  #define FORMAT_MAX	FORMAT_CDN
; 37.053
; 37.054   0  #endif /* DOS_DATETIME_H */
; 27.037   0  #endif
; 27.038   0  BPTR Open( STRPTR name, long accessMode );
; 27.039   0  LONG Close( BPTR file );
; 27.040   0  LONG Read( BPTR file, APTR buffer, long length );

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 75


;Line#  Block                                  Source
; 27.041   0  LONG Write( BPTR file, APTR buffer, long length );
; 27.042   0  BPTR Input( void );
; 27.043   0  BPTR Output( void );
; 27.044   0  LONG Seek( BPTR file, long position, long offset );
; 27.045   0  LONG DeleteFile( STRPTR name );
; 27.046   0  LONG Rename( STRPTR oldName, STRPTR newName );
; 27.047   0  BPTR Lock( STRPTR name, long type );
; 27.048   0  void UnLock( BPTR lock );
; 27.049   0  BPTR DupLock( BPTR lock );
; 27.050   0  LONG Examine( BPTR lock, struct FileInfoBlock *fileInfoBlock );
; 27.051   0  LONG ExNext( BPTR lock, struct FileInfoBlock *fileInfoBlock );
; 27.052   0  LONG Info( BPTR lock, struct InfoData *parameterBlock );
; 27.053   0  BPTR CreateDir( STRPTR name );
; 27.054   0  BPTR CurrentDir( BPTR lock );
; 27.055   0  LONG IoErr( void );
; 27.056   0  struct MsgPort *CreateProc( STRPTR name, long pri, BPTR segList,
; 27.057   0  	long stackSize );
; 27.058   0  void Exit( long returnCode );
; 27.059   0  BPTR LoadSeg( STRPTR name );
; 27.060   0  void UnLoadSeg( BPTR seglist );
; 27.061   0  struct MsgPort *DeviceProc( STRPTR name );
; 27.062   0  LONG SetComment( STRPTR name, STRPTR comment );
; 27.063   0  LONG SetProtection( STRPTR name, long protect );
; 27.064   0  struct DateStamp *DateStamp( struct DateStamp *date );
; 27.065   0  void Delay( long timeout );
; 27.066   0  LONG WaitForChar( BPTR file, long timeout );
; 27.067   0  BPTR ParentDir( BPTR lock );
; 27.068   0  LONG IsInteractive( BPTR file );
; 27.069   0  LONG Execute( STRPTR string, BPTR file, BPTR file2 );
; 27.070      /*--- functions in V36 or higher (Release 2.0) ---*/
; 27.071      /*	DOS Object creation/deletion */
; 27.072   0  APTR AllocDosObject( unsigned long type, struct TagItem *tags );
; 27.073   0  APTR AllocDosObjectTagList( unsigned long type, struct TagItem *tags );
; 27.074   0  APTR AllocDosObjectTags( unsigned long type, unsigned long tag1type, ... );
; 27.075   0  void FreeDosObject( unsigned long type, APTR ptr );
; 27.076      /*	Packet Level routines */
; 27.077   0  LONG DoPkt( struct MsgPort *port, long action, long arg1, long arg2, long arg3,
; 27.078   0  	long arg4, long arg5 );
; 27.079   0  LONG DoPkt0( struct MsgPort *port, long action );
; 27.080   0  LONG DoPkt1( struct MsgPort *port, long action, long arg1 );
; 27.081   0  LONG DoPkt2( struct MsgPort *port, long action, long arg1, long arg2 );
; 27.082   0  LONG DoPkt3( struct MsgPort *port, long action, long arg1, long arg2,
; 27.083   0  	long arg3 );
; 27.084   0  LONG DoPkt4( struct MsgPort *port, long action, long arg1, long arg2,
; 27.085   0  	long arg3, long arg4 );
; 27.086   0  void SendPkt( struct DosPacket *dp, struct MsgPort *port,
; 27.087   0  	struct MsgPort *replyport );
; 27.088   0  struct DosPacket *WaitPkt( void );
; 27.089   0  void ReplyPkt( struct DosPacket *dp, long res1, long res2 );
; 27.090   0  void AbortPkt( struct MsgPort *port, struct DosPacket *pkt );

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 76


;Line#  Block                                  Source
; 27.091      /*	Record Locking */
; 27.092   0  BOOL LockRecord( BPTR fh, unsigned long offset, unsigned long length,
; 27.093   0  	unsigned long mode, unsigned long timeout );
; 27.094   0  BOOL LockRecords( struct RecordLock *recArray, unsigned long timeout );
; 27.095   0  BOOL UnLockRecord( BPTR fh, unsigned long offset, unsigned long length );
; 27.096   0  BOOL UnLockRecords( struct RecordLock *recArray );
; 27.097      /*	Buffered File I/O */
; 27.098   0  BPTR SelectInput( BPTR fh );
; 27.099   0  BPTR SelectOutput( BPTR fh );
; 27.100   0  LONG FGetC( BPTR fh );
; 27.101   0  LONG FPutC( BPTR fh, long ch );
; 27.102   0  LONG UnGetC( BPTR fh, long character );
; 27.103   0  LONG FRead( BPTR fh, APTR block, unsigned long blocklen,
; 27.104   0  	unsigned long number );
; 27.105   0  LONG FWrite( BPTR fh, APTR block, unsigned long blocklen,
; 27.106   0  	unsigned long number );
; 27.107   0  STRPTR FGets( BPTR fh, STRPTR buf, unsigned long buflen );
; 27.108   0  LONG FPuts( BPTR fh, STRPTR str );
; 27.109   0  void VFWritef( BPTR fh, STRPTR format, LONG *argarray );
; 27.110   0  void FWritef( BPTR fh, STRPTR format, ... );
; 27.111   0  LONG VFPrintf( BPTR fh, STRPTR format, APTR argarray );
; 27.112   0  LONG FPrintf( BPTR fh, STRPTR format, ... );
; 27.113   0  LONG Flush( BPTR fh );
; 27.114   0  LONG SetVBuf( BPTR fh, STRPTR buff, long type, long size );
; 27.115      /*	DOS Object Management */
; 27.116   0  BPTR DupLockFromFH( BPTR fh );
; 27.117   0  BPTR OpenFromLock( BPTR lock );
; 27.118   0  BPTR ParentOfFH( BPTR fh );
; 27.119   0  BOOL ExamineFH( BPTR fh, struct FileInfoBlock *fib );
; 27.120   0  LONG SetFileDate( STRPTR name, struct DateStamp *date );
; 27.121   0  LONG NameFromLock( BPTR lock, STRPTR buffer, long len );
; 27.122   0  LONG NameFromFH( BPTR fh, STRPTR buffer, long len );
; 27.123   0  WORD SplitName( STRPTR name, unsigned long seperator, STRPTR buf, long oldpos,
; 27.124   0  	long size );
; 27.125   0  LONG SameLock( BPTR lock1, BPTR lock2 );
; 27.126   0  LONG SetMode( BPTR fh, long mode );
; 27.127   0  LONG ExAll( BPTR lock, struct ExAllData *buffer, long size, long data,
; 27.128   0  	struct ExAllControl *control );
; 27.129   0  LONG ReadLink( struct MsgPort *port, BPTR lock, STRPTR path, STRPTR buffer,
; 27.130   0  	unsigned long size );
; 27.131   0  LONG MakeLink( STRPTR name, long dest, long soft );
; 27.132   0  LONG ChangeMode( long type, BPTR fh, long newmode );
; 27.133   0  LONG SetFileSize( BPTR fh, long pos, long mode );
; 27.134      /*	Error Handling */
; 27.135   0  LONG SetIoErr( long result );
; 27.136   0  BOOL Fault( long code, STRPTR header, STRPTR buffer, long len );
; 27.137   0  BOOL PrintFault( long code, STRPTR header );
; 27.138   0  LONG ErrorReport( long code, long type, unsigned long arg1,
; 27.139   0  	struct MsgPort *device );
; 27.140      /*	Process Management */

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 77


;Line#  Block                                  Source
; 27.141   0  struct CommandLineInterface *Cli( void );
; 27.142   0  struct Process *CreateNewProc( struct TagItem *tags );
; 27.143   0  struct Process *CreateNewProcTagList( struct TagItem *tags );
; 27.144   0  struct Process *CreateNewProcTags( unsigned long tag1type, ... );
; 27.145   0  LONG RunCommand( BPTR seg, long stack, STRPTR paramptr, long paramlen );
; 27.146   0  struct MsgPort *GetConsoleTask( void );
; 27.147   0  struct MsgPort *SetConsoleTask( struct MsgPort *task );
; 27.148   0  struct MsgPort *GetFileSysTask( void );
; 27.149   0  struct MsgPort *SetFileSysTask( struct MsgPort *task );
; 27.150   0  STRPTR GetArgStr( void );
; 27.151   0  BOOL SetArgStr( STRPTR string );
; 27.152   0  struct Process *FindCliProc( unsigned long num );
; 27.153   0  ULONG MaxCli( void );
; 27.154   0  BOOL SetCurrentDirName( STRPTR name );
; 27.155   0  BOOL GetCurrentDirName( STRPTR buf, long len );
; 27.156   0  BOOL SetProgramName( STRPTR name );
; 27.157   0  BOOL GetProgramName( STRPTR buf, long len );
; 27.158   0  BOOL SetPrompt( STRPTR name );
; 27.159   0  BOOL GetPrompt( STRPTR buf, long len );
; 27.160   0  BPTR SetProgramDir( BPTR lock );
; 27.161   0  BPTR GetProgramDir( void );
; 27.162      /*	Device List Management */
; 27.163   0  LONG SystemTagList( STRPTR command, struct TagItem *tags );
; 27.164   0  LONG System( STRPTR command, struct TagItem *tags );
; 27.165   0  LONG SystemTags( STRPTR command, unsigned long tag1type, ... );
; 27.166   0  LONG AssignLock( STRPTR name, BPTR lock );
; 27.167   0  BOOL AssignLate( STRPTR name, STRPTR path );
; 27.168   0  BOOL AssignPath( STRPTR name, STRPTR path );
; 27.169   0  BOOL AssignAdd( STRPTR name, BPTR lock );
; 27.170   0  LONG RemAssignList( STRPTR name, BPTR lock );
; 27.171   0  struct DevProc *GetDeviceProc( STRPTR name, struct DevProc *dp );
; 27.172   0  void FreeDeviceProc( struct DevProc *dp );
; 27.173   0  struct DosList *LockDosList( unsigned long flags );
; 27.174   0  void UnLockDosList( unsigned long flags );
; 27.175   0  struct DosList *AttemptLockDosList( unsigned long flags );
; 27.176   0  BOOL RemDosEntry( struct DosList *dlist );
; 27.177   0  LONG AddDosEntry( struct DosList *dlist );
; 27.178   0  struct DosList *FindDosEntry( struct DosList *dlist, STRPTR name,
; 27.179   0  	unsigned long flags );
; 27.180   0  struct DosList *NextDosEntry( struct DosList *dlist, unsigned long flags );
; 27.181   0  struct DosList *MakeDosEntry( STRPTR name, long type );
; 27.182   0  void FreeDosEntry( struct DosList *dlist );
; 27.183   0  BOOL IsFileSystem( STRPTR name );
; 27.184      /*	Handler Interface */
; 27.185   0  BOOL Format( STRPTR filesystem, STRPTR volumename, unsigned long dostype );
; 27.186   0  LONG Relabel( STRPTR drive, STRPTR newname );
; 27.187   0  LONG Inhibit( STRPTR name, long onoff );
; 27.188   0  LONG AddBuffers( STRPTR name, long number );
; 27.189      /*	Date, Time Routines */
; 27.190   0  LONG CompareDates( struct DateStamp *date1, struct DateStamp *date2 );

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 78


;Line#  Block                                  Source
; 27.191   0  LONG DateToStr( struct DateTime *datetime );
; 27.192   0  LONG StrToDate( struct DateTime *datetime );
; 27.193      /*	Image Management */
; 27.194   0  BPTR InternalLoadSeg( BPTR fh, BPTR table, LONG *funcarray, LONG *stack );
; 27.195   0  BOOL InternalUnLoadSeg( BPTR seglist, void (*freefunc)() );
; 27.196   0  BPTR NewLoadSeg( STRPTR file, struct TagItem *tags );
; 27.197   0  BPTR NewLoadSegTagList( STRPTR file, struct TagItem *tags );
; 27.198   0  BPTR NewLoadSegTags( STRPTR file, unsigned long tag1type, ... );
; 27.199   0  LONG AddSegment( STRPTR name, BPTR seg, long system );
; 27.200   0  struct Segment *FindSegment( STRPTR name, struct Segment *seg, long system );
; 27.201   0  LONG RemSegment( struct Segment *seg );
; 27.202      /*	Command Support */
; 27.203   0  LONG CheckSignal( long mask );
; 27.204   0  struct RDArgs *ReadArgs( STRPTR arg_template, LONG *array,
; 27.205   0  	struct RDArgs *args );
; 27.206   0  LONG FindArg( STRPTR keyword, STRPTR arg_template );
; 27.207   0  LONG ReadItem( STRPTR name, long maxchars, struct CSource *cSource );
; 27.208   0  LONG StrToLong( STRPTR string, LONG *value );
; 27.209   0  LONG MatchFirst( STRPTR pat, struct AnchorPath *anchor );
; 27.210   0  LONG MatchNext( struct AnchorPath *anchor );
; 27.211   0  void MatchEnd( struct AnchorPath *anchor );
; 27.212   0  LONG ParsePattern( STRPTR pat, STRPTR buf, long buflen );
; 27.213   0  BOOL MatchPattern( STRPTR pat, STRPTR str );
; 27.214   0  void FreeArgs( struct RDArgs *args );
; 27.215   0  STRPTR FilePart( STRPTR path );
; 27.216   0  STRPTR PathPart( STRPTR path );
; 27.217   0  BOOL AddPart( STRPTR dirname, STRPTR filename, unsigned long size );
; 27.218      /*	Notification */
; 27.219   0  BOOL StartNotify( struct NotifyRequest *notify );
; 27.220   0  void EndNotify( struct NotifyRequest *notify );
; 27.221      /*	Environment Variable functions */
; 27.222   0  BOOL SetVar( STRPTR name, STRPTR buffer, long size, long flags );
; 27.223   0  LONG GetVar( STRPTR name, STRPTR buffer, long size, long flags );
; 27.224   0  LONG DeleteVar( STRPTR name, unsigned long flags );
; 27.225   0  struct LocalVar *FindVar( STRPTR name, unsigned long type );
; 27.226   0  LONG CliInitNewcli( struct DosPacket *dp );
; 27.227   0  LONG CliInitRun( struct DosPacket *dp );
; 27.228   0  LONG WriteChars( STRPTR buf, unsigned long buflen );
; 27.229   0  LONG PutStr( STRPTR str );
; 27.230   0  LONG VPrintf( STRPTR format, APTR argarray );
; 27.231   0  LONG Printf( STRPTR format, ... );
; 27.232      /* these were unimplemented until dos 36.147 */
; 27.233   0  LONG ParsePatternNoCase( STRPTR pat, STRPTR buf, long buflen );
; 27.234   0  BOOL MatchPatternNoCase( STRPTR pat, STRPTR str );
; 27.235      /* this was added for V37 dos, returned 0 before then. */
; 27.236   0  BOOL SameDevice( BPTR lock1, BPTR lock2 );
; 27.237
; 27.238      /* NOTE: the following entries did NOT exist before ks 36.303 (2.02) */
; 27.239      /* If you are going to use them, open dos.library with version 37 */
; 27.240

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 79


;Line#  Block                                  Source
; 27.241      /* These calls were added for V39 dos: */
; 27.242   0  void ExAllEnd( BPTR lock, struct ExAllData *buffer, long size, long data,
; 27.243   0  	struct ExAllControl *control );
; 27.244   0  BOOL SetOwner( STRPTR name, long owner_info );
; 27.245   0  #endif	 /* CLIB_DOS_PROTOS_H */
; 26.006   0  #include <pragmas/dos_pragmas.h>
;===> Including file "sc:include/pragmas/dos_pragmas.h"
; 38.023      /*pragma libcall DOSBase dosPrivate1 a2 0*/
; 38.024      /*pragma libcall DOSBase dosPrivate2 a8 0*/
; 38.034      /*--- functions in V36 or higher (Release 2.0) ---*/
; 38.035      /*	DOS Object creation/deletion*/
; 38.040      /*	Packet Level routines*/
; 38.046      /*	Record Locking*/
; 38.051      /*	Buffered File I/O*/
; 38.067      /*	DOS Object Management*/
; 38.083      /*	Error Handling*/
; 38.088      /*--- (1 function slot reserved here) ---*/
; 38.089      /*	Process Management*/
; 38.111      /*	Device List Management*/
; 38.132      /*	Handler Interface*/
; 38.137      /*	Date, Time Routines*/
; 38.141      /*	Image Management*/
; 38.150      /*	Command Support*/
; 38.161      /*pragma libcall DOSBase dosPrivate3 354 0*/
; 38.163      /*--- (1 function slot reserved here) ---*/
; 38.167      /*	Notification*/
; 38.170      /*	Environment Variable functions*/
; 38.175      /*pragma libcall DOSBase dosPrivate4 39c 0*/
; 38.182      /*--- (1 function slot reserved here) ---*/
; 38.183      /* these were unimplemented until dos 36.147*/
; 38.186      /*pragma libcall DOSBase dosPrivate5 3d2 0*/
; 38.187      /* this was added for V37 dos, returned 0 before then.*/
; 38.189      /**/
; 38.190      /* NOTE: the following entries did NOT exist before ks 36.303 (2.02)*/
; 38.191      /* If you are going to use them, open dos.library with version 37*/
; 38.192      /**/
; 38.193      /* These calls were added for V39 dos:*/
; 38.196      /*--- (2 function slots reserved here) ---*/
; 38.197      /*--- (2 function slots reserved here) ---*/
; 38.198      /*--- (2 function slots reserved here) ---*/
; 38.199      /*--- (2 function slots reserved here) ---*/
; 26.007   0  #endif
; 16       0  #include <sxstructs.h>
;===> Including file "sc:include/sxstructs.h"
; 39.001
; 39.002   0  struct DoorsStruct
; 39.003   0  {
; 39.004   0  	char	chatdoor[52];
; 39.005   0  	UBYTE	chattype;
; 39.006   0  	char	msgdoor[52];

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 80


;Line#  Block                                  Source
; 39.007   0  	UBYTE	msgtype;
; 39.008   0  	char	frontdoor[52];
; 39.009   0  	UBYTE	fronttype;
; 39.010   0  	char	msgdoorreply[52];
; 39.011   0  	UBYTE	msgdoorreplytype;
; 39.012   0  	char	nfdoor[52];
; 39.013   0  	UBYTE	nftype;
; 39.014   0  };
; 39.015
; 39.016   0  struct AccessStruct
; 39.017   0  {
; 39.018   0  	char name[32];
; 39.019   0  	UBYTE access;
; 39.020   0  	UBYTE flags;
; 39.021   0  	ULONG freefiles;
; 39.022   0  	ULONG freebytes;
; 39.023   0  	UWORD byteratio;
; 39.024   0  	UWORD fileratio;
; 39.025   0  	long Time_Limit;
; 39.026   0  	ULONG ConfAccess[10];
; 39.027   0  	char res[38];
; 39.028   0  };
; 39.029
; 39.030   0  struct MCPMessage
; 39.031   0  {
; 39.032   0  	struct Message Msg;
; 39.033   0  	UWORD command;
; 39.034   0  	UWORD nodenum;
; 39.035   0  	long data1;
; 39.036   0  	long data2;
; 39.037   0  	long data3;
; 39.038   0  	long data4;
; 39.039   0  	long data5;
; 39.040   0  	char *action;
; 39.041   0  };
; 39.042
; 39.043   0  struct Flag
; 39.044   0  {
; 39.045   0  	struct Node flag_node;
; 39.046   0  	char path[72];
; 39.047   0  	char file[34];
; 39.048   0  	ULONG size;
; 39.049   0  	ULONG xfer;
; 39.050   0  	ULONG cps;
; 39.051   0  	UWORD secs;
; 39.052   0  	UWORD mins;
; 39.053   0  	UWORD hours;
; 39.054   0  	UBYTE conf;
; 39.055   0  	UBYTE area;
; 39.056   0  	UBYTE free;

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 81


;Line#  Block                                  Source
; 39.057   0  	UBYTE misc;
; 39.058   0  };
; 39.059
; 39.060   0  struct MainStruct
; 39.061   0  {
; 39.062   0  	char BBSName[64];
; 39.063   0  	char USERPath[64];
; 39.064   0  	char BBSLoc[64];
; 39.065   0  	char Sysop[64];
; 39.066   0  	char DNPath[64];
; 39.067   0  	char ULPath[64];
; 39.068   0  	long nodes;
; 39.069   0  	UWORD inac_timeout;
; 39.070   0  	UWORD inac_warn;
; 39.071   0  };
; 39.072
; 39.073   0  struct SerialStruct
; 39.074   0  {
; 39.075   0  	char device[32];
; 39.076   0  	WORD unit;
; 39.077   0  	WORD misc;
; 39.078   0  	long minrate;
; 39.079   0  	long dcerate;
; 39.080   0  	UBYTE sevenwire;
; 39.081   0  	UBYTE shared;
; 39.082   0  	char ring[16];
; 39.083   0  	char connect[24];
; 39.084   0  	char answer[16];
; 39.085   0  	char initstr[48];
; 39.086   0  };
; 39.087
; 39.088   0  struct ConfStruct
; 39.089   0  {
; 39.090   0  	char name[45];
; 39.091   0  	char path[55];
; 39.092   0  	char pass[16];
; 39.093   0  	char filepath[52];
; 39.094   0  	UWORD fileareas;
; 39.095   0  	UWORD uploadarea;
; 39.096   0  	UBYTE flf;
; 39.097   0  	UBYTE flags;
; 39.098   0  	char reserve[82];
; 39.099   0  };
; 39.100
; 39.101   0  struct SXUserStruct
; 39.102   0  {
; 39.103   0  	UWORD byteratio;
; 39.104   0  	UWORD fileratio;
; 39.105   0  	ULONG flags;
; 39.106   0  	UWORD freefiles;

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 82


;Line#  Block                                  Source
; 39.107   0  	ULONG freebytes;
; 39.108   0  	ULONG ConfAccess[10];
; 39.109   0  	UWORD lastfilearea;
; 39.110   0  	char computer[24];
; 39.111   0  	char sentbyline[46];
; 39.112   0  	char password[16];
; 39.113   0  	long firstcall;
; 39.114   0  	char reserved[110];
; 39.115   0  };
; 39.116
; 39.117   0  struct UserData {
; 39.118   0  	char	Name[31],
; 39.119   0  		Pass[9],
; 39.120   0  		Location[30],
; 39.121   0  		PhoneNumber[13];
; 39.122   0  	USHORT	Slot_Number;
; 39.123   0  	USHORT	Sec_Status,
; 39.124   0  		Sec_Board,		/* File or Byte Ratio */
; 39.125   0  		Sec_Library,		/* Ratio              */
; 39.126   0  		Sec_Bulletin,		/* Computer Type      */
; 39.127   0  		Messages_Posted;
; 39.128   0  	ULONG	NewSinceDate,
; 39.129   0  		ConfRead1,
; 39.130   0  		ConfRead2,
; 39.131   0  		ConfRead3,
; 39.132   0  		ConfRead4,
; 39.133   0  		ConfRead5,
; 39.134   0  		ConfRead6,
; 39.135   0  		ConfRead7,
; 39.136   0  		ConfRead8,
; 39.137   0  		ConfRead9;
; 39.138   0  	char	Conference_Access[10];
; 39.139   0  	USHORT	Uploads,
; 39.140   0  		Downloads,
; 39.141   0  		ConfRJoin,
; 39.142   0  		Times_Called;
; 39.143   0  	long	Time_Last_On,
; 39.144   0  		Time_Used,
; 39.145   0  		Time_Limit,
; 39.146   0  		Time_Left;
; 39.147   0  	ULONG	Bytes_Download,
; 39.148   0  		Bytes_Upload,
; 39.149   0  		Daily_Bytes_Limit,
; 39.150   0  		Daily_Bytes_Dld;
; 39.151   0  	char	Expert;
; 39.152   0  	ULONG	ConfYM1,
; 39.153   0  		ConfYM2,
; 39.154   0  		ConfYM3,
; 39.155   0  		ConfYM4,
; 39.156   0  		ConfYM5,

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 83


;Line#  Block                                  Source
; 39.157   0  		ConfYM6,
; 39.158   0  		ConfYM7,
; 39.159   0  		ConfYM8,
; 39.160   0  		ConfYM9;
; 39.161   0  	long    BeginLogCall;
; 39.162   0  	UBYTE	Protocol,
; 39.163   0  		UUCPA,
; 39.164   0  		LineLength,
; 39.165   0  		Flags; 	/* BIT 0 = NEW USER		*/
; 39.166      			/*     1 = MAIL SCAN		*/
; 39.167      			/*     2 = MAIL SCAN ASK	*/
; 39.168      			/*     3 = FILE SCAN		*/
; 39.169      			/*     4 = FILE SCAN ASK	*/
; 39.170      			/*     5 = LINE MSG EDITOR	*/
; 39.171      			/*     6 = DELETED!		*/
; 39.172   0  	};
; 39.173
; 39.174   0  struct UserIndexStruct
; 39.175   0  {
; 39.176   0  	char handle[31];
; 39.177   0  	char realname[31];
; 39.178   0  	UBYTE flags; /* BIT 6 = DELETED!	*/
; 39.179   0  	UBYTE unused;
; 39.180   0  };
; 39.181
; 39.182   0  struct ArchiveStruct
; 39.183   0  {
; 39.184   0  	char name[24];
; 39.185   0  	char patt[24];
; 39.186   0  	char testcmd[72];
; 39.187   0  	char unpackcmd[72];
; 39.188   0  	char packcmd[72];
; 39.189   0  	char viewcmd[72];
; 39.190   0  	char corrupt1[16];
; 39.191   0  	char corrupt2[16];
; 39.192   0  	char corrupt3[16];
; 39.193   0  	UBYTE flags;
; 39.194   0  	UBYTE viewaccess;
; 39.195   0  	char reserve[30];
; 39.196   0  };
; 39.197
; 39.198   0  struct ScreenModeStruct
; 39.199   0  {
; 39.200   0  	ULONG DisplayID;
; 39.201   0  	UWORD DisplayWidth;
; 39.202   0  	UWORD DisplayHeight;
; 39.203   0  	UWORD DisplayDepth;
; 39.204   0  	ULONG reserved;
; 39.205   0  	char fontname[32];
; 39.206   0  	UWORD fontsize;

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 84


;Line#  Block                                  Source
; 39.207   0  	char device[32];
; 39.208   0  	WORD unit;
; 39.209   0  	ULONG flags;
; 39.210   0  };
; 39.211
; 39.212   0  struct DisplayStruct
; 39.213   0  {
; 39.214   0  	char name[16];
; 39.215   0  	char path[48];
; 39.216   0  	char ext[4];
; 39.217   0  	struct ScreenModeStruct ScreenMode;
; 39.218   0  	ULONG flags;
; 39.219   0  	char res[40];
; 39.220   0  };
; 39.221
; 39.222   0  struct ProtoStruct
; 39.223   0  {
; 39.224   0  	char name[24];
; 39.225   0  	char letter;
; 39.226   0  	char null;
; 39.227   0  	char type;
; 39.228   0  	char efficiency;
; 39.229   0  	char library[30];
; 39.230   0  	char initstr[30];
; 39.231   0  	char res[64];
; 39.232   0  };
; 39.233
; 39.234   0  struct NodeStruct
; 39.235   0  {
; 39.236   0  	char systempass[16];
; 39.237   0  	char newuserpass[16];
; 39.238   0  	char fcheck[42];
; 39.239   0  	long flags;
; 39.240   0  };
; 17
; 18       0  struct SXFuncStruct
; 19       0  {
; 20       0  		UWORD	id;
; 21       0  		char	*string;
; 22       0  		UWORD	extra;
; 23       0  		UWORD	low;
; 24       0  		UWORD	high;
; 25       0  		char	*mainarg;
; 26       0  		char	*execarg;
; 27       0  } SXFunc;
; 28
; 29       0  struct MsgPort *bbsport;
; 30
; 31       0  struct JHMessage
; 32       0  {

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 85


;Line#  Block                                  Source
; 33       0    struct Message Msg;
; 34       0    char String[200];
; 35       0    int Data;
; 36       0    int Command;
; 37       0  };
; 38       0  struct JHMessage themsg;
; 39
; 40       0  void SXFunction(int fid,char *dsf, int extra , char *buf, char *exe);
; 41       0  void PS(char * str);
; 42       0  void XIMFunction(int func, long data, char * str);
; 43       0  void Door(void);
; 44
; 45       0  BOOL sx;
; 46
; 47
; 48       0  int main(int argc, char *argv[])
; 49       0  {
; 50       1  	char portname[16];
; 51
; 52       1  	if(argv[1][0]==0)
; 53       1  	{
; 54       2  		PutStr("This program requires System-X BBS Software\n");
; 55       2  	} else {
; 56       2  		sprintf(portname, "AEDoorPort%s", argv[1]);
; 57       2  		bbsport = FindPort(portname);
; 58       2  		if(bbsport)
; 59       2  		{
; 60       3  			XIMFunction(1, 0, 0); 	/* function 1 = register */
; 61
; 62          			/* find out if we are under SYSTEM-X or AmiExpress */
; 63
; 64       3  			if(strcmp(themsg.String,"SX")==0) sx=TRUE; else sx=FALSE;
; 65
; 66       3  			Door();
; 67
; 68       3  			XIMFunction(2, 0, 0); 	/* function 2 = shutdown */
; 69       3  		}
; 70       2  	}
; 71       1  }
; 72
; 73       0  void PS(char * str)
; 74       0  {
; 75       1  	if(sx) XIMFunction(1500, (long)str, 0); else XIMFunction(4, 0, str);
; 76       1  }
; 77
; 78       0  void XIMFunction(int func, long data, char * str)
; 79       0  {
; 80       1  	struct MsgPort *replyport;
; 81
; 82       1  	replyport = CreateMsgPort();

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 86


;Line#  Block                                  Source
; 83       1  	if(replyport)
; 84       1  	{
; 85       2  		themsg.Msg.mn_Length	= sizeof(struct JHMessage);
; 86       2  		themsg.Msg.mn_ReplyPort	= replyport;
; 87       2  		themsg.Data 		= data;
; 88       2  		themsg.Command 		= func;
; 89       2  		if(str && str[0]!=0) strcpy(themsg.String, str);
; 90       2  		PutMsg(bbsport, (struct Message *)&themsg);
; 91       2  		WaitPort(replyport);
; 92       2  		DeleteMsgPort(replyport);
; 93       2  	}
; 94       1  }
; 95
; 96          /* ============ PUT YOUR DOOR IN HERE ============== */
; 97
; 98
; 99       0  void Door(void)
;100       0  {
;101       1       char buf[256],buff[128];
;102
;103
;104       1       PS("\n\rSelect ScreenMode:");
;105       1       PS("\n\r 1 - ANSI");
;106       1       PS("\n\r 2 - ASCII");
;107       1       PS("\n\r 3 - RIP");
;108       1       PS("\n\r 4 - TCP/IP");
;109
;110       1       themsg.String[0]=0;
;111       1       XIMFunction(6,0,"");
;112
;113       1       switch(themsg.String[0])
;114       1       {
;115       2          case '1':
;116       2          {
;117       3                  sprintf(buf,"%c",'1');
;118       3                  SXFunction(9,0,0,buf,0);
;119       3                  return;
;120       3          }
;121       2          case '2':
;122       2          {
;123       3                  sprintf(buf,"%c",'2');
;124       3                  SXFunction(9,0,0,buf,0);
;125       3                  return;
;126       3          }
;127       2          case '3':
;128       2          {
;129       3                  sprintf(buf,"%c",'3');
;130       3                  SXFunction(9,0,0,buf,0);
;131       3                  return;
;132       3          }

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 87


;Line#  Block                                  Source
;133       2          case '4':
;134       2          {
;135       3                  PS("\n\rPumping up the TCP-Server, please have patient ...\n\r")
;       ..... ;
;136       3                  sprintf(buf,"%s","c:execute sx:batch/tcp-prelogin.bat");
;137       3                  Execute(buf,0,0);
;138
;139       3                  SXFunction(125,"amitcp:bin/login",0,0,0);
;140
;141       3                  sprintf(buf,"%s","c:execute sx:batch/tcp-postlogin.bat");
;142       3                  Execute(buf,0,0);
;143
;144       3                  PS("\n\r");
;145       3                  return;
;146       3          }
;147
;148       2       }
;149
;150
;151       1  }
;
;===> AA-dev:RockFront/RockFront.c 101 Warning 93: no reference to identifier "buff"
;
;152
;153       0  void menu(void)
;154       0  {
;155
;156       1          int y=0;
;157       1          XIMFunction(501,0,0);
;158       1          XIMFunction(6,0,0);
;159       1          switch(themsg.String[0])
;160       1          {
;161
;162       2                  case '4':
;163       2                  {
;164       3                          if(y!=0)
;165       3                          {
;166
;167       4                          }
;168       3                  }
;169       2          }
;170       1  }
;171
;172       0  void SXFunction(int fid, char *dsf, int extra, char *buf, char *exe)
;173       0  {
;174       1          SXFunc.id = fid;	        // Functions ID
;175       1  	SXFunc.string = dsf;            // Door/String/File
;176       1  	SXFunc.extra = extra;           // Extra Number
;177       1  	SXFunc.low = 0;                 // low axx
;178       1  	SXFunc.high = 255;              // high axx

;SAS/C Amiga Compiler (Phase 1)  6.50                Jun 17 1998 18:26:59                                                                            Page 88
;
;
;Line#  Block                                  Source
;179       1  	SXFunc.mainarg= buf;            // Mainline Argument
;180       1  	SXFunc.execarg = exe;           // Execute Argument
;181
;182       1     XIMFunction(1506, (long)&SXFunc, 0); // SX_FUNCTION
;183       1  }
;184
6.50 (Cross Reference)        Jun 17 1998 18:27:13                         Page 1


      SYMBOL        ATTRIBUTES AND CROSS REFERENCE


__builtin_strcmp near function returning int
                 AA-dev:RockFront/RockFront.c: 64

__builtin_strcpy near function returning pointer to char
                 AA-dev:RockFront/RockFront.c: 89

argc             int
                 AA-dev:RockFront/RockFront.c: 48

argv             pointer to pointer to char
                 AA-dev:RockFront/RockFront.c: 48, 52, 56

bbsport          pointer to struct "MsgPort"
                 AA-dev:RockFront/RockFront.c: 29, 57, 58, 90

buf              pointer to char
                 AA-dev:RockFront/RockFront.c: 40

buf              array [256] of char
                 AA-dev:RockFront/RockFront.c: 101, 117, 118, 123, 124, 129, 130,
                             136, 137, 141, 142

buf              pointer to char
                 AA-dev:RockFront/RockFront.c: 172, 179

buff             array [128] of char
                 AA-dev:RockFront/RockFront.c: 101

BOOL             short
                 AA-dev:RockFront/RockFront.c: 45

Command          int in struct "JHMessage" (offset: 224)
                 AA-dev:RockFront/RockFront.c: 36, 88

CreateMsgPort    near function returning pointer to struct "MsgPort" (size 34
                 bytes)
                 AA-dev:RockFront/RockFront.c: 82

data             long
                 AA-dev:RockFront/RockFront.c: 42

data             long
                 AA-dev:RockFront/RockFront.c: 78, 87

dsf              pointer to char
                 AA-dev:RockFront/RockFront.c: 40

6.50 (Cross Reference)        Jun 17 1998 18:27:13                         Page 2


      SYMBOL        ATTRIBUTES AND CROSS REFERENCE



dsf              pointer to char
                 AA-dev:RockFront/RockFront.c: 172, 175

DOSBase          pointer to struct "DosLibrary"
                 AA-dev:RockFront/RockFront.c: 54, 137, 142

Data             int in struct "JHMessage" (offset: 220)
                 AA-dev:RockFront/RockFront.c: 35, 87

DeleteMsgPort    near function returning void
                 AA-dev:RockFront/RockFront.c: 92

Door             near function returning void
                 AA-dev:RockFront/RockFront.c: 43, 66, 99

exe              pointer to char
                 AA-dev:RockFront/RockFront.c: 40

exe              pointer to char
                 AA-dev:RockFront/RockFront.c: 172, 180

execarg          pointer to char in struct "SXFuncStruct" (offset: 16)
                 AA-dev:RockFront/RockFront.c: 26, 180

extra            unsigned short in enum <no tag> (offset: 6)
                 AA-dev:RockFront/RockFront.c: 176

extra            int
                 AA-dev:RockFront/RockFront.c: 172, 176

extra            int
                 AA-dev:RockFront/RockFront.c: 40

extra            unsigned short in struct "SXFuncStruct" (offset: 6)
                 AA-dev:RockFront/RockFront.c: 22

Execute          near function returning "LONG"
                 AA-dev:RockFront/RockFront.c: 137, 142

fid              int
                 AA-dev:RockFront/RockFront.c: 40

fid              int
                 AA-dev:RockFront/RockFront.c: 172, 174

func             int
                 AA-dev:RockFront/RockFront.c: 42

6.50 (Cross Reference)        Jun 17 1998 18:27:13                         Page 3


      SYMBOL        ATTRIBUTES AND CROSS REFERENCE



func             int
                 AA-dev:RockFront/RockFront.c: 78, 88

FALSE            #define symbol
                 AA-dev:RockFront/RockFront.c: 64

FindPort         near function returning pointer to struct "MsgPort" (size 34
                 bytes)
                 AA-dev:RockFront/RockFront.c: 57

high             unsigned short in struct "SXFuncStruct" (offset: 10)
                 AA-dev:RockFront/RockFront.c: 24, 178

id               unsigned short in struct "SXFuncStruct" (offset: 0)
                 AA-dev:RockFront/RockFront.c: 20, 174

JHMessage        struct tag (size 228 bytes)
                 AA-dev:RockFront/RockFront.c: 31, 38, 85
                 members:
                   Msg (offset: 0)
                   String (offset: 20)
                   Data (offset: 220)
                   Command (offset: 224)

low              unsigned short in struct "SXFuncStruct" (offset: 8)
                 AA-dev:RockFront/RockFront.c: 23, 177

mainarg          pointer to char in enum <no tag> (offset: 12)
                 AA-dev:RockFront/RockFront.c: 179

main             near function returning int
                 AA-dev:RockFront/RockFront.c: 48

mainarg          pointer to char in struct "SXFuncStruct" (offset: 12)
                 AA-dev:RockFront/RockFront.c: 25

menu             near function returning void
                 AA-dev:RockFront/RockFront.c: 153

mn_Length        unsigned short in struct "Message" (offset: 18)
                 AA-dev:RockFront/RockFront.c: 85

mn_ReplyPort     pointer to struct "MsgPort" in struct "Message" (offset: 14)
                 AA-dev:RockFront/RockFront.c: 86

Message          struct tag (size 20 bytes)
                 AA-dev:RockFront/RockFront.c: 90
                 members:
                   mn_Node (offset: 0)
6.50 (Cross Reference)        Jun 17 1998 18:27:13                         Page 4


      SYMBOL        ATTRIBUTES AND CROSS REFERENCE



                   mn_ReplyPort (offset: 14)
                   mn_Length (offset: 18)

Message          struct tag (size 20 bytes)
                 AA-dev:RockFront/RockFront.c: 33
                 members:
                   mn_Node (offset: 0)
                   mn_ReplyPort (offset: 14)
                   mn_Length (offset: 18)

Msg              struct "Message" (size 20 bytes) in struct "JHMessage" (offset:
                 0)
                 AA-dev:RockFront/RockFront.c: 33, 85, 86

MsgPort          struct tag (size 34 bytes)
                 AA-dev:RockFront/RockFront.c: 29, 80
                 members:
                   mp_Node (offset: 0)
                   mp_Flags (offset: 14)
                   mp_SigBit (offset: 15)
                   mp_SigTask (offset: 16)
                   mp_MsgList (offset: 20)

portname         array [16] of char
                 AA-dev:RockFront/RockFront.c: 50, 56, 57

PS               near function returning void
                 AA-dev:RockFront/RockFront.c: 41, 73, 104, 105, 106, 107, 108,
                             135, 144

PutMsg           near function returning void
                 AA-dev:RockFront/RockFront.c: 90

PutStr           near function returning "LONG"
                 AA-dev:RockFront/RockFront.c: 54

replyport        pointer to struct "MsgPort"
                 AA-dev:RockFront/RockFront.c: 80, 82, 83, 86, 91, 92

sprintf          near __stdargs function returning int
                 AA-dev:RockFront/RockFront.c: 56, 117, 123, 129, 136, 141

str              pointer to char
                 AA-dev:RockFront/RockFront.c: 41

str              pointer to char
                 AA-dev:RockFront/RockFront.c: 42

6.50 (Cross Reference)        Jun 17 1998 18:27:13                         Page 5


      SYMBOL        ATTRIBUTES AND CROSS REFERENCE



str              pointer to char
                 AA-dev:RockFront/RockFront.c: 73, 75(2)

str              pointer to char
                 AA-dev:RockFront/RockFront.c: 78, 89(3)

strcmp           #define symbol  (2 arguments)
                 AA-dev:RockFront/RockFront.c: 64

strcpy           #define symbol  (2 arguments)
                 AA-dev:RockFront/RockFront.c: 89

string           pointer to char in struct "SXFuncStruct" (offset: 2)
                 AA-dev:RockFront/RockFront.c: 21, 175

sx               "BOOL"
                 AA-dev:RockFront/RockFront.c: 45, 64(2), 75

SXFuncStruct     struct tag (size 20 bytes)
                 AA-dev:RockFront/RockFront.c: 18
                 members:
                   id (offset: 0)
                   string (offset: 2)
                   extra (offset: 6)
                   low (offset: 8)
                   high (offset: 10)
                   mainarg (offset: 12)
                   execarg (offset: 16)

SXFunc           struct "SXFuncStruct" (size 20 bytes)
                 AA-dev:RockFront/RockFront.c: 27, 174, 175, 176, 177, 178, 179,
                             180, 182

SXFunction       near function returning void
                 AA-dev:RockFront/RockFront.c: 40, 118, 124, 130, 139, 172

String           array [200] of char in struct "JHMessage" (offset: 20)
                 AA-dev:RockFront/RockFront.c: 34, 64, 89, 110, 113, 159

SysBase          pointer to struct "ExecBase"
                 AA-dev:RockFront/RockFront.c: 57, 82, 90, 91, 92

themsg           struct "JHMessage" (size 228 bytes)
                 AA-dev:RockFront/RockFront.c: 38, 64, 85, 86, 87, 88, 89, 90,
                             110, 113, 159

TRUE             #define symbol
                 AA-dev:RockFront/RockFront.c: 64

6.50 (Cross Reference)        Jun 17 1998 18:27:13                         Page 6


      SYMBOL        ATTRIBUTES AND CROSS REFERENCE



UWORD            unsigned short
                 AA-dev:RockFront/RockFront.c: 20, 22, 23, 24

WaitPort         near function returning pointer to struct "Message" (size 20
                 bytes)
                 AA-dev:RockFront/RockFront.c: 91

XIMFunction      near function returning void
                 AA-dev:RockFront/RockFront.c: 42, 60, 68, 75(2), 78, 111, 157,
                             158, 182

y                int
                 AA-dev:RockFront/RockFront.c: 156, 164
